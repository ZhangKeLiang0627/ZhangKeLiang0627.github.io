<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ã€æ ‘è“æ´¾ã€‘æ ‘è“æ´¾ä½¿ç”¨HomeAssistantè¿æ¥ESPHome</title>
    <link href="/2025/01/14/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/README/"/>
    <url>/2025/01/14/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€æ ‘è“æ´¾ã€‘æ ‘è“æ´¾ä½¿ç”¨HomeAssistantè¿æ¥ESPHome"><a href="#ã€æ ‘è“æ´¾ã€‘æ ‘è“æ´¾ä½¿ç”¨HomeAssistantè¿æ¥ESPHome" class="headerlink" title="ã€æ ‘è“æ´¾ã€‘æ ‘è“æ´¾ä½¿ç”¨HomeAssistantè¿æ¥ESPHome"></a>ã€æ ‘è“æ´¾ã€‘æ ‘è“æ´¾ä½¿ç”¨HomeAssistantè¿æ¥ESPHome</h3><h3 id="ã€Raspberry-Raspberry-Pi-use-HomeAssistant-to-connect-ESPHome"><a href="#ã€Raspberry-Raspberry-Pi-use-HomeAssistant-to-connect-ESPHome" class="headerlink" title="ã€Raspberry Raspberry Pi use HomeAssistant to connect ESPHome"></a>ã€Raspberry Raspberry Pi use HomeAssistant to connect ESPHome</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><div class="note note-warning">            <p>å¤šå›¾è­¦å‘Šï¼è¯·æµé‡å…šæŠ“ç´§è¿ä¸ŠWiFiï¼Œæ‚å¥½é’±åŒ…ï¼Œæˆ‘ä»¬ï¼Œå‡ºå‘ï¼</p>          </div><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image.png" alt="HomeAssistant logo"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-3.png" alt="ESPHome logo"></div></div></div><p><code>HomeAssistant</code>æ˜¯ä¸€ä¸ªå¼€æºçš„æ™ºèƒ½å®¶å±…è‡ªåŠ¨åŒ–å¹³å°ï¼Œå®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–çš„ç³»ç»Ÿæ¥æ§åˆ¶å’Œç®¡ç†å®¶ä¸­çš„å„ç§æ™ºèƒ½è®¾å¤‡ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªæ— éœ€ä¾èµ–ç‰¹å®šåˆ¶é€ å•†çš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤ï¼Œå®ƒå¯ä»¥é›†æˆæ¥è‡ªä¸åŒå“ç‰Œçš„æ™ºèƒ½è®¾å¤‡ï¼ˆå¦‚Xiaomiï¼‰ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå¼€æ”¾ä¸”å¯å®šåˆ¶çš„æ™ºèƒ½å®¶å±…ä½“éªŒã€‚</p><p><code>ESPHome</code> is a system to control your microcontrollers by simple yet powerful configuration files and control them remotely through Home Automation systems.</p><blockquote><p>HomeAssistantå®˜ç½‘ï¼š<a href="https://www.home-assistant.io/">https://www.home-assistant.io</a><br>ESPHomeå®˜ç½‘ï¼š<a href="https://esphome.io/">https://esphome.io</a></p></blockquote><p>ä»Šå¤©å’±ä»¬ä½¿ç”¨<code>HomeAssistant</code>æ¥å…¥<code>ESPHome</code>ï¼Œäº‹ä¸å®œè¿Ÿï¼Œè¶çƒ­æ‰“é“ï¼Œæˆ‘ä»¬å¼€å§‹ï¼</p><h4 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h4><ul><li>ç¡¬ä»¶ï¼šRaspberry Pi 4B</li><li>é•œåƒç‰ˆæœ¬ï¼š<code>HA-OS</code>ç‰ˆæœ¬ HomeAssistant</li></ul><h4 id="HomeAssistant-ç‰ˆæœ¬"><a href="#HomeAssistant-ç‰ˆæœ¬" class="headerlink" title="HomeAssistant ç‰ˆæœ¬"></a>HomeAssistant ç‰ˆæœ¬</h4><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-5.png"></p><p><code>HomeAssistant</code>ä¸€å…±æ¨å‡ºäº†4ç§ç‰ˆæœ¬ï¼šHA-OS, Docker, Core, Supervised.</p><p>ä¼˜å…ˆæ¨èå®‰è£…<code>HA-OS</code>ç‰ˆæœ¬<a href="https://www.home-assistant.io/installation/raspberrypi">å®˜æ–¹è¯¦ç»†æ•™ç¨‹æˆ³è¿™é‡Œ:)</a>ï¼Œå› ä¸ºè¯¥ç‰ˆæœ¬å®‰è£…ç®€æ˜“ï¼ŒåŒæ—¶æœ‰<code>Add-on</code>å’Œ<code>Superviser</code>ï¼Œæ‹¥æœ‰åŠ è½½é¡¹å•†åº—ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸‹è½½æ’ä»¶ï¼</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°ä½¿ç”¨æ ‘è“æ´¾ HomeAssistant çš„<code>HA-OS</code>ç‰ˆæœ¬è¿æ¥<code>ESPHome</code>ã€‚</em></strong></p><hr><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><h4 id="ä¸‹è½½ESPHomeæ’ä»¶"><a href="#ä¸‹è½½ESPHomeæ’ä»¶" class="headerlink" title="ä¸‹è½½ESPHomeæ’ä»¶"></a>ä¸‹è½½ESPHomeæ’ä»¶</h4><p>So easy!!! Please just follow the pictures below:</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-4.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-21.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-6.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-7.png"></div></div></div><h4 id="æ·»åŠ æ–°çš„Device"><a href="#æ·»åŠ æ–°çš„Device" class="headerlink" title="æ·»åŠ æ–°çš„Device"></a>æ·»åŠ æ–°çš„Device</h4><div class="note note-info">            <p>è¿™é‡Œä»¥ESP32S3ä¸ºä¾‹ï¼š</p>          </div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-8.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-9.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-10.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-11.png"></div></div></div><h4 id="çƒ§å½•ESPHomeå›ºä»¶"><a href="#çƒ§å½•ESPHomeå›ºä»¶" class="headerlink" title="çƒ§å½•ESPHomeå›ºä»¶"></a>çƒ§å½•ESPHomeå›ºä»¶</h4><ol><li>ç”Ÿæˆåœ¨çº¿çƒ§å½•çš„binæ–‡ä»¶ï¼š</li></ol><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-12.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-13.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-18.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-19.png"></div></div></div><p>ä»¥ä¸‹ä¸º<code>YAML</code>æ–‡ä»¶çš„æ¨¡æ¿ï¼Œæ­¤æ–‡ä»¶å°†ç”¨äºè®¾ç½®æ‰€æœ‰æ¿é…ç½®ã€‚</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">â–¶</div>YAMLæ–‡ä»¶çš„æ¨¡æ¿ï¼ˆESP32S3      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">esphome:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">my-esp32s3</span><br>  <span class="hljs-attr">friendly name:</span> <span class="hljs-string">my-esp32s3</span><br>  <span class="hljs-attr">platformio_options:</span><br>    <span class="hljs-attr">build_flags:</span> <span class="hljs-string">-DBOARD_HAS_PSRAM</span><br>    <span class="hljs-attr">board_build.arduino.memory_type:</span> <span class="hljs-string">qio_opi</span><br>    <span class="hljs-attr">board_build.f_flash:</span> <span class="hljs-string">80000000L</span><br>    <span class="hljs-attr">board_build.flash_mode:</span> <span class="hljs-string">qio</span> <br><br><span class="hljs-attr">esp32:</span><br>  <span class="hljs-attr">board:</span> <span class="hljs-string">esp32-s3-devkitc-1</span><br>  <span class="hljs-attr">framework:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">arduino</span><br><br><span class="hljs-comment"># Enable logging</span><br><span class="hljs-attr">logger:</span><br><br><span class="hljs-comment"># Enable Home Assistant API</span><br><span class="hljs-attr">api:</span><br>  <span class="hljs-attr">encryption:</span><br>    <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;gbDi6S+wV/rr890ytxP1aD+lgdJOk/Wi52Q5RcK1BGc=&quot;</span><br><span class="hljs-attr">ota:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">esphome</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;1e7a2bdcdbcac1e989f1890679d09122&quot;</span><br><br><span class="hljs-attr">wifi:</span><br>  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;your wifi name&quot;</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;your wifi password&quot;</span><br><br>  <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span><br>  <span class="hljs-attr">ap:</span><br>    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;My-Esp32s3 Fallback Hotspot&quot;</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;MoLTqZUvHwWI&quot;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><ol start="2"><li>ä½¿ç”¨ESP32åœ¨çº¿çƒ§å½•å·¥å…·ï¼š<a href="https://web.esphome.io/">https://web.esphome.io/</a> ï¼Œå°†binæ–‡ä»¶çƒ§å½•åˆ°MCUå½“ä¸­ï¼š</li></ol><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-14.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-15.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-16.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-17.png"></div></div></div><p>çƒ§å½•æˆåŠŸé¡µé¢å¦‚ä¸‹ï¼š<br><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-20.png"></p><h4 id="HomeAssistantè¿æ¥Device"><a href="#HomeAssistantè¿æ¥Device" class="headerlink" title="HomeAssistantè¿æ¥Device"></a>HomeAssistantè¿æ¥Device</h4><div class="note note-warning">            <p>æ³¨æ„ï¼šDeviceè¿æ¥çš„WiFiå¿…é¡»è¦ä¸HomeAssistantåœ¨åŒä¸€å±€åŸŸç½‘ä¹‹ä¸‹ï¼å¦‚æœè·¯ç”±å™¨WiFiåˆ†ä¸º2.4Gå’Œ5Gï¼Œæœ€å¥½éƒ½è¿æ¥ä½¿ç”¨2.4Gçš„ï¼ˆ2.4Gçš„WiFiå¯¹ESP32å…¼å®¹ï¼Œ5Gå¯èƒ½ä¸è¡Œï¼Œä¸è¦ä¸€ä¸ªä½¿ç”¨2.4Gï¼Œä¸€ä¸ªä½¿ç”¨5Gï¼</p>          </div><div class="note note-warning">            <p>Plusï¼šå¦‚æœé‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼š</p><ol><li>HAå’ŒDeviceæ˜¯å¦åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œæ£€æŸ¥Deviceçš„ipåœ°å€æ˜¯å¦å¡«å†™æ­£ç¡®ï¼›</li><li>ç¡®ä¿å·²ç»åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œipåœ°å€æ— è¯¯ï¼Œå¯èƒ½æ˜¯ç½‘ç»œä¿¡å·å·®ï¼Œè¿ç»­å¤šç‚¹å‡ æ¬¡<code>æäº¤</code>å°±èƒ½è¿æ¥æˆåŠŸã€‚</li></ol><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-22.png"></p>          </div><div class="note note-success">            <p>æç¤ºï¼šæœ€å¥½ä½¿ç”¨ 2.4GHz Wi-Fiï¼</p>          </div><p>è·Ÿéšä»¥ä¸‹å›¾ç‰‡åˆ†è§£æ­¥éª¤å³å¯å®Œæˆ HomeAssistant è¿æ¥æ–°çš„ Deviceï¼š</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-23.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-24.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-25.png"></div><div class="group-image-wrap"><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8HomeAssistant%E8%BF%9E%E6%8E%A5ESPHome/image-26.png"></div></div></div><p>â€¦</p><h4 id="ESPHomeçš„yamlæ–‡ä»¶ç¼–å†™ï¼ˆæ ¹æ®ä¸åŒä¼ æ„Ÿå™¨éœ€æ±‚"><a href="#ESPHomeçš„yamlæ–‡ä»¶ç¼–å†™ï¼ˆæ ¹æ®ä¸åŒä¼ æ„Ÿå™¨éœ€æ±‚" class="headerlink" title="ESPHomeçš„yamlæ–‡ä»¶ç¼–å†™ï¼ˆæ ¹æ®ä¸åŒä¼ æ„Ÿå™¨éœ€æ±‚"></a>ESPHomeçš„yamlæ–‡ä»¶ç¼–å†™ï¼ˆæ ¹æ®ä¸åŒä¼ æ„Ÿå™¨éœ€æ±‚</h4><ul><li>Binary LED + SPG30 + DHT11 (ESP32S3)</li></ul>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">â–¶</div>YAMLæ–‡ä»¶çš„æ¨¡æ¿ï¼ˆESP32S3      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">esphome:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">my-esp32s3</span><br>  <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">my-esp32s3</span><br><br><br><span class="hljs-attr">esp32:</span><br>  <span class="hljs-attr">board:</span> <span class="hljs-string">esp32-s3-devkitc-1</span><br>  <span class="hljs-attr">framework:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">arduino</span><br><br><span class="hljs-comment"># Enable logging</span><br><span class="hljs-attr">logger:</span><br><br><span class="hljs-comment"># Enable Home Assistant API</span><br><span class="hljs-attr">api:</span><br>  <span class="hljs-attr">encryption:</span><br>    <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;gbDi6S+wV/rr890ytxP1aD+lgdJOk/Wi52Q5RcK1BGc=&quot;</span><br><br><span class="hljs-attr">ota:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">esphome</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;1e7a2bdcdbcac1e989f1890679d09122&quot;</span><br><br><span class="hljs-attr">wifi:</span><br>  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;HUGO&quot;</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;12345678&quot;</span><br><br>  <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span><br>  <span class="hljs-attr">ap:</span><br>    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;My-Esp32S3 Fallback Hotspot&quot;</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;LakYDi3jZIKg&quot;</span><br><br><span class="hljs-comment"># I2C configuration for i2c sensor</span><br><span class="hljs-attr">i2c:</span><br>  <span class="hljs-attr">sda:</span> <span class="hljs-string">GPIO5</span><br>  <span class="hljs-attr">scl:</span> <span class="hljs-string">GPIO6</span><br>  <span class="hljs-attr">scan:</span> <span class="hljs-literal">True</span><br>  <span class="hljs-attr">id:</span> <span class="hljs-string">bus_a</span><br>  <span class="hljs-attr">frequency:</span> <span class="hljs-string">400kHz</span><br><br><span class="hljs-comment"># Example configuration entry</span><br><span class="hljs-attr">switch:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">gpio</span><br>    <span class="hljs-attr">pin:</span> <span class="hljs-string">GPIO1</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Living Room light&quot;</span><br><br><span class="hljs-attr">captive_portal:</span><br><br><span class="hljs-attr">sensor:</span>       <br>  <span class="hljs-comment"># Sensor configuration for dht11</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">dht</span><br>    <span class="hljs-attr">pin:</span> <span class="hljs-string">GPIO44</span><br>    <span class="hljs-attr">temperature:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Temperature&quot;</span><br>    <span class="hljs-attr">humidity:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Humidity&quot;</span><br>    <span class="hljs-attr">update_interval:</span> <span class="hljs-string">5s</span> <span class="hljs-comment"># æ•°æ®æ¯5sç›‘æµ‹ä¸€æ¬¡</span><br>    <span class="hljs-attr">model:</span> <span class="hljs-string">&quot;DHT11&quot;</span>  <br><br>  <span class="hljs-comment"># Sensor configuration for SGP30</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">sgp30</span><br>    <span class="hljs-attr">eco2:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Workshop eCO2&quot;</span><br>      <span class="hljs-attr">accuracy_decimals:</span> <span class="hljs-number">1</span> <span class="hljs-comment"># æ•°æ®ç²¾ç¡®åˆ°å°æ•°ç‚¹å1ä½</span><br>    <span class="hljs-attr">tvoc:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;Workshop TVOC&quot;</span><br>      <span class="hljs-attr">accuracy_decimals:</span> <span class="hljs-number">1</span> <span class="hljs-comment"># æ•°æ®ç²¾ç¡®åˆ°å°æ•°ç‚¹å1ä½</span><br>    <span class="hljs-attr">store_baseline:</span> <span class="hljs-literal">yes</span><br>    <span class="hljs-attr">address:</span> <span class="hljs-number">0x58</span><br>    <span class="hljs-attr">update_interval:</span> <span class="hljs-string">5s</span> <span class="hljs-comment"># æ•°æ®æ¯5sç›‘æµ‹ä¸€æ¬¡</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><ul><li>ESP-Camera (XIAO-ESP32S3)</li></ul>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">â–¶</div>YAMLæ–‡ä»¶çš„æ¨¡æ¿ï¼ˆXIAO-ESP32S3      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">esphome:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">my-esp32s3-camera</span><br>  <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">my-esp32s3-camera</span><br><br>  <span class="hljs-comment"># PlatformIO build options</span><br>  <span class="hljs-attr">platformio_options:</span><br>    <span class="hljs-attr">build_flags:</span> <span class="hljs-string">-DBOARD_HAS_PSRAM</span><br>    <span class="hljs-attr">board_build.arduino.memory_type:</span> <span class="hljs-string">qio_opi</span><br>    <span class="hljs-attr">board_build.f_flash:</span> <span class="hljs-string">80000000L</span><br>    <span class="hljs-attr">board_build.flash_mode:</span> <span class="hljs-string">qio</span> <br><br><span class="hljs-comment"># Configuration for ESP32</span><br><span class="hljs-attr">esp32:</span><br>  <span class="hljs-attr">board:</span> <span class="hljs-string">esp32-s3-devkitc-1</span><br>  <span class="hljs-attr">framework:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">arduino</span><br><br><span class="hljs-comment"># Enable logging</span><br><span class="hljs-attr">logger:</span><br><br><span class="hljs-comment"># Enable Home Assistant API</span><br><span class="hljs-attr">api:</span><br>  <span class="hljs-attr">encryption:</span><br>    <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;0VVmbx1JdrIWI8sw+TneEf0oEi0vkQnNLuP3Vl6EvMQ=&quot;</span><br><br><span class="hljs-attr">ota:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">esphome</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;0237fcf68dea46990481fb72466c2cdc&quot;</span><br><br><span class="hljs-attr">wifi:</span><br>  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;HUGO&quot;</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;12345678&quot;</span><br><br>  <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span><br>  <span class="hljs-attr">ap:</span><br>    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;My-Esp32S3-Camera&quot;</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;gqgYC1lZTiFD&quot;</span><br><br><span class="hljs-attr">captive_portal:</span><br><br><span class="hljs-comment"># Configuration for the ESP32 Camera</span><br><span class="hljs-attr">esp32_camera:</span><br>  <span class="hljs-attr">id:</span> <span class="hljs-string">espcam</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Camera</span><br>  <span class="hljs-attr">external_clock:</span><br>    <span class="hljs-attr">pin:</span> <span class="hljs-string">GPIO10</span><br>    <span class="hljs-attr">frequency:</span> <span class="hljs-string">20MHz</span><br>  <span class="hljs-attr">i2c_pins:</span><br>    <span class="hljs-attr">sda:</span> <span class="hljs-string">GPIO40</span><br>    <span class="hljs-attr">scl:</span> <span class="hljs-string">GPIO39</span><br>  <span class="hljs-attr">data_pins:</span> [<span class="hljs-string">GPIO15</span>, <span class="hljs-string">GPIO17</span>, <span class="hljs-string">GPIO18</span>, <span class="hljs-string">GPIO16</span>, <span class="hljs-string">GPIO14</span>, <span class="hljs-string">GPIO12</span>, <span class="hljs-string">GPIO11</span>, <span class="hljs-string">GPIO48</span>]<br>  <span class="hljs-attr">vsync_pin:</span> <span class="hljs-string">GPIO38</span><br>  <span class="hljs-attr">href_pin:</span> <span class="hljs-string">GPIO47</span><br>  <span class="hljs-attr">pixel_clock_pin:</span> <span class="hljs-string">GPIO13</span><br>  <span class="hljs-attr">resolution:</span> <span class="hljs-string">800x600</span><br>  <br><span class="hljs-comment"># Configuration for the ESP32 Camera Web Server</span><br><span class="hljs-attr">esp32_camera_web_server:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span><br>    <span class="hljs-attr">mode:</span> <span class="hljs-string">stream</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">8081</span><br>    <span class="hljs-attr">mode:</span> <span class="hljs-string">snapshot</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><ul><li>WS2812 (ESP32C3)</li></ul>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9c51fa20" role="button" aria-expanded="false" aria-controls="collapse-9c51fa20">        <div class="fold-arrow">â–¶</div>YAMLæ–‡ä»¶çš„æ¨¡æ¿ï¼ˆESP32C3      </div>      <div class="fold-collapse collapse" id="collapse-9c51fa20">        <div class="fold-content">          <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">esphome:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">my-esp32c3</span><br>  <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">my-esp32c3</span><br><br><span class="hljs-attr">esp32:</span><br>  <span class="hljs-attr">board:</span> <span class="hljs-string">esp32-c3-devkitm-1</span><br>  <span class="hljs-attr">framework:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">arduino</span><br><br><span class="hljs-comment"># Enable logging</span><br><span class="hljs-attr">logger:</span><br><br><span class="hljs-comment"># Enable Home Assistant API</span><br><span class="hljs-attr">api:</span><br>  <span class="hljs-attr">encryption:</span><br>    <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;giFi9MI6pdcoc+WdXm84dSaRFIbc8cn/TifIG6/V/Js=&quot;</span><br><br><span class="hljs-attr">ota:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">esphome</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;c73e533495a8ca7f3fcc39fd47a3182b&quot;</span><br><br><span class="hljs-attr">wifi:</span><br>  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;HUGO&quot;</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;12345678&quot;</span><br>  <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span><br>  <span class="hljs-attr">ap:</span><br>    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;My-Esp32C3 Fallback Hotspot&quot;</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;uV72qROO5gCX&quot;</span><br><br><span class="hljs-attr">captive_portal:</span><br>    <br><span class="hljs-attr">light:</span><br><span class="hljs-comment">#WS2812_RGB</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">neopixelbus</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">GRB</span><br>    <span class="hljs-attr">variant:</span> <span class="hljs-string">WS2812</span><br>    <span class="hljs-attr">pin:</span> <span class="hljs-string">GPIO2</span><br>    <span class="hljs-attr">num_leds:</span> <span class="hljs-number">60</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;RGB_LED&quot;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-4.png" alt="HomeAssistant logo"></p><p>é¸£è°¢ï¼š</p><ul><li><a href="https://blog.csdn.net/vor234/article/details/135843695">https://blog.csdn.net/vor234/article/details/135843695</a></li><li><a href="https://blog.csdn.net/m0_57530281/article/details/125693037">https://blog.csdn.net/m0_57530281/article/details/125693037</a></li><li><a href="https://blog.csdn.net/nowboy4/article/details/123804170">https://blog.csdn.net/nowboy4/article/details/123804170</a></li><li><a href="https://blog.csdn.net/qq_42250136/article/details/137674700">https://blog.csdn.net/qq_42250136/article/details/137674700</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>RaspberryPi</tag>
      
      <tag>HomeAssistant</tag>
      
      <tag>ESPHome</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ ‘è“æ´¾ã€‘åœ¨æ ‘è“æ´¾éƒ¨ç½²HomeAssistant</title>
    <link href="/2025/01/09/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/README/"/>
    <url>/2025/01/09/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€æ ‘è“æ´¾ã€‘åœ¨æ ‘è“æ´¾éƒ¨ç½²HomeAssistant"><a href="#ã€æ ‘è“æ´¾ã€‘åœ¨æ ‘è“æ´¾éƒ¨ç½²HomeAssistant" class="headerlink" title="ã€æ ‘è“æ´¾ã€‘åœ¨æ ‘è“æ´¾éƒ¨ç½²HomeAssistant"></a>ã€æ ‘è“æ´¾ã€‘åœ¨æ ‘è“æ´¾éƒ¨ç½²HomeAssistant</h3><h3 id="ã€Raspberry-PIã€‘Deploy-HomeAssistant-on-Raspberry-Pi"><a href="#ã€Raspberry-PIã€‘Deploy-HomeAssistant-on-Raspberry-Pi" class="headerlink" title="ã€Raspberry PIã€‘Deploy HomeAssistant on Raspberry Pi"></a>ã€Raspberry PIã€‘Deploy HomeAssistant on Raspberry Pi</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><!-- ![HomeAssistant logo](images/MyRaspberryPiLearningGuide/æ ‘è“æ´¾éƒ¨ç½²HomeAssistant/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image.png" alt="HomeAssistant logo"></p><p><code>HomeAssistant</code>æ˜¯ä¸€ä¸ªå¼€æºçš„æ™ºèƒ½å®¶å±…è‡ªåŠ¨åŒ–å¹³å°ï¼Œå®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–çš„ç³»ç»Ÿæ¥æ§åˆ¶å’Œç®¡ç†å®¶ä¸­çš„å„ç§æ™ºèƒ½è®¾å¤‡ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªæ— éœ€ä¾èµ–ç‰¹å®šåˆ¶é€ å•†çš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤ï¼Œå®ƒå¯ä»¥é›†æˆæ¥è‡ªä¸åŒå“ç‰Œçš„æ™ºèƒ½è®¾å¤‡ï¼ˆå¦‚Xiaomiï¼‰ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå¼€æ”¾ä¸”å¯å®šåˆ¶çš„æ™ºèƒ½å®¶å±…ä½“éªŒã€‚</p><blockquote><p>HomeAssistantå®˜ç½‘ï¼š<a href="https://www.home-assistant.io/">https://www.home-assistant.io</a></p></blockquote><p>å­¦ä¹ éœ€è¦ç”¨åˆ°<code>HomeAssistant</code>å•¦ï¼Œè¿™ä¸ªè¯å…¶å®å¯¹æˆ‘æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œä½†æ˜¯ä»å‰éƒ½åªæ˜¯åªå¬å…¶åä¸è§é—»å…¶å£°ï¼Œå¦‚ä»Šç»ˆäºè¦ä¸Šæ‰‹å•¦ï¼æ‹¯æ•‘è½ç°æ ‘è“æ´¾è¡ŒåŠ¨ï¼å‡ºå‘ï¼</p><h4 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h4><ul><li>ç¡¬ä»¶ï¼šRaspberry Pi 4B</li><li>é•œåƒç‰ˆæœ¬ï¼š<strong>HA-OSç‰ˆæœ¬ HomeAssistant</strong> or <strong>2022-09-22-raspios-bullseye-arm64.img</strong>ï¼š<a href="https://mirror.sjtu.edu.cn/raspberry-pi-os-images/raspios_arm64/images/raspios_arm64-2022-09-26/">-&gt; ä¸Šäº¤çš„é•œåƒæº</a></li><li>Pythonç‰ˆæœ¬ï¼š<code>3.9.2</code></li></ul><h4 id="HomeAssistant-ç‰ˆæœ¬"><a href="#HomeAssistant-ç‰ˆæœ¬" class="headerlink" title="HomeAssistant ç‰ˆæœ¬"></a>HomeAssistant ç‰ˆæœ¬</h4><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-5.png"></p><p><code>HomeAssistant</code>ä¸€å…±æ¨å‡ºäº†4ç§ç‰ˆæœ¬ï¼šHA-OS, Docker, Core, Supervised.</p><p>ä¼˜å…ˆæ¨èå®‰è£…<code>HA-OS</code>ç‰ˆæœ¬ï¼Œå› ä¸ºè¯¥ç‰ˆæœ¬å®‰è£…ç®€æ˜“ï¼ŒåŒæ—¶æœ‰<code>Add-on</code>å’Œ<code>Superviser</code>ï¼Œæ‹¥æœ‰åŠ è½½é¡¹å•†åº—ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¸‹è½½æ’ä»¶ï¼</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°åœ¨æ ‘è“æ´¾éƒ¨ç½² HomeAssistantï¼ˆ<code>HA-OS</code>å’Œ<code>Core</code>ï¼‰ã€‚</em></strong></p><hr><h3 id="å®‰è£…HA-OSç‰ˆæœ¬çš„HA"><a href="#å®‰è£…HA-OSç‰ˆæœ¬çš„HA" class="headerlink" title="å®‰è£…HA-OSç‰ˆæœ¬çš„HA"></a>å®‰è£…<code>HA-OS</code>ç‰ˆæœ¬çš„HA</h3><p>ç›´æ¥ä½¿ç”¨<code>Raspberry Pi Imager</code>å¯¹tfå¡è¿›è¡Œ<code>HA-OS</code>ç³»ç»Ÿçƒ§å½•å³å¯ï¼Œå…·ä½“æ“ä½œå®˜ç½‘å†™å¾—å¾ˆè¯¦ç»†ï¼š<a href="https://www.home-assistant.io/installation/raspberrypi">æˆ³è¿™é‡Œ:)</a></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œçƒ§å½•å¥½tfå¡åå°†tfå¡æ’å…¥æ ‘è“æ´¾ï¼Œæ­¤æ—¶æ ‘è“æ´¾å¤„äºæ— ç½‘ç»œçŠ¶æ€ï¼Œä½ å¯ä»¥ä½¿ç”¨ç½‘çº¿è¿æ¥æ ‘è“æ´¾ç»™å…¶æä¾›ç½‘ç»œç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨è®©æ ‘è“æ´¾è¿æ¥WiFiçš„æ–¹å¼è¿æ¥ç½‘ç»œï¼Œç”¨HDMIçº¿å°†æ ‘è“æ´¾è¿æ¥å±å¹•ï¼Œå±å¹•ä¼šæ˜¾ç¤ºæ ‘è“æ´¾è¾“å‡ºçš„å‘½ä»¤è¡Œä¿¡æ¯ (Home Assistant CLI)ï¼Œæ¥ä¸‹æ¥ï¼Œå°†ç¤ºèŒƒå¦‚ä½•ä½¿ç”¨<code>HomeAssistant</code>é¦–æ¬¡ä½¿ç”¨é…ç½®è¿æ¥æ— çº¿ç½‘ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">åœ¨é¦–æ¬¡ä½¿ç”¨Home Assistantæ“ä½œç³»ç»Ÿæ—¶ï¼Œæœ‰ç½‘çº¿æ–¹å¼å¯ä»¥ç›´æ¥è”ç½‘ï¼›æ²¡ç½‘çº¿æ—¶å°±éœ€è¦é…ç½®å¥½WiFiï¼Œå°±æ˜¯åœ¨haæç¤ºç¬¦ä¸‹è¾“å…¥ä»¥ä¸‹è”ç½‘å‘½ä»¤ï¼š</span><br>network update wlan0 --wifi-ssid &quot;ä½ çš„WiFiåç§°&quot; --wifi-psk ä½ çš„WiFiå¯†ç  --wifi-auth wpa-psk --wifi-mode infrastructure --ipv4-method auto<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ç½‘ç»œä¿¡æ¯ï¼ˆåŒ…æ‹¬ipåœ°å€ç­‰</span><br>network info<br></code></pre></td></tr></table></figure><blockquote><p><strong>Qï¼š</strong><code>homeassistant.local:8123</code>æ— æ³•è®¿é—®ä½†æ˜¯<code>homeassistant.local:4357</code>çš„<code>Observer</code>å¯è®¿é—®ï¼Ÿ<br><strong>Aï¼š</strong>å¦‚æœæ˜¯<code>404 not found</code>å°±å…¨éƒ¨æ¨å€’é‡æ¥ï¼›å¦‚æœæ˜¯æç¤ºæš‚æ—¶æ— æ³•è®¿é—®ï¼Œå…¶å®æ˜¯<code>Supervisor</code>åœ¨æ›´æ–°ï¼Œå¾—ç­‰å¾…å‡ åˆ†é’Ÿè‡³å‡ ä¸ªå°æ—¶ã€‚</p></blockquote><h3 id="å®‰è£…Coreç‰ˆæœ¬çš„HA"><a href="#å®‰è£…Coreç‰ˆæœ¬çš„HA" class="headerlink" title="å®‰è£…Coreç‰ˆæœ¬çš„HA"></a>å®‰è£…<code>Core</code>ç‰ˆæœ¬çš„HA</h3><h4 id="a-æ›´æ–°æº"><a href="#a-æ›´æ–°æº" class="headerlink" title="a. æ›´æ–°æº"></a>a. æ›´æ–°æº</h4><p>é¦–å…ˆï¼Œæ‹¿åˆ°è½ç°çš„å°æ ‘è“æ´¾ï¼Œå…ˆæ›´æ–°æºï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿè·å–åˆ°æœ€æ–°çš„è½¯ä»¶å’Œå®‰å…¨æ›´æ–°ï¼Œç¨å¾®ç­‰å¾…ï¼Œå®Œæˆå³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get update<br>sudo apt-get upgrade<br></code></pre></td></tr></table></figure><h4 id="b-å®‰è£…-HomeAssistant"><a href="#b-å®‰è£…-HomeAssistant" class="headerlink" title="b. å®‰è£… HomeAssistant"></a>b. å®‰è£… HomeAssistant</h4><ol><li>å…ˆå®‰è£…ä¸€ä¸‹ä¾èµ–ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install -y python3 python3-dev python3-venv python3-pip libffi-dev libssl-dev libjpeg-dev zlib1g-dev autoconf build-essential libopenjp2-7 libtiff5 --fix-missing<br></code></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</li></ol><ul><li>åˆ›å»ºå®‰è£…<code>Home Assistant</code>çš„ç›®å½•</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir ~/hass<br></code></pre></td></tr></table></figure><ul><li>åˆ›å»ºå¹¶æ¿€æ´»ç”¨äº<code>Home Assistant</code>çš„è™šæ‹Ÿç¯å¢ƒ</li></ul><p>å…ˆ<code>cd ~/hass</code>ï¼Œè¿›å…¥hassæ–‡ä»¶å¤¹å†…ï¼Œè¿™å°±æ˜¯ä»¥åè¦å®‰è£…homeassistantçš„ä½ç½®.</p><p>ç„¶åï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">python3 -m venv /home/pi/hass<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œæˆåï¼Œåœ¨hassæ–‡ä»¶å¤¹å†…<code>ls</code>ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹è§å¤šäº†å¾ˆå¤šæ–‡ä»¶ï¼Œè¯´æ˜è™šæ‹Ÿç¯å¢ƒå·²ç»åˆ›å»ºæˆåŠŸäº†â€¦(</p><ul><li>æ¥ä¸‹æ¥ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">source bin/activate<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°å‘½ä»¤è¡Œå‰å¤šåŠ äº†ä¸€ä¸ª<code>(hass)</code>ï¼Œå°±ä»£è¡¨ç¯å¢ƒæ¿€æ´»æˆåŠŸå•¦ï¼</p><ol start="3"><li>å®‰è£…HomeAssistant</li></ol><ul><li>è¿™é‡Œå›½å†…çš„ä¸‹è½½é€Ÿåº¦å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œå¯¼è‡´æ•°æ®ä¸¢åŒ…æŠ¥é”™ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸ºpip3ä¸‹è½½æºæ¢æºï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å…ˆä¸ºæ¢æºå‰çš„æ–‡ä»¶åšå¤‡ä»½</span><br>sudo cp /etc/pip.conf /etc/pip.conf.bak<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¸ºpip.confåŠ å…¥aliyunçš„ä¸‹è½½æº</span><br>sudo vi /etc/pip.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å°†å†…å®¹ä¿®æ”¹æˆä»¥ä¸‹å†…å®¹ï¼Œç„¶åä¿å­˜é€€å‡º</span><br>[global]<br>index-url=https://mirrors.aliyun.com/pypi/simple/<br>extra-index-url=https://www.piwheels.org/simple<br></code></pre></td></tr></table></figure><ul><li>æ¢æºåï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œå®‰è£…Python package.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">python3 -m pip install wheel<br></code></pre></td></tr></table></figure><ul><li>å®‰è£… Home Assistant Core.</li></ul><p>å®‰è£…æ—¶ä¼šç¨å¾®æœ‰äº›çˆ†è­¦å‘Šï¼Œä½†æ˜¯ä¸è¦ç´§çš„ï¼Œé™å¾…ä¸‹è½½å®Œæˆï¼Œçœ‹åˆ°ç»¿è‰²çš„<span class="label label-success">success</span>å­—æ ·è¯´æ˜å®‰è£…æˆåŠŸ.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip3 install homeassistant<br></code></pre></td></tr></table></figure><h4 id="b-å¯åŠ¨-HomeAssistant"><a href="#b-å¯åŠ¨-HomeAssistant" class="headerlink" title="b. å¯åŠ¨ HomeAssistant"></a>b. å¯åŠ¨ HomeAssistant</h4><ol><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ HomeAssistantï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">hass<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">orå¯åŠ¨æˆåŠŸä¼šå¸®æˆ‘æˆ‘ä»¬è‡ªåŠ¨æ‰“å¼€web</span><br>hass --open-ui<br></code></pre></td></tr></table></figure><p>é¦–æ¬¡å¯åŠ¨ Home Assistant æ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»º<code>~/.homeassistant</code>ç›®å½•ç”¨äºæ‰¿è½½é…ç½®æ–‡ä»¶ï¼Œå¹¶å®‰è£…æ‰€éœ€çš„åŸºç¡€ä¾èµ–ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šèŠ±è´¹ä¸€å®šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼ˆå¤§çº¦ååˆ†é’Ÿå·¦å³ï¼Œå¯ä»¥å»æ³¡æ¯å’–å•¡æ´»åŠ¨æ´»åŠ¨èº«ä½“â€¦</p><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-1.png" alt="é¦–æ¬¡å¯åŠ¨HA"></p><ol start="2"><li>ä½¿ç”¨å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡ï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®HAé¡µé¢</li></ol><p>å°±ç®—è¿‡äº†å¾ˆä¹…ï¼Œå‘½ä»¤è¡Œä¹Ÿæ²¡æœ‰åŠ¨é™æ²¡æœ‰è¾“å‡ºä»»ä½•ä¸œè¥¿çš„è¯ä¹Ÿä¸è¦ç´§ï¼Œæ‰“å¼€æµè§ˆå™¨å¦‚<code>Edge</code>ï¼Œè¾“å…¥<code>æ ‘è“æ´¾çš„ipåœ°å€:8123</code>ï¼Œä¾‹å¦‚<code>192.168.137.88:8123</code>ï¼ŒæŸ¥çœ‹æ˜¯å¦åˆå§‹åŒ–å®Œæˆã€‚</p><p>åˆå§‹åŒ–å®Œæˆåä¼šè¿›å…¥ä»¥ä¸‹é¡µé¢ï¼š</p><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-2.png" alt="HAæ³¨å†Œç•Œé¢"></p><p>æ¥ä¸‹æ¥åªè¦æŒ‰æ­¥éª¤æ³¨å†Œè´¦å·å¡«å†™ä¸ªäººä¿¡æ¯å³å¯è¿›å…¥HAç•Œé¢å•¦ï¼</p><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-3.png" alt="HAç”¨æˆ·ç•Œé¢"></p><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p><img src="/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E9%83%A8%E7%BD%B2HomeAssistant/image-4.png" alt="HomeAssistant logo"></p><p>é¸£è°¢ï¼š</p><ul><li><a href="https://blog.csdn.net/qq_41793286/article/details/129041488">https://blog.csdn.net/qq_41793286/article/details/129041488</a></li><li><a href="https://blog.csdn.net/weixin_44614230/article/details/127593587">https://blog.csdn.net/weixin_44614230/article/details/127593587</a></li><li><a href="https://blog.csdn.net/ajianlee/article/details/129956339">https://blog.csdn.net/ajianlee/article/details/129956339</a></li><li><a href="https://blog.csdn.net/q1uTruth/article/details/121625560">https://blog.csdn.net/q1uTruth/article/details/121625560</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>RaspberryPi</tag>
      
      <tag>HomeAssistant</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ESP32-Arduinoä¸­ä½¿ç”¨ä½åŠŸè€—è“ç‰™BLE</title>
    <link href="/2025/01/04/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BD%8E%E5%8A%9F%E8%80%97%E8%93%9D%E7%89%99BLE/README/"/>
    <url>/2025/01/04/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BD%8E%E5%8A%9F%E8%80%97%E8%93%9D%E7%89%99BLE/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åœ¨ESP32-Arduinoä¸­ä½¿ç”¨ä½åŠŸè€—è“ç‰™BLE"><a href="#åœ¨ESP32-Arduinoä¸­ä½¿ç”¨ä½åŠŸè€—è“ç‰™BLE" class="headerlink" title="åœ¨ESP32-Arduinoä¸­ä½¿ç”¨ä½åŠŸè€—è“ç‰™BLE"></a>åœ¨ESP32-Arduinoä¸­ä½¿ç”¨ä½åŠŸè€—è“ç‰™BLE</h3><h3 id="è“ç‰™è“ç‰™ï¼BluetoothğŸŸ¦ğŸ¦·ï¼"><a href="#è“ç‰™è“ç‰™ï¼BluetoothğŸŸ¦ğŸ¦·ï¼" class="headerlink" title="è“ç‰™è“ç‰™ï¼BluetoothğŸŸ¦ğŸ¦·ï¼"></a>è“ç‰™è“ç‰™ï¼BluetoothğŸŸ¦ğŸ¦·ï¼</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»¥å¾€é¡¹ç›®ä¸­ä½¿ç”¨çš„è“ç‰™ç›¸å…³çš„ä¾‹ç¨‹éƒ½æ˜¯ä¸€äº›é¸¡æ¯›è’œçš®çš„æ‹¼æ¥ï¼Œç»ˆäºæœ‰ç©ºé—²çš„æ—¶é—´å¯ä»¥æ¥ä¸“é—¨å­¦ä¹ ä¸€ä¸‹ESP32-Arduinoä¸­ä½åŠŸè€—è“ç‰™BLEçš„ä½¿ç”¨æ–¹æ³•å•¦ï¼ŒåŒæ—¶äº†è§£äº†è§£BLEçš„å·¥ä½œåŸç†ã€‚</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°å­¦ä¼šåœ¨ESP32-Arduinoä¸­ä½¿ç”¨BLEçš„APIã€‚</em></strong></p><h4 id="æˆ‘çš„ç¯å¢ƒ"><a href="#æˆ‘çš„ç¯å¢ƒ" class="headerlink" title="æˆ‘çš„ç¯å¢ƒ"></a>æˆ‘çš„ç¯å¢ƒ</h4><ul><li>å¼€å‘æ¿ï¼šESP32S3N16R8</li><li>å¼€å‘å¹³å°ï¼šArduino + PlatformIO + Vscode</li></ul><hr><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BD%8E%E5%8A%9F%E8%80%97%E8%93%9D%E7%89%99BLE/image-0.png" alt="BLEæœåŠ¡æ¡†å›¾"></p><blockquote><p>BLEè“ç‰™æœåŠ¡ç«¯ç¼–ç¨‹çš„æµç¨‹ï¼š<br><strong>è“ç‰™è®¾å¤‡åˆå§‹åŒ– -&gt; åˆ›å»ºServer -&gt; åˆ›å»ºService -&gt; åˆ›å»ºCharacteristic -&gt; åˆ›å»ºå¹¿æ’­å¯¹è±¡ -&gt; å°†æœåŠ¡åŠ å…¥åˆ°å¹¿æ’­ä¸­ -&gt; å¼€å§‹å¹¿æ’­æä¾›æœåŠ¡</strong></p></blockquote><p>â€¦</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>â€¦</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8f7bdefe" role="button" aria-expanded="false" aria-controls="collapse-8f7bdefe">        <div class="fold-arrow">â–¶</div>BLEæœåŠ¡ç«¯ä¾‹ç¨‹ - æœ€ç®€      </div>      <div class="fold-collapse collapse" id="collapse-8f7bdefe">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *  ä¾‹2 æ·»åŠ è‡ªåŠ¨å†æ¬¡å¹¿æ’­</span><br><span class="hljs-comment"> *  </span><br><span class="hljs-comment"> *  åŒæ—¶åªèƒ½å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªå®¢æˆ·ç«¯</span><br><span class="hljs-comment"> */</span><br><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEDevice.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEUtils.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEServer.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SERVICE_UUID        <span class="hljs-string">&quot;b0afd88d-5807-4533-b27b-a48cc3a32e30&quot;</span>   <span class="hljs-comment">// æœåŠ¡UUID</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CHARACTERISTIC_UUID <span class="hljs-string">&quot;7057310c-1e37-4a0a-9ae1-6ed8ccb995b1&quot;</span>   <span class="hljs-comment">// ç‰¹å¾UUID</span></span><br><br><span class="hljs-type">bool</span> isAdvertising = <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ˜¯å¦åœ¨å¹¿æ’­</span><br><span class="hljs-type">int</span> clientCount = <span class="hljs-number">0</span>;        <span class="hljs-comment">// ç›®å‰å·²æœ‰å®¢æˆ·ç«¯æ•°é‡</span><br><br><span class="hljs-comment">//æœåŠ¡å™¨è¿æ¥ä¸æ–­å¼€è¿æ¥å›è°ƒç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyServerCallbacks</span>: <span class="hljs-keyword">public</span> BLEServerCallbacks &#123;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onConnect</span><span class="hljs-params">(BLEServer* pServer)</span> </span>&#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;client connected...&quot;</span>);<br>      clientCount++;<br>      isAdvertising = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å› ä¸ºåªè¦æœ‰å®¢æˆ·ç«¯è¿ä¸Šæ¥ï¼Œå°±ä¼šå…³é—­å¹¿æ’­</span><br>    &#125;;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onDisconnect</span><span class="hljs-params">(BLEServer* pServer)</span> </span>&#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;client disconnected...&quot;</span>);<br>      clientCount--;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>&#123;<br>  Serial.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);<br>  Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Starting BLE work!&quot;</span>);<br>  <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);<br>  BLEDevice::<span class="hljs-built_in">init</span>(<span class="hljs-string">&quot;Fish Fish&quot;</span>);                                         <span class="hljs-comment">// 1.åˆå§‹åŒ–è“ç‰™è®¾å¤‡</span><br>  BLEServer *pServer = BLEDevice::<span class="hljs-built_in">createServer</span>();                       <span class="hljs-comment">// 2.åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨</span><br>  pServer-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">MyServerCallbacks</span>());                       <span class="hljs-comment">// ä¸ºæœåŠ¡å™¨æ·»åŠ å›è°ƒå‡½æ•°</span><br><br>  BLEService *pService = pServer-&gt;<span class="hljs-built_in">createService</span>(SERVICE_UUID);          <span class="hljs-comment">// 3.åˆ›å»ºä¸€ä¸ªæœåŠ¡</span><br>  BLECharacteristic *pCharacteristic = pService-&gt;<span class="hljs-built_in">createCharacteristic</span>(  <span class="hljs-comment">// 4.åœ¨æœåŠ¡é‡Œåˆ›å»ºä¸€ä¸ªç‰¹å¾</span><br>                                         CHARACTERISTIC_UUID,<br>                                         BLECharacteristic::PROPERTY_READ |<br>                                         BLECharacteristic::PROPERTY_WRITE                                         <br>                                       );<br>  pCharacteristic-&gt;<span class="hljs-built_in">setValue</span>(<span class="hljs-string">&quot;Hello World.&quot;</span>);                            <span class="hljs-comment">// ç»™ç‰¹å¾èµ‹å€¼</span><br><br><br>  pService-&gt;<span class="hljs-built_in">start</span>();                                                    <span class="hljs-comment">// 5.Serviceå¼€å§‹æä¾›æœåŠ¡</span><br>  BLEAdvertising *pAdvertising = BLEDevice::<span class="hljs-built_in">getAdvertising</span>();           <span class="hljs-comment">// è·å–å¹¿æ’­å™¨</span><br>  pAdvertising-&gt;<span class="hljs-built_in">addServiceUUID</span>(SERVICE_UUID);                           <span class="hljs-comment">// å°†ServiceåŠ å…¥å¹¿æ’­</span><br>  pAdvertising-&gt;<span class="hljs-built_in">setScanResponse</span>(<span class="hljs-literal">true</span>);                                  <span class="hljs-comment">// å…è®¸æ‰«æå›å¤</span><br>  pAdvertising-&gt;<span class="hljs-built_in">setMinPreferred</span>(<span class="hljs-number">0x12</span>);<br>  BLEDevice::<span class="hljs-built_in">startAdvertising</span>();                                        <span class="hljs-comment">// 6.å¼€å§‹å¹¿æ’­</span><br><br>  Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Characteristic defined! Now you can read it in your phone!&quot;</span>);<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">if</span>(BLEDevice::<span class="hljs-built_in">getInitialized</span>() &amp;&amp; !isAdvertising &amp;&amp; clientCount&lt;<span class="hljs-number">1</span>)<br>  &#123;<br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);                     <span class="hljs-comment">// è®©è“ç‰™è®¾å¤‡ç•™ä¸€æ®µå¤„ç†çš„æ—¶é—´</span><br>    BLEDevice::<span class="hljs-built_in">startAdvertising</span>();  <span class="hljs-comment">// é‡æ–°å¼€å§‹å¹¿æ’­</span><br>    isAdvertising = <span class="hljs-literal">true</span>;<br>    Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;start advertising&quot;</span>);<br>  &#125;<br><br>  <span class="hljs-built_in">delay</span>(<span class="hljs-number">50</span>);<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">â–¶</div>BLEæœåŠ¡ç«¯ä¾‹ç¨‹ - ç±»å¯¹è±¡      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEDevice.h&gt;</span> <span class="hljs-comment">// åŒ…å«BLEDeviceåº“ï¼Œç”¨äºè“ç‰™ä½åŠŸè€—è®¾å¤‡çš„æ§åˆ¶</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEServer.h&gt;</span> <span class="hljs-comment">// åŒ…å«BLEServeråº“ï¼Œç”¨äºåˆ›å»ºå’Œç®¡ç†è“ç‰™æœåŠ¡å™¨</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEUtils.h&gt;</span>  <span class="hljs-comment">// åŒ…å«BLEUtilsåº“ï¼Œæä¾›è“ç‰™ç›¸å…³çš„å®ç”¨å·¥å…·å‡½æ•°</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLE2902.h&gt;</span>   <span class="hljs-comment">// åŒ…å«BLE2902åº“ï¼Œç”¨äºå¤„ç†è“ç‰™ç‰¹æ€§æè¿°ç¬¦</span></span><br><br><span class="hljs-comment">// å®šä¹‰æ”¶å‘æœåŠ¡çš„UUIDï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SERVICE_UUID <span class="hljs-string">&quot;7F7C610C-7A86-4892-94BA-88B70DC790F5&quot;</span></span><br><span class="hljs-comment">// RXä¸²å£æ ‡è¯†</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CHARACTERISTIC_UUID_RX <span class="hljs-string">&quot;C02E69C2-E503-43F8-A74D-B95C1F5AF088&quot;</span></span><br><span class="hljs-comment">// TXä¸²å£æ ‡è¯†</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CHARACTERISTIC_UUID_TX <span class="hljs-string">&quot;D914E6B6-509C-4803-9FB5-9454782478A6&quot;</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Define the way to format logout</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _LOG(format, args...) printf(format, ##args)</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HugoBLE</span> : <span class="hljs-keyword">public</span> BLEServerCallbacks, <span class="hljs-keyword">public</span> BLECharacteristicCallbacks<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">bool</span> _isConnected = <span class="hljs-literal">false</span>;                      <span class="hljs-comment">// æ ‡è®°è“ç‰™è®¾å¤‡æ˜¯å¦å·²è¿æ¥</span><br>    <span class="hljs-type">bool</span> _isInitialized = <span class="hljs-literal">false</span>;                    <span class="hljs-comment">// æ ‡è®°è“ç‰™è®¾å¤‡æ˜¯å¦å·²åˆå§‹åŒ–</span><br>    BLEServer *pServer = <span class="hljs-literal">nullptr</span>;                   <span class="hljs-comment">// åˆ›å»ºå…¨å±€BLEæœåŠ¡å™¨æŒ‡é’ˆ</span><br>    BLECharacteristic *pTxCharacteristic = <span class="hljs-literal">nullptr</span>; <span class="hljs-comment">// åˆ›å»ºå…¨å±€ä¼ è¾“ç‰¹æ€§æŒ‡é’ˆï¼Œç”¨äºæ•°æ®ä¼ è¾“</span><br>    std::string deviceName = <span class="hljs-string">&quot;HugoBLE&quot;</span>;             <span class="hljs-comment">// è“ç‰™è®¾å¤‡çš„åç§°</span><br>    std::string rxBle;                              <span class="hljs-comment">// æ¥æ”¶åˆ°çš„è“ç‰™æ•°æ®</span><br>    std::string txBle;                              <span class="hljs-comment">// è¦å‘é€çš„è“ç‰™æ•°æ®</span><br>    std::queue&lt;std::string&gt; dataQueue;              <span class="hljs-comment">// å­—ç¬¦ä¸²é˜Ÿåˆ—ï¼Œç”¨äºå­˜å‚¨æ¥æ”¶åˆ°çš„æ•°æ®</span><br><br>    <span class="hljs-comment">// ...</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">HugoBLE</span>(std::string deviceName = <span class="hljs-string">&quot;hugoBleDevice&quot;</span>);<br>    ~<span class="hljs-built_in">HugoBLE</span>() &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">begin</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">end</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(std::string deviceName)</span> </span>&#123; <span class="hljs-keyword">this</span>-&gt;deviceName = deviceName; &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onConnect</span><span class="hljs-params">(BLEServer *pServer)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onDisconnect</span><span class="hljs-params">(BLEServer *pServer)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onWrite</span><span class="hljs-params">(BLECharacteristic *pCharacteristic)</span></span>;<br><br>    <span class="hljs-comment">// ...</span><br>&#125;;<br><br>HugoBLE::<span class="hljs-built_in">HugoBLE</span>(std::string deviceName) : <span class="hljs-built_in">deviceName</span>(std::<span class="hljs-built_in">string</span>(deviceName).<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>))<br>&#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::begin</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!_isInitialized)<br>    &#123;<br>        _LOG(<span class="hljs-string">&quot;[BLE] BLE init begin!\n&quot;</span>);<br><br>        <span class="hljs-comment">// åˆå§‹åŒ–BLEè®¾å¤‡ï¼Œè®¾ç½®è®¾å¤‡åç§°ä¸º&quot;HugoBLE&quot;</span><br>        BLEDevice::<span class="hljs-built_in">init</span>(<span class="hljs-string">&quot;HugoBLE&quot;</span>);<br>        <span class="hljs-comment">// åˆ›å»ºBLEæœåŠ¡å®ä¾‹</span><br>        pServer = BLEDevice::<span class="hljs-built_in">createServer</span>();<br>        <span class="hljs-comment">// è®¾ç½®æœåŠ¡å™¨çš„å›è°ƒå‡½æ•°ï¼ˆonConnect(), onDisconnect()ï¼‰</span><br>        pServer-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">this</span>);<br>        <span class="hljs-comment">// åˆ›å»ºæŒ‡å®šUUIDçš„æœåŠ¡</span><br>        BLEService *pService = pServer-&gt;<span class="hljs-built_in">createService</span>(SERVICE_UUID);<br>        <span class="hljs-comment">// åˆ›å»ºå…·æœ‰é€šçŸ¥å±æ€§çš„ä¼ è¾“ç‰¹å¾</span><br>        pTxCharacteristic = pService-&gt;<span class="hljs-built_in">createCharacteristic</span>(CHARACTERISTIC_UUID_TX, BLECharacteristic::PROPERTY_NOTIFY);<br>        <span class="hljs-comment">// ä¸ºä¼ è¾“ç‰¹å¾æ·»åŠ 2902æè¿°ç¬¦ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯å¯ç”¨NotifyæœåŠ¡</span><br>        pTxCharacteristic-&gt;<span class="hljs-built_in">addDescriptor</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">BLE2902</span>());<br>        <span class="hljs-comment">// åˆ›å»ºå…·æœ‰å†™å±æ€§çš„æ¥æ”¶ç‰¹å¾</span><br>        BLECharacteristic *pRxCharacteristic = pService-&gt;<span class="hljs-built_in">createCharacteristic</span>(CHARACTERISTIC_UUID_RX, BLECharacteristic::PROPERTY_WRITE);<br>        <span class="hljs-comment">// è®¾ç½®æ¥æ”¶ç‰¹å¾çš„å›è°ƒå‡½æ•°ï¼ˆonWrite()ï¼‰</span><br>        pRxCharacteristic-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">this</span>);<br><br>        pService-&gt;<span class="hljs-built_in">start</span>();                  <span class="hljs-comment">// å¯åŠ¨æœåŠ¡</span><br>        pServer-&gt;<span class="hljs-built_in">getAdvertising</span>()-&gt;<span class="hljs-built_in">start</span>(); <span class="hljs-comment">// å¼€å§‹å¹¿æ’­</span><br><br>        _isInitialized = <span class="hljs-literal">true</span>;<br><br>        _LOG(<span class="hljs-string">&quot;[BLE] BLE init successed!\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        _LOG(<span class="hljs-string">&quot;[BLE] BLE has been init!\n&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::end</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::loop</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦æœ‰æ•°æ®</span><br>    <span class="hljs-keyword">while</span> (!dataQueue.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        <span class="hljs-comment">// è·å–é˜Ÿåˆ—ä¸­çš„æ•°æ®</span><br>        std::string data = dataQueue.<span class="hljs-built_in">front</span>();<br>        <span class="hljs-comment">// ç§»é™¤é˜Ÿåˆ—ä¸­çš„æ•°æ®</span><br>        dataQueue.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-comment">// å°†å†™å…¥çš„å€¼èµ‹ç»™ç§æœ‰å˜é‡rxBle</span><br>        rxBle = data;<br>        <span class="hljs-comment">// å¯¹æ•°æ®è¿›è¡Œå¤„ç†</span><br>        <span class="hljs-built_in">process</span>();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// è“ç‰™äº‹ä»¶å¤„ç†</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::process</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br><br><span class="hljs-comment">// å½“è®¾å¤‡ä¸æœåŠ¡å™¨è¿æ¥æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::onConnect</span><span class="hljs-params">(BLEServer *pServer)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;_isConnected = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è®¾ç½®è“ç‰™è®¾å¤‡è¿æ¥çŠ¶æ€ä¸ºå·²è¿æ¥</span><br>&#125;<br><br><span class="hljs-comment">// å½“è®¾å¤‡ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::onDisconnect</span><span class="hljs-params">(BLEServer *pServer)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;_isConnected = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// è®¾ç½®è“ç‰™è®¾å¤‡è¿æ¥çŠ¶æ€ä¸ºæ–­å¼€è¿æ¥</span><br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);                  <span class="hljs-comment">// å»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼Œä»¥ä¾¿è“ç‰™æ§åˆ¶å™¨å¤„ç†ç¼“å†²åŒº</span><br>    pServer-&gt;<span class="hljs-built_in">startAdvertising</span>(); <span class="hljs-comment">// å¯åŠ¨è“ç‰™å¹¿æ’­ï¼Œä»¥ä¾¿å…¶ä»–è®¾å¤‡å¯ä»¥é‡æ–°å‘ç°å¹¶è¿æ¥</span><br>&#125;<br><br><span class="hljs-comment">// å½“æ¥æ”¶åˆ°è“ç‰™å†™å…¥è¯·æ±‚æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">HugoBLE::onWrite</span><span class="hljs-params">(BLECharacteristic *pCharacteristic)</span></span><br><span class="hljs-function"></span>&#123;<br>    std::string rxStr = pCharacteristic-&gt;<span class="hljs-built_in">getValue</span>(); <span class="hljs-comment">// è·å–å†™å…¥çš„å€¼</span><br><br>    <span class="hljs-comment">// å¦‚æœå†™å…¥çš„å€¼ä¸ä¸ºç©ºä¸”é•¿åº¦å°äº rxValue çš„å¤§å°</span><br>    <span class="hljs-keyword">if</span> (!rxStr.<span class="hljs-built_in">empty</span>() &amp;&amp; rxStr.<span class="hljs-built_in">length</span>() &lt; rxBle.<span class="hljs-built_in">max_size</span>())<br>    &#123;<br>        <span class="hljs-comment">// å°†æ•°æ®åŠ å…¥é˜Ÿåˆ—</span><br>        dataQueue.<span class="hljs-built_in">push</span>(rxStr);<br>        <span class="hljs-comment">// æ‰“å°æ¥æ”¶åˆ°çš„æ•°æ®</span><br>        _LOG(<span class="hljs-string">&quot;[BLE] RX: %s\n&quot;</span>, rxStr.<span class="hljs-built_in">c_str</span>());<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">        <div class="fold-arrow">â–¶</div>BLEæœåŠ¡ç«¯ä¾‹ç¨‹ - ç‰¹å¾å›è°ƒä¾‹å­      </div>      <div class="fold-collapse collapse" id="collapse-6ae3e036">        <div class="fold-content">          <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *  ä¾‹5 ç‰¹å¾å›è°ƒä¾‹å­</span><br><span class="hljs-comment"> *  </span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEDevice.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEUtils.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEServer.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;AsyncTimer.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLE2902.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;BLEUUID.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SERVICE_UUID        <span class="hljs-string">&quot;b0afd88d-5807-4533-b27b-a48cc3a32e30&quot;</span>   <span class="hljs-comment">//æœåŠ¡UUID</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CHARACTERISTIC_UUID <span class="hljs-string">&quot;7057310c-1e37-4a0a-9ae1-6ed8ccb995b1&quot;</span>   <span class="hljs-comment">//ç‰¹å¾UUID</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> COUNT_CHARACTERISTIC_UUID <span class="hljs-string">&quot;37582929-48c3-4dd0-8e4f-0b29c5640489&quot;</span> <span class="hljs-comment">//è®¡æ•°å™¨ç‰¹å¾</span></span><br><br><span class="hljs-type">uint32_t</span> value = <span class="hljs-number">0</span>;<br>BLECharacteristic *countCharacteristic = <span class="hljs-literal">NULL</span>;<br>AsyncTimer t;<br><br><span class="hljs-type">bool</span> isAdvertising = <span class="hljs-literal">true</span>;  <span class="hljs-comment">//æ˜¯å¦åœ¨å¹¿æ’­</span><br><span class="hljs-type">int</span> clientCount = <span class="hljs-number">0</span>;    <span class="hljs-comment">//ç›®å‰å·²æœ‰å®¢æˆ·ç«¯æ•°é‡</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCharacteristicCallbacks</span>: <span class="hljs-keyword">public</span> BLECharacteristicCallbacks&#123;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">onRead</span><span class="hljs-params">(BLECharacteristic* pCharacteristic, <span class="hljs-type">esp_ble_gatts_cb_param_t</span>* param)</span></span><br><span class="hljs-function">  </span>&#123;<br>    <span class="hljs-keyword">auto</span> p = param-&gt;read;<br>    <span class="hljs-keyword">auto</span> conn_id = p.conn_id;<br>    <span class="hljs-function">BLEAddress <span class="hljs-title">address</span><span class="hljs-params">(p.bda)</span></span>;<br>    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Read.. %d, %s\r\n&quot;</span>, conn_id, address.<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>());<br>  &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">onWrite</span><span class="hljs-params">(BLECharacteristic* pCharacteristic, <span class="hljs-type">esp_ble_gatts_cb_param_t</span>* param)</span></span><br><span class="hljs-function">  </span>&#123;<br>    <span class="hljs-keyword">auto</span> p = param-&gt;read;<br>    <span class="hljs-keyword">auto</span> conn_id = p.conn_id;<br>    <span class="hljs-function">BLEAddress <span class="hljs-title">address</span><span class="hljs-params">(p.bda)</span></span>;<br>    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Write.. %d, %s\r\n&quot;</span>, conn_id, address.<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>());<br>  &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">onNotify</span><span class="hljs-params">(BLECharacteristic* pCharacteristic)</span></span><br><span class="hljs-function">  </span>&#123;<br>    Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;notify...&quot;</span>);<br>  &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MySecurity</span> : <span class="hljs-keyword">public</span> BLESecurityCallbacks &#123;<br>  <span class="hljs-function"><span class="hljs-type">uint32_t</span> <span class="hljs-title">onPassKeyRequest</span><span class="hljs-params">()</span></span>&#123;<br>    Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;PassKeyRequest!&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">334455</span>;<br>  &#125;<br><br>  <span class="hljs-comment">//æ˜¾ç¤ºæœ¬æœºè¦æ±‚çš„é™æ€ç </span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onPassKeyNotify</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> pass_key)</span></span>&#123;<br>    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;On passkey Notify number:%d&quot;</span>, pass_key);<br>  &#125;<br><br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">onSecurityRequest</span><span class="hljs-params">()</span></span>&#123;<br>    Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;On Security Request!&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>  &#125;<br><br>  <span class="hljs-comment">//è®¤è¯ç»“æœ</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onAuthenticationComplete</span><span class="hljs-params">(<span class="hljs-type">esp_ble_auth_cmpl_t</span> cmpl)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(cmpl.success)&#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;onAuthenticationComplete!&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;onAuthentication not Complete!&quot;</span>);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">//æ˜¾ç¤ºåŠ¨æ€ç å¹¶ç¡®å®šæ˜¯å¦åŒæ„é…å¯¹</span><br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">onConfirmPIN</span><span class="hljs-params">(<span class="hljs-type">uint32_t</span> pin)</span></span>&#123;<br>    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;onConfirmPIN %d !&quot;</span>, pin);<br>    <span class="hljs-comment">//return false;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">//è¿”å›trueåŒæ„é…å¯¹ï¼Œè¿”å›falseæ‹’ç»é…å¯¹</span><br>  &#125;<br>&#125;;<br><br><span class="hljs-comment">//æœåŠ¡å™¨è¿æ¥ä¸æ–­å¼€è¿æ¥å›è°ƒç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyServerCallbacks</span>: <span class="hljs-keyword">public</span> BLEServerCallbacks &#123;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onConnect</span><span class="hljs-params">(BLEServer* pServer)</span> </span>&#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;client connected...&quot;</span>);<br>      clientCount++;<br>      isAdvertising = <span class="hljs-literal">false</span>;  <span class="hljs-comment">//å› ä¸ºåªè¦æœ‰å®¢æˆ·ç«¯è¿ä¸Šæ¥ï¼Œå°±ä¼šå…³é—­å¹¿æ’­</span><br>    &#125;;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onDisconnect</span><span class="hljs-params">(BLEServer* pServer)</span> </span>&#123;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;client disconnected...&quot;</span>);<br>      clientCount--;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>&#123;<br>  Serial.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);<br>  Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Starting BLE work!&quot;</span>);<br>  <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);<br>  BLEDevice::<span class="hljs-built_in">init</span>(<span class="hljs-string">&quot;Fish Fish&quot;</span>);                    <span class="hljs-comment">//åˆå§‹åŒ–è“ç‰™è®¾å¤‡</span><br>  BLEDevice::<span class="hljs-built_in">setEncryptionLevel</span>(ESP_BLE_SEC_ENCRYPT_MITM);<br>  BLEDevice::<span class="hljs-built_in">setSecurityCallbacks</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">MySecurity</span>());<br><br>  BLESecurity *pSecurity = <span class="hljs-keyword">new</span> <span class="hljs-built_in">BLESecurity</span>();<br>  pSecurity-&gt;<span class="hljs-built_in">setStaticPIN</span>(<span class="hljs-number">112233</span>);  <span class="hljs-comment">//è¿™ä¸ªæ˜¯è®¾ç½®é™æ€å¯†ç </span><br>  <br>  <span class="hljs-keyword">auto</span> local_address = BLEDevice::<span class="hljs-built_in">getAddress</span>();    <span class="hljs-comment">//è·å–æœ¬æœºåœ°å€</span><br>  Serial.<span class="hljs-built_in">println</span>(local_address.<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>());<br>  BLEServer *pServer = BLEDevice::<span class="hljs-built_in">createServer</span>();  <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨</span><br>  pServer-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">MyServerCallbacks</span>());<br><br>  BLEService *pService = pServer-&gt;<span class="hljs-built_in">createService</span>(SERVICE_UUID);   <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæœåŠ¡</span><br>  BLECharacteristic *pCharacteristic = pService-&gt;<span class="hljs-built_in">createCharacteristic</span>(    <span class="hljs-comment">//åœ¨æœåŠ¡é‡Œåˆ›å»ºä¸€ä¸ªç‰¹å¾</span><br>                                         CHARACTERISTIC_UUID,<br>                                         BLECharacteristic::PROPERTY_READ |<br>                                         BLECharacteristic::PROPERTY_WRITE                                         <br>                                       );<br>  pCharacteristic-&gt;<span class="hljs-built_in">setAccessPermissions</span>(ESP_GATT_PERM_READ_ENCRYPTED | ESP_GATT_PERM_WRITE_ENCRYPTED);<br>  pCharacteristic-&gt;<span class="hljs-built_in">setValue</span>(<span class="hljs-string">&quot;Hello World.&quot;</span>);        <span class="hljs-comment">//ç»™ç‰¹å¾èµ‹å€¼</span><br>  pCharacteristic-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">MyCharacteristicCallbacks</span>());<br><br>  countCharacteristic = pService-&gt;<span class="hljs-built_in">createCharacteristic</span>(<br>                                         COUNT_CHARACTERISTIC_UUID,<br>                                         BLECharacteristic::PROPERTY_READ |<br>                                         BLECharacteristic::PROPERTY_NOTIFY |<br>                                         BLECharacteristic::PROPERTY_INDICATE<br>                                       );<br>  countCharacteristic-&gt;<span class="hljs-built_in">setValue</span>(value);<br>  countCharacteristic-&gt;<span class="hljs-built_in">addDescriptor</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">BLE2902</span>());  <span class="hljs-comment">//è¦å¯ç”¨notifyå’Œindicateçš„éƒ½è¦æ·»åŠ è¿™ä¸ªæè¿°ç¬¦</span><br><span class="hljs-comment">// ä¸Šä¸‹ä¸¤ç§æ·»åŠ æè¿°ç¬¦çš„å†™æ³•éƒ½å¯ä»¥</span><br><span class="hljs-comment">//   BLEDescriptor *pDescriptor = new BLEDescriptor(BLEUUID((uint16_t)0x2902)); </span><br><span class="hljs-comment">//   countCharacteristic-&gt;addDescriptor(pDescriptor);  </span><br><br>  BLEDescriptor *pCountName = <span class="hljs-keyword">new</span> <span class="hljs-built_in">BLEDescriptor</span>(<span class="hljs-built_in">BLEUUID</span>((<span class="hljs-type">uint16_t</span>)<span class="hljs-number">0x2901</span>));<br>  pCountName-&gt;<span class="hljs-built_in">setValue</span>(<span class="hljs-string">&quot;My Counter&quot;</span>);<br>  countCharacteristic-&gt;<span class="hljs-built_in">addDescriptor</span>(pCountName);<br>  countCharacteristic-&gt;<span class="hljs-built_in">setCallbacks</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">MyCharacteristicCallbacks</span>());<br><br>  pService-&gt;<span class="hljs-built_in">start</span>();    <span class="hljs-comment">//Serviceå¼€å§‹æä¾›æœåŠ¡</span><br>  BLEAdvertising *pAdvertising = BLEDevice::<span class="hljs-built_in">getAdvertising</span>();      <span class="hljs-comment">//è·å–å¹¿æ’­å™¨</span><br>  pAdvertising-&gt;<span class="hljs-built_in">addServiceUUID</span>(SERVICE_UUID);                      <span class="hljs-comment">//å°†ServiceåŠ å…¥å¹¿æ’­</span><br>  pAdvertising-&gt;<span class="hljs-built_in">setScanResponse</span>(<span class="hljs-literal">true</span>);                             <span class="hljs-comment">//å…è®¸æ‰«æå›å¤</span><br>  pAdvertising-&gt;<span class="hljs-built_in">setMinPreferred</span>(<span class="hljs-number">0x12</span>);<br>  BLEDevice::<span class="hljs-built_in">startAdvertising</span>();                                   <span class="hljs-comment">//å¼€å§‹å¹¿æ’­</span><br><br>  Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;Characteristic defined! Now you can read it in your phone!&quot;</span>);<br><br>  <span class="hljs-comment">//æ¯3ç§’è®¡æ•°å™¨åŠ 1ï¼Œå¹¶å‘é€šçŸ¥</span><br>  t.<span class="hljs-built_in">setInterval</span>([]&#123;<br>    value++;<br>    <span class="hljs-keyword">if</span>(countCharacteristic &amp;&amp; clientCount&gt;<span class="hljs-number">0</span>)<br>    &#123;<br>      countCharacteristic-&gt;<span class="hljs-built_in">setValue</span>(value);<br>      countCharacteristic-&gt;<span class="hljs-built_in">notify</span>();  <span class="hljs-comment">//å‘é€šçŸ¥</span><br>      <span class="hljs-comment">//countCharacteristic-&gt;indicate();</span><br>    &#125;<br>  &#125;, <span class="hljs-number">3000</span>);<br><br>  <span class="hljs-comment">//å¤„ç†è‡ªåŠ¨å¹¿æ’­é—®é¢˜</span><br>  t.<span class="hljs-built_in">setInterval</span>([]&#123;<br>    <span class="hljs-keyword">if</span>(BLEDevice::<span class="hljs-built_in">getInitialized</span>() &amp;&amp; !isAdvertising &amp;&amp; clientCount&lt;<span class="hljs-number">1</span>)<br>    &#123;<br>      <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);  <span class="hljs-comment">//è®©è“ç‰™è®¾å¤‡ç•™ä¸€æ®µå¤„ç†çš„æ—¶é—´</span><br>      BLEDevice::<span class="hljs-built_in">startAdvertising</span>();  <span class="hljs-comment">//é‡æ–°å¼€å§‹å¹¿æ’­</span><br>      isAdvertising = <span class="hljs-literal">true</span>;<br>      Serial.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;start advertising&quot;</span>);<br>    &#125;<br>  &#125;, <span class="hljs-number">50</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>&#123;<br>  t.<span class="hljs-built_in">handle</span>();<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><div class="note note-success">            <p>æœªå®Œå¾…ç»­â€¦</p>          </div><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>é¸£è°¢ä»¥ä¸‹æ•™ç¨‹ï¼š</p><p>å°é±¼çš„æ•™ç¨‹æ¶µç›–äº†ç¼–å†™BLEè“ç‰™æœåŠ¡ç«¯æ—¶çš„å¤§éƒ¨åˆ†æƒ…å†µï¼Œè±ç„¶å¼€æœ—ã€‚<br>koolinså¯¹å°é±¼çš„æ•™ç¨‹åšäº†å¤§è‡´çš„æ€»ç»“ï¼Œå¿«é€Ÿå†™å‡ºä»£ç ã€‚</p><ul><li>@å°é±¼åˆ›æ„ï¼š<a href="https://www.bilibili.com/video/BV1XD4y1K7xW">https://www.bilibili.com/video/BV1XD4y1K7xW</a></li><li>@koolinsï¼š<a href="https://www.bilibili.com/video/BV1iPs6efEu1">https://www.bilibili.com/video/BV1iPs6efEu1</a></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ESP32</tag>
      
      <tag>MCU</tag>
      
      <tag>Arduino</tag>
      
      <tag>BLE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼</title>
    <link href="/2025/01/02/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/README/"/>
    <url>/2025/01/02/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/README/</url>
    
    <content type="html"><![CDATA[<h3 id="å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼"><a href="#å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼"></a>å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼</h3><h4 id="PPPackï¼ä¸€å¤„æ‰“åŒ…åˆ°å¤„è¿è¡Œï¼"><a href="#PPPackï¼ä¸€å¤„æ‰“åŒ…åˆ°å¤„è¿è¡Œï¼" class="headerlink" title="PPPackï¼ä¸€å¤„æ‰“åŒ…åˆ°å¤„è¿è¡Œï¼"></a>PPPackï¼ä¸€å¤„æ‰“åŒ…åˆ°å¤„è¿è¡Œï¼</h4><h4 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h4><div class="note note-success">            <p>é¦–å…ˆï¼æ˜¯æ¥åˆ°äº†2025å¹´ï¼æ–°å¹´å¿«ä¹å„ä½ï¼ğŸ¥³ğŸ</p>          </div><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>å…ˆå‰ï¼Œæˆ‘æœ‰ä½¿ç”¨Qtå†™è¿‡ä¸€äº›é¡¹ç›®ï¼Œç±»ä¼¼<code>EasyGPS</code>çš„ä¸Šä½æœº<a href="https://zhangkeliang0627.github.io/2024/09/02/%E5%9F%BA%E4%BA%8EQt%E4%B8%8E%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91MQTT%E7%9A%84EasyMap/README/">EasyGPS-MAP</a>ï¼Œç„¶åæˆ‘å‘ç°æˆ‘æ¯ä¸€å›è¦å‘ä»–äººå±•ç¤ºçš„æ—¶å€™éƒ½éœ€è¦æ‰“å¼€<code>Qt Creater</code>ç„¶åé‡æ–°ç¼–è¯‘ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®æ‰è¡Œï¼ˆè€Œä¸”åœ¨Windowsä¸­æ‰“å¼€Qt<strong>çœŸçš„å¾ˆæ…¢</strong>ï¼Œæ˜¾ç„¶è¿™ç§æ“ä½œæ˜¯ä¸å¤Ÿä¼˜é›…çš„ï¼ŒåŒæ—¶æˆ‘æœ‰åœ¨åˆ«çš„ç”µè„‘ç¯å¢ƒè¿è¡Œä¸Šä½æœºçš„éœ€è¦ã€‚åŸºäºä»¥ä¸Šè¯‰æ±‚ï¼Œè¿™ç¯‡æ–‡ç« å°†ä¼šè®°å½•ä¸‰ç§å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„æ–¹å¼ï¼</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…ã€‚</em></strong></p><h4 id="æˆ‘çš„ç¯å¢ƒ"><a href="#æˆ‘çš„ç¯å¢ƒ" class="headerlink" title="æˆ‘çš„ç¯å¢ƒ"></a>æˆ‘çš„ç¯å¢ƒ</h4><ul><li>ç”µè„‘ç¯å¢ƒï¼šWindows 11</li><li>Qtç‰ˆæœ¬ï¼š5.14.1</li></ul><hr><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><h3 id="1-æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬"><a href="#1-æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬" class="headerlink" title="1. æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬"></a>1. æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬</h3><blockquote><p>ç‰¹ç‚¹ï¼šæ— éœ€å®‰è£…ï¼Œå¯ä»¥åˆ¶ä½œæˆä¸ºä¸€ä¸ªå‹ç¼©åŒ…æ–‡ä»¶æ¥è½¬å‘ç»™åˆ«äººï¼Œè§£å‹å³ç”¨ã€‚</p></blockquote><ol><li><p>é¦–å…ˆï¼Œå°†é¡¹ç›®çš„ç¼–è¯‘ç‰ˆæœ¬ä¿®æ”¹ä¸º<code>Release</code>ï¼Œç„¶åæ‰§è¡Œä¸€æ¬¡ç¼–è¯‘è¿è¡Œã€‚è¿™é‡Œä¸æ˜¯å¿…é¡»è¦æ”¹ï¼Œåªæ˜¯ä¿®æ”¹åå‘å¸ƒçš„è½¯ä»¶ä½“ç§¯æ¯”è¾ƒå°ï¼Œæ¨èä½¿ç”¨<code>Release</code>.</p></li><li><p>ç„¶åæ‰¾åˆ°ç¼–è¯‘è¾“å‡ºçš„ç›®å½•ç±»ä¼¼<code>/build-EasyGPS-Map-Desktop_Qt_5_14_1_MSVC2017_64bit-Release</code>ï¼Œç„¶åè¿›å…¥<code>release</code>æ–‡ä»¶å¤¹.</p></li><li><p>æŠŠ<code>release</code>æ–‡ä»¶å¤¹ä¸­é™¤äº†.exeæ–‡ä»¶ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ é™¤ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼Œåªä¸è¿‡ä¼šå¾’å¢å†…å­˜ï¼Œå¯¹åŠŸèƒ½æ— å½±å“.</p></li></ol><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-1.png" alt="---" width = "800" height = "350" style="border-radius: 10px;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-2.png" alt="---" width = "800" height = "350" style="border-radius: 10px;"></div></div></div><ol><li><p>æ ¹æ®ä½ çš„<strong>ç¼–è¯‘Kit</strong>æ‰“å¼€å¯¹åº”çš„<strong>å‘½ä»¤è¡Œå·¥å…·</strong>ï¼Œæ¯”æ–¹è¯´æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>MSVC2017_64bit</code>è¿›è¡Œçš„ç¼–è¯‘ï¼Œé‚£æˆ‘å°±é€‰æ‹©å¦‚å›¾æ‰€ç¤ºçš„å·¥å…·ï¼š</p><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-3.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-3.png"></p></li><li><p>æ‰“å¼€å¯¹åº”çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œcdåˆ°å¯¹åº”çš„<code>release</code>æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œ<code>windeployqt + xxxname.exe</code>.</p></li></ol><blockquote><p>è¿™é‡Œè®°å½•åœ¨windowså‘½ä»¤è¡Œä½¿ç”¨<code>cd</code>å‘½ä»¤çš„å°æŠ€å·§ï¼Œå€˜è‹¥ä½ ä»…ä»…åœ¨ä¸€ä¸ªç›˜å†…è¿›è¡Œcdï¼ˆå¦‚åªåœ¨Cç›˜ã€åªåœ¨Dç›˜ï¼Œæ­£å¸¸<code>cd + address</code>å³å¯ã€‚<br>å¦‚æœä½ è¦è·¨ç›˜cdï¼ˆå¦‚ä»Cç›˜åˆ°Dç›˜ï¼Œæ­¤æ—¶éœ€è¦<code>cd /d + address</code>ï¼Œæˆ–è€…å…ˆæ•²ä¸€ä¸ª<code>D: + å›è½¦é”®</code>åˆ‡æ¢ç›˜ç¬¦ï¼Œç„¶åæ­£å¸¸cdã€‚</p></blockquote><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-4.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-4.png"></p><p>ç„¶åQtè‡ªå¸¦çš„å·¥å…·ç¨‹åºï¼Œä¼šæŠŠè¯¥.exeæ–‡ä»¶ç¼ºå¤±çš„åº“æ–‡ä»¶è¡¥å……é½å…¨ï¼Œå¦‚ä¸‹å›¾ã€‚æ­¤æ—¶ä½ å°±å¯ä»¥åŒå‡»æ‰“å¼€è¯¥.exeæ–‡ä»¶ï¼ŒæƒŠå–œåœ°å‘ç°ï¼Œå®ƒå¯ä»¥ç›´æ¥è¿è¡Œå•¦ï¼</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-5.png" alt="---" width = "400" height = "230" style="border-radius: 10px;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-6.png" alt="---" width = "400" height = "230" style="border-radius: 10px;"></div></div></div><ol start="6"><li>æ¥ç€ï¼Œä½ å¯ä»¥å•ç‹¬å°†è¿™ä¸ª<code>release</code>æ–‡ä»¶å¤¹å‹ç¼©æˆå‹ç¼©åŒ…å‘é€ç»™åˆ«äººï¼Œè§£å‹å³ç”¨ï¼éå¸¸èˆ’é€‚ï¼</li></ol><h3 id="2-æ‰“åŒ…æˆå•æ–‡ä»¶ç‰ˆæœ¬"><a href="#2-æ‰“åŒ…æˆå•æ–‡ä»¶ç‰ˆæœ¬" class="headerlink" title="2. æ‰“åŒ…æˆå•æ–‡ä»¶ç‰ˆæœ¬"></a>2. æ‰“åŒ…æˆå•æ–‡ä»¶ç‰ˆæœ¬</h3><blockquote><p>ç‰¹ç‚¹ï¼šç»™ä»–äººå‘é€ä¸€ä¸ªåŒ…å«è¿è¡Œç¯å¢ƒçš„.exeæ–‡ä»¶ï¼ŒåŒå‡»å³ç”¨ï¼æ— éœ€å‹ç¼©orè§£å‹ã€‚</p></blockquote><p><strong>é¦–å…ˆï¼Œä½ éœ€è¦å¯¹Qté¡¹ç›®åš<code>æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬</code>çš„æ“ä½œï¼</strong></p><p>è¿™é‡Œä½¿ç”¨è½¯ä»¶<code>Enigma Virtual Box</code>è¿›è¡ŒQté¡¹ç›®çš„å°åŒ…ï¼Œè¯¥è½¯ä»¶å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.enigmaprotector.com/en/downloads.html">https://www.enigmaprotector.com/en/downloads.html</a></p><div class="note note-warning">            <p>æˆ‘çš„ç”µè„‘ç¯å¢ƒæ˜¯Windows 11ï¼Œæˆ‘é€‰æ‹©64ä½çš„ç‰ˆæœ¬ï¼Œç„¶åä¸‹è½½å®‰è£…æ—¶ä¸€è·¯<code>next</code>å°±è¡Œï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„æ“ä½œã€‚</p>          </div><ol><li>æ‰“å¼€è½¯ä»¶<code>Enigma Virtual Box</code>ï¼Œé€‰æ‹©ç­‰å¾…å°åŒ…çš„ä¸»ç¨‹.</li></ol><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-7.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-7.png"></p><ol><li>é€‰æ‹©<code>å¢åŠ ...</code>-&gt;<code>å¢åŠ æ–‡ä»¶å¤¹[é€’å½’]</code>ï¼Œé€‰æ‹©<code>release</code>æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»<code>ç¡®å®š</code>.</li></ol><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-8.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-8.png"></p><ol start="3"><li>ç‚¹å‡»<code>æ–‡ä»¶é€‰é¡¹</code>-&gt;<code>å‹ç¼©æ–‡ä»¶</code>ï¼Œç„¶åç‚¹å‡»<code>ç¡®å®š</code>.</li></ol><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-9.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-9.png"></p><ol start="4"><li>æœ€åï¼Œç‚¹å‡»<code>æ‰§è¡Œå°åŒ…</code>.</li></ol><!-- ![](images/å¯¹Qté¡¹ç›®è¿›è¡Œæ‰“åŒ…çš„ä¸‰ç§æ–¹å¼/image-10.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%AF%B9Qt%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/image-10.png"></p><ol start="5"><li>ç„¶ååœ¨<code>release</code>æ–‡ä»¶å¤¹ä¸‹ä¼šå¤šå‡ºæ¥ä¸€ä¸ª<code>xxxname_boxed.exe</code>ç»“å°¾çš„.exeæ–‡ä»¶å•¦ï¼</li></ol><div class="note note-warning">            <p>ä¸è¿‡è¯·<strong>æ³¨æ„</strong>ï¼Œå¦‚æœä½ çš„Qté¡¹ç›®åŒ…å«äº†ç±»ä¼¼<code>QtWebEngineWidgets</code>ç­‰æ¨¡å—ï¼Œå¯èƒ½ä¼šå¯¼è‡´å°åŒ…å¤±è´¥æˆ–è€…å°åŒ…ä¹‹åçš„æ–‡ä»¶ä¸å¯ç”¨ï¼æœ€å¥½è¿˜æ˜¯ä½¿ç”¨<code>æ‰“åŒ…æˆç»¿è‰²ä¾¿æºç‰ˆæœ¬</code>çš„æ–¹æ³•å§ï¼Œè¿™ä¸ªæ–¹æ³•ååˆ†ç¨³å¦¥ï¼</p>          </div><h3 id="3-æ‰“åŒ…æˆå¯å®‰è£…ç‰ˆæœ¬"><a href="#3-æ‰“åŒ…æˆå¯å®‰è£…ç‰ˆæœ¬" class="headerlink" title="3. æ‰“åŒ…æˆå¯å®‰è£…ç‰ˆæœ¬"></a>3. æ‰“åŒ…æˆå¯å®‰è£…ç‰ˆæœ¬</h3><p>â€¦</p><div class="note note-info">            <p>æœªå®Œå¾…ç»­â€¦</p>          </div><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>é¸£è°¢ä»¥ä¸‹æ•™ç¨‹ï¼š</p><ul><li>è§†é¢‘æ•™ç¨‹ï¼š<a href="https://www.bilibili.com/video/BV1cB4aeHEHr">https://www.bilibili.com/video/BV1cB4aeHEHr</a></li><li>å›¾æ–‡æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/KK_2018/article/details/131899658">https://blog.csdn.net/KK_2018/article/details/131899658</a></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Qt</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨</title>
    <link href="/2024/12/27/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/README/"/>
    <url>/2024/12/27/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨"><a href="#åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨" class="headerlink" title="åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨"></a>åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨</h3><h4 id="åŸºäºSTM32F401çš„è¿·ä½ FOCçŸ¢é‡æ§åˆ¶é©±åŠ¨å™¨ï¼Œå·¨å°è€Œä¸”äº”è„ä¿±å…¨ğŸ˜†"><a href="#åŸºäºSTM32F401çš„è¿·ä½ FOCçŸ¢é‡æ§åˆ¶é©±åŠ¨å™¨ï¼Œå·¨å°è€Œä¸”äº”è„ä¿±å…¨ğŸ˜†" class="headerlink" title="åŸºäºSTM32F401çš„è¿·ä½ FOCçŸ¢é‡æ§åˆ¶é©±åŠ¨å™¨ï¼Œå·¨å°è€Œä¸”äº”è„ä¿±å…¨ğŸ˜†"></a>åŸºäºSTM32F401çš„è¿·ä½ FOCçŸ¢é‡æ§åˆ¶é©±åŠ¨å™¨ï¼Œå·¨å°è€Œä¸”äº”è„ä¿±å…¨ğŸ˜†</h4><h4 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h4><hr><p><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/image-0.jpg" alt="EasyFOC"></p><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><div class="note note-info">            <p>æœ¬é¡¹ç›®åŸºäºï¼š<strong>SimpleFOC</strong> &amp; <strong>Ctrl-FOC-Lite</strong></p>          </div><p>Githubå…³è”ä»“åº“ï¼š<a href="https://github.com/ZhangKeLiang0627/EasyFOC">https://github.com/ZhangKeLiang0627/EasyFOC</a><br>ç«‹åˆ›ç¡¬ä»¶å¼€æºï¼š<a href="https://oshwhub.com/hugego/easyfoc">https://oshwhub.com/hugego/easyfoc</a></p><blockquote><p>æœ¬é¡¹ç›®<code>EasyFOC</code>æ—¨æ„ç”¨äºå­¦ä¹ FOCæ—¶å¯¹SimpleFOCç®—æ³•çš„éªŒè¯ï¼Œæ„Ÿè°¢@loop222æä¾›çš„ç³»åˆ—ç§»æ¤æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/loop222/article/details/119220638">æˆ³è¿™é‡Œ:)</a></p></blockquote><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h3><h4 id="ç¡¬ä»¶é…ç½®"><a href="#ç¡¬ä»¶é…ç½®" class="headerlink" title="ç¡¬ä»¶é…ç½®"></a>ç¡¬ä»¶é…ç½®</h4><ul><li><ol><li>ä¸»æ§ï¼šSTM32F401RET6</li></ol></li><li><ol start="2"><li>å±å¹•ï¼šSSD1312 Oled 0.96inch IICæ¥å£ 128x64åˆ†è¾¨ç‡</li></ol></li><li><ol start="3"><li>ç”µæœºé©±åŠ¨ï¼šDRV8313</li></ol></li><li><ol start="4"><li>ç”µæµé‡‡æ ·ï¼šINA240A2</li></ol></li><li><ol start="5"><li>è“ç‰™é€šä¿¡ï¼šKT6368A</li></ol></li><li><ol start="6"><li>ä¸²å£é€šä¿¡ï¼šCH340N</li></ol></li><li><ol start="7"><li>å¤–å£³ï¼š3Dæ‰“å°</li></ol></li></ul><h4 id="Snapshots"><a href="#Snapshots" class="headerlink" title="Snapshots"></a>Snapshots</h4><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨/image-1.jpg" alt="PCB-Front" width = "300" height = "300" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨/image-2.jpg" alt="PCB-Back" width = "300" height = "300" style="border-radius: 15px;"></div></div></div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨/image-4.jpg" alt="PCB-Front" width = "300" height = "300" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/åŸºäºSTM32å’ŒSimpleFOCçš„EasyFOCçŸ¢é‡æ§åˆ¶å™¨/image-5.jpg" alt="PCB-Back" width = "300" height = "300" style="border-radius: 15px;"></div></div></div><p><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/image-3.jpg" alt="3D-Shell"></p><h3 id="Firmware"><a href="#Firmware" class="headerlink" title="Firmware"></a>Firmware</h3><h4 id="è½¯ä»¶åŠŸèƒ½"><a href="#è½¯ä»¶åŠŸèƒ½" class="headerlink" title="è½¯ä»¶åŠŸèƒ½"></a>è½¯ä»¶åŠŸèƒ½</h4><ul><li>ç›®å‰å·²ç»å®ç°<strong>å°åŠŸç‡æ— åˆ·ç”µæœºçš„ä½ç½®ã€è§’åº¦å¼€é—­ç¯æ§åˆ¶ï¼Œé€‚é…äº†ç”µæµç¯çš„ä»£ç ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</strong> </li><li>æ”¯æŒä½¿ç”¨ä¸²å£è¿›è¡Œæœ‰çº¿è°ƒè¯•æˆ–è€…ä½¿ç”¨<strong>è“ç‰™</strong>è¿›è¡Œæ— çº¿è°ƒè¯•ã€‚</li><li>æ”¯æŒ3Sèˆªæ¨¡é”‚ç”µæ± æ¥å…¥ï¼ˆ12.6V &#x2F; XT60æ¥å£ï¼‰.</li><li>æ¿è½½Oledã€ä¸¤é¢—å®ä½“æŒ‰é’®ä»¥åŠèœ‚é¸£å™¨æ–¹ä¾¿äºäººæœºäº¤äº’ã€‚</li><li>å¼•å‡ºä¸€è·¯IICæ¥å£å’Œä¸€è·¯SPIæ¥å£ã€‚</li><li>å¼•å‡ºSWDçƒ§å½•å£ï¼Œæ–¹ä¾¿ä½¿ç”¨<code>ST-Link</code>or<code>DAP-Link</code>è¿›è¡Œç¨‹åºçƒ§å½•ã€‚</li></ul><h4 id="Showcases"><a href="#Showcases" class="headerlink" title="Showcases"></a>Showcases</h4><ul><li><p>åŠ›çŸ©æµ‹è¯• - Torque<br><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/torque.gif" alt="torque"></p></li><li><p>é€Ÿåº¦æµ‹è¯• - Velocity<br><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/velocity.gif" alt="velocity"></p></li><li><p>è§’åº¦æµ‹è¯• - Angle<br><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/angle.gif" alt="Angle"></p></li><li><p>é€Ÿåº¦è¿…é€Ÿè½¬å‘æµ‹è¯• - Velocity hard test<br><img src="/images/%E5%9F%BA%E4%BA%8ESTM32%E5%92%8CSimpleFOC%E7%9A%84EasyFOC%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E5%99%A8/velocity_hard_test.gif" alt="Velocity hard test"></p></li></ul><h4 id="å¾…æ”¹è¿›"><a href="#å¾…æ”¹è¿›" class="headerlink" title="å¾…æ”¹è¿›"></a>å¾…æ”¹è¿›</h4><ul><li>è¯¥æ¬¾MCUå¹¶ä¸æ”¯æŒCANé€šä¿¡ï¼ˆsad:(</li><li><code>STM32F401</code>è®¡ç®—é€Ÿåº¦æœ‰é™ï¼Œé©±åŠ¨ç”µæœºçš„åŒæ—¶é©±åŠ¨Oledç¨æ˜¾åƒåŠ›ï¼Œæ›´æ¢ä¸º<code>STM32F405</code>å¯èƒ½ä¼šæ›´å¥½ï¼Œè€Œä¸”è§£å†³äº†æ²¡æœ‰CANçš„é—®é¢˜ã€‚</li><li>â€¦</li></ul><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><p>ç›¸å…³æ–‡ç« å‚è€ƒï¼š</p><ul><li>@ç¨šæ™–å›ï¼š<a href="https://zhihui.lingjun.life/2020/07/02/foc/">https://zhihui.lingjun.life/2020/07/02/foc/</a></li><li>@loop222ï¼š<a href="https://blog.csdn.net/loop222/article/details/119220638">https://blog.csdn.net/loop222/article/details/119220638</a></li><li>@SimpleFOCï¼š<a href="http://simplefoc.cn/#/">http://simplefoc.cn/#/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Project Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STM32</tag>
      
      <tag>Project</tag>
      
      <tag>SimpleFOC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL</title>
    <link href="/2024/12/22/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/README/"/>
    <url>/2024/12/22/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL"><a href="#åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL" class="headerlink" title="åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL"></a>åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h3><div class="note note-success">            <p>å¤§å®¶çœ‹è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œè¦å…ˆå»çœ‹æˆ‘å…ˆå‰çš„æ–‡ç« <code>å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•</code>æ­å»ºå¥½åŸºæœ¬ç¯å¢ƒï¼Œ<a href="https://zhangkeliang0627.github.io/2024/11/24/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/">æˆ³è¿™å„¿ç›´æ¥è·³è½¬:)</a></p>          </div><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p><strong>T113-s3</strong>æ˜¯<strong>å…¨å¿—</strong>çš„ä¸€æ¬¾éå¸¸ä¸é”™çš„èƒ½å¤Ÿè·‘Linuxç³»ç»Ÿçš„Socï¼Œè¯¥èŠ¯ç‰‡é‡‡ç”¨<strong>åŒæ ¸A7</strong>ï¼Œ<strong>ä¸»é¢‘é«˜è¾¾1.2GHz</strong>ï¼Œå…·å¤‡<strong>é«˜æ•ˆèƒ½</strong>å’Œ<strong>ä½åŠŸè€—</strong>çš„ç‰¹ç‚¹ï¼Œ<strong>ç‰‡ä¸Šå†…å­˜128MB</strong>ï¼Œ<strong>æ”¯æŒç¡¬ä»¶è§£ç </strong>ï¼Œå’ŒD1s Pin to Pinï¼Œæ”¯æŒç›¸äº’æ›¿æ¢æ”¯æŒå…¨å¿—æä¾›çš„Tina Linux SDKï¼Œæ–‡æ¡£é½å…¨ï¼Œå¯¹äºDIYç©å®¶æ¥è¯´ç”¨äºåˆ¶ä½œä¸€äº›å¸¦æ˜¾ç¤ºå±çš„å°è®¾å¤‡æ˜¯éå¸¸å®Œç¾äº†ã€‚</p><p>å‰é˜µå­åœ¨â€œæµ·é²œå¸‚åœºâ€ä½ä»·å…¥äº†éŸ¦ä¸œå±±çš„T113-s3çš„å¼€å‘æ¿ï¼Œç»è¿‡ä¸€ç•ªæ‘¸ç´¢ä»¥åå‘ç°äº†TinaLinuxè¿™ä¸ªæ–°å¥‡çš„ä¸œè¥¿ï¼Œå¬è¯´æ˜¯å…¨å¿—åŸºäº<code>Openwrt</code>è‡ªç ”çš„ç³»ç»Ÿï¼ˆè¢«æˆè°‘ä¸ºå…¨å¿—å®¶çš„å°å¥³å„¿ã€‚</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°åœ¨Tina Linuxè¿è¡ŒLVGLã€‚</em></strong></p><h4 id="æˆ‘çš„ç¯å¢ƒ"><a href="#æˆ‘çš„ç¯å¢ƒ" class="headerlink" title="æˆ‘çš„ç¯å¢ƒ"></a>æˆ‘çš„ç¯å¢ƒ</h4><ul><li>è™šæ‹Ÿæœºï¼šVirtualBox Ubuntu 18.04</li><li>å¼€å‘æ¿ï¼š100ASK_T113-PRO</li></ul><hr><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><h4 id="æ‰“å¼€TinaLinuxçš„menuconfig"><a href="#æ‰“å¼€TinaLinuxçš„menuconfig" class="headerlink" title="æ‰“å¼€TinaLinuxçš„menuconfig"></a>æ‰“å¼€TinaLinuxçš„menuconfig</h4><p>é¦–å…ˆæˆ‘ä»¬è¦è¿›å…¥TinaLinux-SDKçš„æ ¹ç›®å½•ï¼Œ<code>cd ~/tina-d1-h</code>å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell">book@ubuntu1804:~/tina-d1-h$ source build/envsetup.sh<br>Setup env done! Please run lunch next.<br>book@ubuntu1804:~/tina-d1-h$ lunch<br><br>You&#x27;re building on Linux<br><br>Lunch menu... pick a combo:<br>     1. d1-h_nezha_min-tina<br>     2. d1-h_nezha-tina<br>     3. d1s_nezha-tina<br>     4. t113_nezha-tina<br><br>Which would you like?: 4<br>============================================<br>TINA_BUILD_TOP=/home/book/tina-d1-h<br>TINA_TARGET_ARCH=arm<br>TARGET_PRODUCT=t113_nezha<br>TARGET_PLATFORM=t113<br>TARGET_BOARD=t113-nezha<br>TARGET_PLAN=nezha<br>TARGET_BUILD_VARIANT=tina<br>TARGET_BUILD_TYPE=release<br>TARGET_KERNEL_VERSION=5.4<br>TARGET_UBOOT=u-boot-2018<br>TARGET_CHIP=sun8iw20p1<br>============================================<br>no buildserver to clean<br>[1] 35382<br><br>book@ubuntu1804:~/tina-d1-h$ make menuconfig<br></code></pre></td></tr></table></figure><blockquote><ol><li>è¿›å…¥TinaLinux-SDKæ ¹ç›®å½•<code>cd ~/tina-d1-h</code></li><li><code>source build/envsetup.sh</code></li><li><code>lunch</code>ï¼Œå¹¶é€‰æ‹©T113å¹³å°åç§°</li><li><code>make menuconfig</code></li></ol></blockquote><h4 id="ä¿®æ”¹TinaLinuxçš„LVGLé…ç½®"><a href="#ä¿®æ”¹TinaLinuxçš„LVGLé…ç½®" class="headerlink" title="ä¿®æ”¹TinaLinuxçš„LVGLé…ç½®"></a>ä¿®æ”¹TinaLinuxçš„LVGLé…ç½®</h4><p>ç”±äºTinaLinuxæ˜¯é€‚é…äº†<code>littleVGL-v8</code>çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦åœ¨menuconfigå½“ä¸­å°†å…¶å¼€å¯å³å¯ä½¿ç”¨å•¦ï¼</p><p>æŒ‰ç…§ä¸‹æ–¹æ­¥éª¤ï¼Œæ‰“å¼€å¯¹åº”çš„é€‰é¡¹ï¼Œç„¶åä¿å­˜é€€å‡ºå³å¯ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">Gui ---&gt;<br>    Littlevgl ---&gt;<br>        &lt; &gt; lv_demo<br>        &lt;*&gt; lv_examples ï¼ˆlvglå®˜æ–¹demoï¼‰<br>        -*- lvgl-8.1.0 use sunxifb double buffer ï¼ˆä½¿èƒ½åŒç¼“å†²ï¼Œè§£å†³æ’•è£‚é—®é¢˜ï¼‰<br>        [*] lvgl-8.1.0 use sunxifb cache ï¼ˆä½¿èƒ½fb cacheï¼‰<br>        [ ] lvgl-8.1.0 use sunxifb g2d ï¼ˆä½¿èƒ½G2Dç¡¬ä»¶åŠ é€Ÿï¼‰<br>        [ ] lvgl-8.1.0 use sunxifb g2d rotate ï¼ˆä½¿èƒ½G2Dç¡¬ä»¶æ—‹è½¬ï¼‰<br>        [ ] lvgl-8.1.0 use freetype ï¼ˆè‡ªåŠ¨é“¾æ¥freetypeï¼‰<br>        &lt;*&gt; lv_g2d_test ï¼ˆg2dæ¥å£æµ‹è¯•ç”¨ä¾‹ï¼‰<br>        &lt;*&gt; lv_monitor ï¼ˆå‹åŠ›æµ‹è¯•ä¸æ•°æ®ç›‘æµ‹è½¯ä»¶ï¼‰<br>        &lt; &gt; smartva<br>        &lt; &gt; smartva_ota<br></code></pre></td></tr></table></figure><p>LVGLçš„æºç è·¯å¾„ï¼š<code>tina-d1-h/package/gui/littlevgl-8</code></p><h4 id="é‡æ–°ç¼–è¯‘å†…æ ¸"><a href="#é‡æ–°ç¼–è¯‘å†…æ ¸" class="headerlink" title="é‡æ–°ç¼–è¯‘å†…æ ¸"></a>é‡æ–°ç¼–è¯‘å†…æ ¸</h4><p>åœ¨ä»¥ä¸Šçš„ä¿®æ”¹éƒ½å®Œæˆä»¥åï¼Œé‡æ–°æŒ‰ç…§æ­£å¸¸çš„æµç¨‹ç¼–è¯‘å³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å†…æ ¸ç¼–è¯‘</span><br>book@ubuntu1804:~/tina-d1-h$ source build/envsetup.sh<br>book@ubuntu1804:~/tina-d1-h$ lunch 4<br>book@ubuntu1804:~/tina-d1-h$ make<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¼–è¯‘å®Œæˆåï¼Œæ‰“åŒ…é•œåƒ</span><br>book@ubuntu1804:~/tina-d1-h$ pack<br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>æ³¨æ„ï¼š<code>pack</code>å‘½ä»¤åœ¨æ‰“åŒ…é•œåƒçš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šé‡åˆ°dlåŒ…è¿‡å¤§çš„æŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p>          </div><!-- ![alt text](images/åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-1.png" alt="alt text"></p><p>è¿™æ˜¯å› ä¸ºå†…æ ¸ç¼–è¯‘æ—¶å¼€å¯äº†LVGLçš„packageï¼Œå¯¼è‡´ç¼–è¯‘ç”Ÿæˆçš„<code>rootfs.fex</code>åŒ…å¤§äºè®¾å®šçš„æœ€å¤§å°ºå¯¸é™åˆ¶ã€‚å› æ­¤ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹æœ€å¤§å°ºå¯¸çš„è®¾ç½®ï¼Œä¿®æ”¹è·¯å¾„å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">gedit ~/tina-d1-h/device/config/chips/t113/configs/100ask/sys_partition.fex</span><br>vim ~/tina-d1-h/device/config/chips/t113/configs/100ask/sys_partition.fex<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¿®æ”¹ä¸ºå¦‚ä¸‹çš„å‚æ•°ï¼Œå¢åŠ rootfsåˆ†åŒºå®¹é‡</span><br>[partition]<br>    name         = rootfs<br>    size         = 74800<br>    downloadfile = &quot;rootfs.fex&quot;<br>    user_type    = 0x8000<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼Œé‡æ–°æ‰§è¡Œ<code>pack</code>å³å¯ï¼</p><h4 id="æµ‹è¯•LVGL"><a href="#æµ‹è¯•LVGL" class="headerlink" title="æµ‹è¯•LVGL"></a>æµ‹è¯•LVGL</h4><p>å°†æ–°ç”Ÿæˆçš„imgé•œåƒçƒ§å½•åˆ°TFå¡ï¼Œå°†å†…å­˜å¡æ’å…¥å¼€å‘æ¿ï¼Œä¸Šç”µè¿›å…¥ç³»ç»Ÿä»¥åæ‰§è¡ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">~ï¼šlv_examples 0  (lv_demo_widgets)<br>~ï¼šlv_examples 1  (lv_demo_music)<br>~ï¼šlv_examples 2  (lv_demo_benchmark)<br>~ï¼šlv_examples 3  (lv_demo_keypad_encoder)<br>~ï¼šlv_examples 4  (lv_demo_stress)<br>~ï¼šlv_monitor<br></code></pre></td></tr></table></figure><h4 id="åŠ å…¥è§¦æ‘¸æ”¯æŒ"><a href="#åŠ å…¥è§¦æ‘¸æ”¯æŒ" class="headerlink" title="åŠ å…¥è§¦æ‘¸æ”¯æŒ"></a>åŠ å…¥è§¦æ‘¸æ”¯æŒ</h4><div class="note note-info">            <p>æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ä¸€è·¯èµ°æ¥ï¼Œè™½ç„¶LVGLçš„å‡ ä¸ªç¤ºä¾‹ç¨‹åºå·²ç»å¯ä»¥åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œäº†ï¼Œä½†æ˜¯æ— æ³•é€šè¿‡è§¦æ‘¸æ§åˆ¶ï¼Œå› æ­¤æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ºç¨‹åºåŠ å…¥è§¦æ‘¸æ”¯æŒå§ï¼</p>          </div><h5 id="ä¿®æ”¹TinaLinuxçš„å†…æ ¸è§¦æ‘¸é…ç½®"><a href="#ä¿®æ”¹TinaLinuxçš„å†…æ ¸è§¦æ‘¸é…ç½®" class="headerlink" title="ä¿®æ”¹TinaLinuxçš„å†…æ ¸è§¦æ‘¸é…ç½®"></a>ä¿®æ”¹TinaLinuxçš„å†…æ ¸è§¦æ‘¸é…ç½®</h5><p>é…ç½®å†…æ ¸å¢åŠ ç”µå®¹å±é©±åŠ¨<code>GT911</code>ï¼š</p><blockquote><ol><li>è¿›å…¥TinaLinux-SDKæ ¹ç›®å½•<code>cd ~/tina-d1-h</code></li><li><code>source build/envsetup.sh</code></li><li><code>lunch</code>ï¼Œå¹¶é€‰æ‹©T113å¹³å°åç§°</li><li><code>make kernel_menuconfig</code></li></ol></blockquote><p>ç„¶åå¦‚ä¸‹é¢è¿™äº›å›¾ä¸€æ ·ï¼ŒæŠŠå¯¹åº”çš„é€‰é¡¹éƒ½æ‰“ä¸Š<code>*</code>ï¼š</p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-2.png"></div><div class="group-image-wrap"><img src="/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-3.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-4.png"></div><div class="group-image-wrap"><img src="/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-5.png"></div><div class="group-image-wrap"><img src="/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-6.png"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-2.png"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-3.png"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-4.png"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-5.png"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-6.png"></div></div></div><h5 id="ä¸ºLVGLçš„lv-drv-conf-hæ·»åŠ è§¦æ‘¸å±æ§åˆ¶"><a href="#ä¸ºLVGLçš„lv-drv-conf-hæ·»åŠ è§¦æ‘¸å±æ§åˆ¶" class="headerlink" title="ä¸ºLVGLçš„lv_drv_conf.hæ·»åŠ è§¦æ‘¸å±æ§åˆ¶"></a>ä¸ºLVGLçš„<code>lv_drv_conf.h</code>æ·»åŠ è§¦æ‘¸å±æ§åˆ¶</h5><p>åœ¨<code>tina-d1-h/package/gui/littlevgl-8/lv_examples/src/lv_drv_conf.h</code>ä¸­ä¿®æ”¹<code>EVDEV_NAME</code>ä¸ºè§¦æ‘¸å±çš„<code>event</code>èŠ‚ç‚¹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"># lv_drv_conf.h<br><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> USE_EVDEV</span><br><span class="hljs-meta">#  <span class="hljs-keyword">define</span> USE_EVDEV           1</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> USE_BSD_EVDEV</span><br><span class="hljs-meta">#  <span class="hljs-keyword">define</span> USE_BSD_EVDEV       0</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> USE_EVDEV || USE_BSD_EVDEV</span><br><span class="hljs-meta">#  <span class="hljs-keyword">define</span> EVDEV_NAME   <span class="hljs-string">&quot;/dev/input/event1&quot;</span>        <span class="hljs-comment">/*You can use the &quot;evtest&quot; Linux tool to get the list of devices and test them*/</span></span><br><span class="hljs-meta">#  <span class="hljs-keyword">define</span> EVDEV_SWAP_AXES         0               <span class="hljs-comment">/*Swap the x and y axes of the touchscreen*/</span></span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªåœ°æ–¹ä¸€èˆ¬æƒ…å†µä¸‹<code>event1</code>èŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬çš„è§¦æ‘¸è¾“å…¥èŠ‚ç‚¹å•¦ï¼Œæˆ–è€…ä½ å¯ä»¥è‡ªè¡Œå»æŸ¥çœ‹ï¼š<code>event</code>å¯ä»¥åœ¨å¼€å‘æ¿çš„linuxç³»ç»Ÿä¸­ä½¿ç”¨<code>cat /dev/input/eventX</code>(Xè¯·ç”¨æ•°å­—æ›¿ä»£)ï¼Œç¡®è®¤æ˜¯å¦æ­£ç¡®.</p><p>æœ€åæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±é‡æ–°æ­£å¸¸çš„ç¼–è¯‘å†…æ ¸ï¼Œç„¶åçƒ§å½•ï¼Œç„¶åè¿è¡ŒLVGLç¤ºä¾‹ç¨‹åºçœ‹çœ‹è§¦æ‘¸æ•ˆæœå•¦ï¼</p><h5 id="è§¦æ‘¸æµ‹è¯•"><a href="#è§¦æ‘¸æµ‹è¯•" class="headerlink" title="è§¦æ‘¸æµ‹è¯•"></a>è§¦æ‘¸æµ‹è¯•</h5><p>æŸ¥çœ‹è¾“å…¥èŠ‚ç‚¹ï¼š<code>cat /proc/bus/input/devices</code></p><!-- ![æŸ¥çœ‹è¾“å…¥èŠ‚ç‚¹](images/åœ¨å…¨å¿—T113-S3çš„TinaLinuxä¸Šè¿è¡ŒLVGL/image-7.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/image-7.png" alt="æŸ¥çœ‹è¾“å…¥èŠ‚ç‚¹"></p><p>æŸ¥çœ‹åŸå§‹è§¦æ‘¸æ•°æ®ï¼š<code>hexdump /dev/input/event1</code></p><p>æŸ¥çœ‹ä¸­æ–­ï¼š<code>cat /proc/interrupts</code></p><h4 id="adbå‘½ä»¤ï¼ˆè¿™é‡Œä¸´æ—¶ç©¿æ’ä¸€æ¡ï¼Œä¸ç„¶ä»¥åæ‰¾ä¸åˆ°"><a href="#adbå‘½ä»¤ï¼ˆè¿™é‡Œä¸´æ—¶ç©¿æ’ä¸€æ¡ï¼Œä¸ç„¶ä»¥åæ‰¾ä¸åˆ°" class="headerlink" title="adbå‘½ä»¤ï¼ˆè¿™é‡Œä¸´æ—¶ç©¿æ’ä¸€æ¡ï¼Œä¸ç„¶ä»¥åæ‰¾ä¸åˆ°"></a>adbå‘½ä»¤ï¼ˆè¿™é‡Œä¸´æ—¶ç©¿æ’ä¸€æ¡ï¼Œä¸ç„¶ä»¥åæ‰¾ä¸åˆ°</h4><ul><li><p><code>adb devices</code>ï¼Œè¯¥å‘½ä»¤ç”¨äºæŸ¥æ‰¾å·²ç»è¿æ¥ä¸ŠUbuntuç³»ç»Ÿä¸Šçš„adbè®¾å¤‡.</p></li><li><p><code>adb push</code>ï¼Œè¯¥å‘½ä»¤ç”¨äº<strong>å°†Ubuntuç³»ç»Ÿä¸Šçš„æ–‡ä»¶ä¸Šä¼ åˆ°å¼€å‘æ¿</strong>ï¼Œæ¯”å¦‚:</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">adb push demo  /tmp<br></code></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºå°†Ubuntuç³»ç»Ÿå†…å½“å‰ç›®å½•ä¸‹çš„<code>demo</code>æ–‡ä»¶ä¸Šä¼ åˆ°å¼€å‘æ¿çš„<code>/tmp</code>ç›®å½•ä¸‹.</p><ul><li><code>adb pull</code>ï¼Œè¯¥å‘½ä»¤ç”¨äº<strong>ä»å¼€å‘æ¿è·å–æ–‡ä»¶åˆ°Ubuntuç³»ç»Ÿä¸Š</strong>ï¼Œæ¯”å¦‚ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">adb pull /tmp/demo .<br></code></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºä¸‹è½½å¼€å‘æ¿ä¸­çš„<code>/tmp/demo</code>æ–‡ä»¶åˆ°å½“å‰ç›®å½•ä¸‹.</p><hr><div class="note note-success">            <p>å¦‚æœä½ æƒ³è¦åšè‡ªå·±çš„ä¸€äº›LVGLçš„å¼€å‘ï¼Œåœ¨TinaLinuxä¸Šå¼€å‘è‡ªå·±çš„LVGLé¡¹ç›®ï¼Œå¯ä»¥å‚ç…§è¿™ç¯‡æ–‡ç« ï¼š<a href="https://allwinner-docs.100ask.net/Application/LVGL8-UI/100ASK_T113-PRO_01-Introduction.html">click here!</a></p>          </div><p>æˆ‘çš„T113-s3çš„LVGL-Tamplateï¼ˆç»è¿‡<a href="https://github.com/DongshanPI/T113-lv_port_linux_frame_buffer">100askåŸä»“åº“çš„LVGLæ¨¡æ¿</a>ä¿®æ”¹è€Œæ¥ï¼š<a href="https://zhangkeliang0627.github.io/images/%E5%9C%A8%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E4%B8%8A%E8%BF%90%E8%A1%8CLVGL/t113s3_lv_tamplate.zip">-&gt; chilk here for download (24.4MB)!!!</a></p><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>é¸£è°¢ä»¥ä¸‹æ•™ç¨‹ï¼š</p><ul><li><a href="https://blog.csdn.net/weixin_43482414/article/details/139090866">https://blog.csdn.net/weixin_43482414/article/details/139090866</a></li><li><a href="https://blog.csdn.net/noabcd32/article/details/130602900">https://blog.csdn.net/noabcd32/article/details/130602900</a></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Lvgl</tag>
      
      <tag>Ubuntu</tag>
      
      <tag>Allwinner</tag>
      
      <tag>T113-s3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨12æœˆï¼šæœ€ç»ˆå¹»æƒ³...</title>
    <link href="/2024/12/03/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/12%E6%9C%88/README/"/>
    <url>/2024/12/03/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/12%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨12æœˆï¼šæœ€ç»ˆå¹»æƒ³â€¦"><a href="#æ‚è®°ä¸¨12æœˆï¼šæœ€ç»ˆå¹»æƒ³â€¦" class="headerlink" title="æ‚è®°ä¸¨12æœˆï¼šæœ€ç»ˆå¹»æƒ³â€¦"></a>æ‚è®°ä¸¨12æœˆï¼šæœ€ç»ˆå¹»æƒ³â€¦</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><div class="note note-info">            <p>åšå®¢æˆç«‹ä¸€å‘¨å¹´å•¦ï¼è¿™é‡Œçš„å†¬å¤©ä¹Ÿè¦æ¥åˆ°ï¼Œå®‰å•¦æˆ‘ä»¬ä¸€å®šéƒ½å¯ä»¥å¹³å®‰é¡ºé‚ğŸ„ğŸ…ï¼ï¼ï¼</p>          </div><figure><img src="/images/æ‚è®°/2024å¹´/12æœˆ/image-1.jpg" alt="æ‘„äºå¤§å¸ˆå…„ï¼šå°é‡äººç­·å­ç­’" width = "400" height = "300" style="border-radius: 15px;"><figcaption>æ‘„äºå¤§å¸ˆå…„ï¼šå°é‡äººç­·å­ç­’</figcaption></figure><p>ä»Šå¹´å’Œå¥½å‹åœ†æ‹¢å…±åƒäº†ä¸‰é¡¿å¤§å¸ˆå…„å•¦hahahaï¼Œå®ƒä»¬çš„ç±³é¥­çœŸçš„å¾ˆé¦™å¾ˆé¦™ï¼Œå°é‡äººç­·å­ç­’æ˜¯æˆåŒå¯¹çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªå¸¦ç€å¢¨é•œçš„å°é‡äººï¼Œæ²¡æ‹åˆ°ï¼Œç¨æœ‰é—æ†¾ï¼</p><hr><h3 id="2024-12-22-çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ"><a href="#2024-12-22-çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ" class="headerlink" title="2024&#x2F;12&#x2F;22 - çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ"></a>2024&#x2F;12&#x2F;22 - çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</h3><p>12æœˆ22æ—¥ä¸‹åˆ5æ—¶7åˆ†ï¼Œéšç€è€å¸ˆä»¬åœæ­¢ä¸Šä¸‹ç¿»é£æ¸…ç‚¹è¯•å·ï¼Œä¸€å£°å¦‚é‡Šé‡è´Ÿçš„ï¼šã€Œå¥½äº†ï¼Œå¯ä»¥èµ°äº†ã€ï¼Œæˆ‘è§ç¹äººç¾¤å¦‚æ²³æµï¼Œå¦‚å ¤åæ³„æ´ªï¼Œæ¹æ€¥åœ°ï¼Œå¤´ä¹Ÿä¸å›åœ°ï¼Œè¦ç¦»å¼€è¿™é‡Œï¼Œç¦»å¼€è¿™ä¸ªä¸ºç”Ÿæ´»æŒ‰ä¸‹æš‚åœé”®çš„åœ°æ–¹ï¼Œé™é»˜æ— å£°â€¦</p><p><strong>çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</strong></p><p>ç»´æŒäº†å¤§åŠå¹´çš„æƒ…ç»ªçš„å‹æŠ‘ï¼ŒåŠ³ç´¯çš„çœ¼ç¥ï¼ŒåŠªåŠ›ï¼Œåæ‚”ï¼Œæ‹…å¿ƒä¸ç„¦è™‘ï¼Œä¼¼ä¹åœ¨ä¸€ç¬é—´çƒŸæ¶ˆäº‘æ•£ã€‚</p><p><strong>çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</strong></p><p>ç¬¬äºŒå¤©ï¼Œæˆ‘æ‹½ä¸ŠèƒŒåŒ…è¸è¿›äº†æ˜ŸæœŸä¸€çš„æ¬¢ä¹è°·ï¼Œæˆ‘ä»æ¥æ²¡æœ‰é€›è¿‡è¿™ä¹ˆç©ºæ—·çš„æ¸¸ä¹å›­ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è§‰å¾—æ¬¢ä¹è°·ç«Ÿç„¶è¿™ä¹ˆå°ï¼ä¸€ééåœ°åä¸Šå­¤é›¶é›¶çš„è¿‡å±±è½¦ï¼Œä¹Ÿä¸€ééæµè§ˆç€çƒ­ç«æœå¤©çš„æ‹›è˜è½¯ä»¶ï¼Œæœ€ç»ˆåœ¨æ‘‡æ‘‡æ™ƒæ™ƒçš„æµ·ç›—èˆ¹ä¸Šï¼Œæˆ‘æ”¶åˆ°äº†ç¬¬ä¸€ä»½é¢è¯•æœºä¼šã€‚</p><p><strong>çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</strong></p><p>å‡ ä¸ªæœˆå‰æ€¥å¿™å¾—ç„¦å¤´çƒ‚é¢çš„æ¯•è®¾ï¼Œä¸å‡ºä¸€å‘¨ç«Ÿç„¶å·²ç»é€æ­¥æˆå‹ï¼Œå®ç°åŠŸèƒ½â€¦åšå®Œäº†ã€‚</p><p><strong>çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</strong></p><p>æ™•å¤´è½¬å‘çš„åäºŒæœˆçš„å°¾å·´ï¼Œæ²¡æœ‰æŒ‰è®¡åˆ’é£å¾€äº‘å—ï¼Œä¹Ÿæ²¡æœ‰å¤§äº‹å‘â€œå£°â€ï¼Œä½†æ˜¯ï¼Œæˆ‘èƒ½å¤Ÿæ„Ÿå—åˆ°å¼€å¿ƒäº†ï¼Œè¿™éå¸¸é‡è¦ã€‚</p><p><strong>çœ‹ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå¯¹å§ï¼Ÿ</strong></p><p>â€¦</p><h3 id="2024-12-31-å¹´ç»ˆæ€»ç»“"><a href="#2024-12-31-å¹´ç»ˆæ€»ç»“" class="headerlink" title="2024&#x2F;12&#x2F;31 - å¹´ç»ˆæ€»ç»“"></a>2024&#x2F;12&#x2F;31 - å¹´ç»ˆæ€»ç»“</h3><p>å¹´ç»ˆæ€»ç»“ï¼Œæ¯å¹´ç»ˆæœ«æƒ³è¦æ˜¯ä¸æ˜¯è¯¥è¦ä¸ºå½“å¹´åº¦è¿‡çš„ç§ç§åšå¥½è®°å½•çš„æ—¶å€™ï¼Œè„‘è¢‹åƒæ˜¯å¤±å¿†äº†ä¸€èˆ¬ï¼Œä»€ä¹ˆä¹Ÿæƒ³ä¸èµ·æ¥ï¼Œä¹Ÿå°±ä¸åšäº†ï¼Œä»Šå¹´ä¸è¡Œè¿™æ ·ï¼Œå¤§ä¸ªäººäº†ï¼Œè¦å­¦ä¼šæ€»ç»“ç”Ÿæ´»ã€‚</p><p>æˆ‘åŸæ„å¸Œæœ›è¿™ç¯‡æ€»ç»“èƒ½å¤Ÿä»¥ç²¤è¯­çš„å£°éŸ³å¿µå‡ºæ¥ï¼Œå°±å¥½åƒä¼šæ˜¾å¾—æ›´åŠ è½»æ¾æ„‰å¿«ä¸€äº›hahaï¼Œæ‰“ä½ï¼Œæ˜å¹´æˆ–è®¸å¯ä»¥æœ‰â€¦</p><p>å…ˆæ¥è¯´è¯´ï¼Œæˆ‘ä¸ºä»Šå¹´é€‰æ‹©çš„ä¸‰ä¸ªå…³é”®è¯ï¼šä¸ç¡®å®šæ€§ã€æš‚åœã€é€‰æ‹©ã€‚</p><p>å¯¹äºå…³é”®è¯ï¼Œå…¶ä¸­å—åˆ°è€ƒç ”çš„å½±å“è›®å¤§çš„ï¼Œæˆ‘çš„è€ƒç ”æ˜¯ä»ä¸ƒæœˆå¼€å§‹çš„ï¼Œä»7æœˆ9æ—¥ä¸€ç›´æŒç»­åˆ°12æœˆ22æ—¥ï¼Œæ—©ä¸Šä¹ç‚¹åˆ°å®éªŒå®¤ï¼Œæ™šä¸Šåç‚¹å›å¯å®¤ï¼Œæ€»å…±166å¤©ã€‚</p><p>æˆ‘å§‹ç»ˆå¾ˆçŠŸåœ°è®¤ä¸ºè€ƒç ”çš„è¿™äº›æ—¥å­ï¼Œæˆ‘çš„äººç”Ÿä¼¼ä¹è¢«æŒ‰ä¸‹äº†æš‚åœé”®ï¼Œæ¼«æ¼«çš„æ—¥å­é‡Œï¼Œççœ¼èƒŒä¹¦å†™é¢˜ï¼Œé—­çœ¼èƒŒä¹¦å†™é¢˜ï¼Œå°±åƒæ˜¯å›åˆ°äº†é«˜ä¸­æ—¶æœŸé‚£æ ·ï¼Œæ··æ²Œã€è¿·èŒ«ã€‚å¦ç™½åœ°è¯´ï¼Œæˆ‘æ˜¯ç”±å†…å¿ƒæ’æ–¥è€ƒè¯•çš„ï¼Œé¦–å…ˆæˆ‘ä¼šå®³æ€•è‡ªå·±è€ƒä¸å¥½ï¼Œç„¶åæˆ‘ä¼šå»æƒ³å­¦è¿™äº›è€ƒè¿™äº›ä¸œè¥¿åˆ°åº•æœ‰ä»€ä¹ˆç”¨ã€‚</p><p>å½“ç„¶ä¼šæœ‰æœ‹å‹è¿™ä¹ˆè¯´ï¼šæ—¢ç„¶ä½ è¿™ä¹ˆä¸å–œæ¬¢ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å»è€ƒç ”å‘¢ï¼Ÿ</p><p>To be honestï¼ŒçœŸçš„åšä¸åˆ°ï¼Œè€Œä¸”æˆ‘è€ƒç ”çš„ç†ç”±æ¯”è¾ƒç°å®ï¼Œä¸ä¸ºå­¦æœ¯åªä¸ºæ–‡å‡­ã€‚æˆ‘æ²¡æœ‰ä»€ä¹ˆå­¦æœ¯è¿½æ±‚å…¶å®ï¼Œä¸ƒæœˆçš„æ—¶å€™æœ‰æƒ³è¿‡å…ˆå»å·¥ä½œï¼Œä½†æ˜¯å‘ç°è‡ªå·±å­¦ä¹ çš„ä¸œè¥¿å’Œè‡ªå·±æƒ³è¦çš„å·¥ä½œå²—ä½æ‰€éœ€çš„æŠ€æœ¯æ ˆè¿˜æœ‰å¾ˆå¤§çš„å·®è·ï¼Œé è¯»ç ”å»¶æœŸä¸‰å¹´è¡¥è¶³çŸ­æ¿åœ¨é‚£æ—¶çš„æˆ‘çœ‹æ¥æ˜¯ä¸€ä¸ªå¯é€‰çš„ç­–ç•¥ï¼ŒåŸå› å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚åªæ˜¯ç°åœ¨å›è¿‡å¤´æ¥æƒ³ï¼Œä¸ºä»€ä¹ˆå½“åˆç”šè‡³æ²¡æœ‰å‹‡æ°”å…ˆæŠ•å‡ºç¬¬ä¸€ä»½ç®€å†ï¼Œè¿›è¡Œç¬¬ä¸€æ¬¡é¢è¯•ï¼Œå…ˆè¯•è¯•çœ‹ï¼Ÿè¿™æ˜¯æˆ‘è§‰å¾—éå¸¸é—æ†¾çš„ä¸€ä»¶äº‹ï¼Œä¸‡ä¸€å‘¢ï¼Ÿä¸‡ä¸€é€šè¿‡äº†ï¼Œæˆ–è®¸æˆ‘ä¼šåšå†³é€‰æ‹©å·¥ä½œå§â€¦</p><p>ç„¶åè€ƒç ”çœŸçš„çœŸçš„æ˜¯ä¸€ä¸ªæˆ˜çº¿å¾ˆé•¿çš„å†³å®šï¼Œå¹´æœ«è€ƒè¯•æ„å‘³ç€ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œä½ ä¼šæ”¶åˆ°æœ‹å‹æˆ–è®¸ä¿ç ”ä¸Šå²¸çš„æ¶ˆæ¯ï¼Œæˆ–è®¸ç§‹æ‹›ä¸Šå²¸çš„æ¶ˆæ¯ã€‚ç­‰åˆ°å¤§å®¶éƒ½é™†é™†ç»­ç»­æ‰¾åˆ°äº†è‡ªå·±çš„ç¡®å®šçš„æ–¹å‘çš„æ—¶å€™ï¼Œä½ æˆ‘è€ƒç ”äººä»ç„¶ç½®èº«äºæ‘‡æ‘‡æ¬²å åœ°ä¸ç¡®å®šæ„Ÿå½“ä¸­ï¼Œæ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å´©æºƒã€‚æˆ‘è®°å¾—11æœˆçš„æ—¶å€™å¸¸å¸¸å“­æ³£ï¼Œå°¤å…¶æ˜¯å†™é¢˜çš„feedbackè¾¾ä¸åˆ°è‡ªå·±çš„é¢„æœŸè¦æ±‚çš„æ—¶å€™ï¼Œä¸è‡ªè§‰æƒ³åˆ°ä¸‡ä¸€è€ƒä¸ä¸Šæ€ä¹ˆåŠå‘¢ï¼Ÿå°±ä»¿ä½›å¤©éƒ½è¦å¡Œä¸‹æ¥ä¸€èˆ¬ï¼ˆç¬‘ã€‚</p><p>å—¯â€¦å½“ç„¶ä¹Ÿæœ‰æ¯”è¾ƒå¿ƒæƒ…æ„‰å¿«çš„æ—¶å€™ï¼Œæˆ‘å°è±¡å¾ˆæ·±åˆ»çš„è€ƒç ”å‰ä¸€å¤©æ˜¯å†¬è‡³ï¼Œæˆ‘ä¸€ä¸ªäººæ—©æ—©ä¸ƒç‚¹é’Ÿèµ·åºŠï¼Œæ­ä¸Šäººæ»¡ä¸ºæ‚£çš„åœ°é“ï¼Œæ¥åˆ°æ·±åœ³æ¹¾å…¬å›­ï¼Œä»€ä¹ˆä¹Ÿä¸åšï¼Œä»€ä¹ˆä¹Ÿæ²¡æƒ³ï¼Œèµ°èµ°åœåœï¼Œåœ¨å…¬å›­çš„é•¿æ¤…ä¸Šä¼‘æ†©ï¼Œæ™’äº†ä¸€ä¸Šåˆçš„å¤ªé˜³ï¼Œæµ‘èº«éƒ½æš–çƒ˜çƒ˜çš„ã€‚è¿™ç§çœ‹èµ·æ¥ä¸åˆæ—¶å®œçš„è¡Œä¸ºï¼Œåè€Œè®©æˆ‘æ‰¾å›äº†å­©ç«¥æ—¶ä»£çš„æŸç§å›é€†ï¼Œæ‰¾å›äº†ä¸€äº›äººç”Ÿçš„æŒæ¡æ„Ÿï¼Œrealize reality truly.</p><p>ç¿»ç¿»å›å¿†ï¼š</p><p>ä¸€æœˆï¼ŒäºŒæœˆï¼Œè¿‡å¹´ï¼Œæˆ‘è®¨åŒè¿‡å¹´ï¼Œè®¨åŒèµ°äº²æˆšï¼Œè®¨åŒåº”é…¬å¼çš„å–é…’â€¦</p><p>ä¸‰æœˆï¼Œã€ŒğŸ™å¼ å®‡è€ƒç ”æ•°å­¦åŸºç¡€30è®²ã€åˆ°äº†è´§ï¼Œä½†ä¸€ç›´æ²¡æ­å¼€å¡‘å°ï¼Œå †æ”¾åœ¨åœ°ä¸Šã€‚ä¸­æ—¬é¢‘ç¹çš„é›¨å­£ï¼Œæµæ°´æ¼«å…¥å®éªŒå®¤ï¼Œå…¨ç„¶æµ¸é€åœ°æ¿åŒ…æ‹¬ä¹¦å’Œè£…ç€å…ƒå™¨ä»¶çš„ç®±å­åœ¨å†…éƒ½æ— ä¸€å¹¸å…ï¼ŒğŸ™åå‡ºäº†é»‘å¢¨ï¼ŒåŸæœ¬çš„æ¯é¡µç™½çº¸æ™¾å¹²åéƒ½ä¸å…ç•™ä¸‹æ–‘æ–‘ç‚¹ç‚¹çš„éœ‰å°ã€‚</p><p>å››æœˆï¼Œ<code>EasyGPS</code>å¼€å§‹åˆ›é€ ï¼</p><p>äº”æœˆï¼Œæœ€åä¸€æ¬¡å°ç»„ä½œä¸šï¼Œæˆ‘è®¨åŒå°ç»„ä½œä¸šï¼</p><p>å…­æœˆï¼ŒæœŸæœ«è€ƒè¯•æœˆï¼Œæˆ‘è®¨åŒè€ƒè¯•ï¼æ²¡æœ‰ä»»ä½•ç¼˜ç”±å¼€å§‹é…—å’–å•¡ï¼Œæ¯å¤©è¦å–å¾ˆå¤šå¾ˆå¤šæ‰è¡Œï¼Œå¿ƒè·³å˜å¾—å¾ˆå¤§å£°â€¦</p><p>ä¸ƒæœˆï¼Œå¼€å§‹é¢‘ç¹åœ°ä½¿ç”¨åšå®¢ï¼Œå¼€å§‹å’Œåœ†æ³¡å›¾ä¹¦é¦†ï¼Œæˆ‘å­¦é«˜æ•°ï¼Œå®ƒèƒŒå…«è‚¡ï¼Œä¸è¿‡æ€»æ˜¯å­¦äº†ä¸€ä¼šå„¿æˆ–è€…èƒŒäº†ä¸€ä¼šå„¿å°±è¦å¤–å‡ºï¼Œå»è¿™æ‰¾åƒé‚£æ‰¾åƒçš„ï¼Œä¸ƒæœˆç»ˆäºåƒéäº†æ•´ä¸ªæ ¡å›­ã€‚æˆ‘å’Œåœ†ä¸€è‡´è®¤ä¸ºåŒ—å›¾å¤–çš„é£æ™¯æ›´åŠ ç¾ä¸½ï¼Œåˆ°æ—¶å€™æ¯•ä¸šè¦å¸¦çˆ¸å¦ˆæ¥è¿™è¾¹é€›é€›ï¼Œæ‹æ‹ç…§ã€‚ä½†æ˜¯ä¸€å¬åˆ°å—å›¾è¦å…³é—¨ç»´ä¿®ï¼Œåˆæœ‰äº›èˆä¸å¾—ï¼Œæ¯•ç«Ÿå—å›¾æ›´å¥½â€œç¡â€ï¼</p><p>å…«æœˆï¼Œç¬¬ä¸€å¤©å»å¤§æ¢…æ²™çœ‹æµ·è¸©æ²™ï¼Œå’Œè€å‹å‡ºé—¨æ”¾é£ï¼Œå¥½å¥½åœ°ä¼‘æ¯äº†ä¸€ç•ªã€‚ä¸­æ—¬æœŸå¾…ç€çš„livehouseå¦‚æœŸè€Œè‡³ï¼Œæ²¡æƒ³åˆ°å±…ç„¶åšå‡ºâ€œè¾¹ç­‰å¼€åœºè¾¹èƒŒå•è¯â€çš„å”çªçš„äº‹æƒ…ã€‚</p><p>ä¹æœˆï¼Œå‘èª“ä¸è¦æˆä¸ºå’–å•¡å› çš„å¥´éš¶ï¼Œå¼€å§‹å°è¯•æ‹’ç»å–ä¸€åˆ‡å½¢å¼çš„å’–å•¡ï¼Œç—˜ç—˜ä¹Ÿå˜å¥½äº†äº›ï¼Œå¬è¯´æ˜¯å› ä¸ºå–å’–å•¡å®¹æ˜“ä¸Šç«ï¼Œä»æ­¤ä¸å–å’–å•¡çš„å¿ƒåˆåšå®šã€‚åˆæ˜¯æ–°å­¦æœŸå¼€å­¦å­£ï¼Œæ¯å¤©è‡ªä¹ â€œå¬å–ç»¿è±†è›™è›™å£°ä¸€ç‰‡â€ã€‚æˆ‘ä¹Ÿç‰¹è®¨åŒå†›è®­ï¼Œæ¯æ¬¡ç»å†å†›è®­çš„æ—¶å€™æ€»æ˜¯éå¸¸éš¾ç†¬ï¼Œä½†æ˜¯è¯¥â€œè›™â€çš„æ—¶å€™ï¼Œåˆä¸€æ¬¡ä¸æ•¢è½ä¸‹ï¼ˆç¬‘</p><p>åæœˆï¼Œå›å®¶ï¼Œä½†æ²¡å‡ å¤©é©¬ä¸Šåˆé­ä¸ä½è¦è·‘å›å­¦æ ¡é‡Œæ¥ï¼Œæˆ‘è¿˜æ˜¯ä¸çˆ±å›å®¶ã€‚æ¯å‘¨å…­å‚æ™šé¥­åå¸¸å¸¸åˆ°é™„è¿‘çš„æ·±åœ³æ¹¾å…¬å›­æ•£æ­¥ï¼Œè¿™ä¸ªæ—¶å€™æ€»æ„Ÿè§‰åµé—¹çš„äººç¾¤æˆä¸ºäº†èƒ½é‡çš„æºæ³‰ã€‚æµ·è¾¹æ€»æœ‰äººæŠ“ç€æŠŠå‰ä»–å”±æ­Œï¼Œå®‰é™å¾œå¾‰ï¼Œæµ·å¹³é¢è¿œæ–¹å‰©ä¸‹ä¸€ç‚¹èµ§èµ§çš„è½æ—¥ï¼Œè¿˜æœ‰å¾ˆå¤šçš„blueã€‚åªæœ‰åœ¨æ—¶ï¼Œæ”¾å£°å¤§ç¬‘ã€èŠå¤©ä¼¼ä¹æ˜¯ç»å¯¹è¢«å…è®¸çš„äº‹æƒ…ã€‚ä¸‹æ—¬ï¼Œè¢«åœ†æ‹‰ä¸Šä¸€èµ·çœ‹LPLæ‰“LCKï¼Œæœ€ç»ˆå…¨åç­è¿˜æ˜¯æ²¡æœ‰èƒœåˆ©ï¼Œåœ†è‹¦æ¼äº†å¥½ä¹…ã€‚</p><p>åä¸€æœˆï¼Œåœ¨å­¦ä¹ å´©æºƒè¾¹ç¼˜abï¼Œæ¯æ¬¡è¦å—ä¸äº†çš„æ—¶å€™ï¼Œåˆè‡ªé¡¾æé†’è‡ªå·±å°±å·®è¿™ä¹ˆä¸€ç‚¹ç‚¹ï¼šè°æ”¾å¼ƒè°æ˜¯å¤§ç¬¨è›‹ã€‚å®éªŒå®¤å¤–ä»€ä¹ˆæ—¶å€™å¤šäº†ä¸€ä¸ªåœ†æ¡Œï¼Œè®°å¾—ä¹æœˆä»½çš„æ—¶å€™å°±æ˜¯åœ¨é‚£é‡Œå’Œå’±å¯¼å¸ˆæå‰è§„åˆ’é¢„ç•™å¥½äº†ä¸€ä¸ªç ”ç©¶ç”Ÿå·¥ä½ä»½é¢ï¼Œç°åœ¨åˆ°åº•ç”¨ä¸ç”¨çš„ä¸Šå‘¢â€¦ï¼Ÿ</p><p>åäºŒæœˆï¼Œè€ƒå®Œè¯•çš„ç¬¬äºŒå¤©æ˜¯å†¬è‡³ï¼Œå»äº†æ¸¸ä¹å›­ï¼Œå†·å†·æ¸…æ¸…ã€‚å»å¹´çš„å†¬è‡³å’Œæ¤…å­ä¹å›¢ä¸€èµ·åœ¨livehouseå”±æ­Œã€‚æˆ‘å§‹ç»ˆæ›´çˆ±è¿‡åœ£è¯èŠ‚ï¼Œå˜´ä¸Šè¿™ä¹ˆè¯´ç€ï¼Œä»€ä¹ˆæ—¶å€™åˆ°äº†å¹³å®‰å¤œï¼Œä»€ä¹ˆæ—¶å€™è¯¥åƒè‹¹æœä¹Ÿä¸æ¸…æ¥šã€‚æ™šä¸Šåº†ç¥è€ƒç ”ç»“æŸï¼Œå’Œç ”å‹å»åƒäº†ä¸€å®¶äº‘å—èœã€‚ä¸Šèœå‰ï¼Œç«¯ä¸Šæ¥ä¸€åªè‹¹æœå½¢çŠ¶çš„å¥¶é»„åŒ…ï¼Œæˆ‘ä»¬æ¬£ç„¶æ¥å—ï¼</p><p>æˆ‘å®åœ¨æƒ³ä¸åˆ°è¿˜æœ‰ä»€ä¹ˆæ¯”è€ƒç ”çš„æ—¥å­æ›´åŠ æ— è¶£å•è–„ï¼Œå®ƒåƒæ‰äº†æ—¶é—´ï¼Œåå‡ºçš„å´æ˜¯ä¸€äº›ä¸ç¡®å®šçš„æœªæ¥ã€‚ç°åœ¨æˆ‘å¾ˆç¡®å®šï¼Œè¿™ç§æ—¥å­ä¸ä¼šæ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘ä¸å†å¹»æƒ³å•¦ã€‚</p><p>æ²¡æƒ³åˆ°è¿™ä¹ˆå¿«å°±æ¥åˆ°äº†äºŒé›¶äºŒå››å¹´çš„å°¾å·´ï¼Œå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆå½¢çŠ¶å‘¢ï¼Œå¾ˆéš¾å¦å®šæˆ‘è§‰å¾—æˆ‘çš„ä»Šå¹´æ˜¯ä¹å–„å¯é™ˆçš„ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰å‘ç”Ÿï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ç•™ä¸‹ã€‚ä½†æ˜¯æ€»å½’è¦è®°å¾—ä»€ä¹ˆå§â€¦å”¯æœ‰è®°å½•æ‰èƒ½è¯æ˜æˆ‘åœ¨äºŒé›¶äºŒå››çœŸæ­£ç”Ÿå­˜ã€‚</p><p>â€¦</p><p>æˆ‘çªç„¶æƒ³èµ·ã€Œè“è‰²å¤§é—¨ã€ä¸­çš„å°æœ¬ï¼š</p><ul><li><span class="label label-success">ã€Œå¥½ä¸ç”˜å¿ƒå–”ï¼Œæ•´ä¸ªå¤å¤©éƒ½å¿«è¿‡å®Œäº†ï¼Œå¥½åƒä»€ä¹ˆäº‹éƒ½æ²¡æœ‰åšã€‚ã€</span></li><li><span class="label label-info">ã€Œå¯¹å•Šï¼Œå¥½åƒå°±åªæ˜¯è·‘æ¥è·‘å»ï¼Œä»€ä¹ˆäº‹éƒ½æ²¡æœ‰åšã€‚ã€</span></li><li><span class="label label-success">ã€Œä½†æ€»æ˜¯ä¼šç•™ä¸‹äº›ä»€ä¹ˆå§ï¼Œç•™ä¸‹ä»€ä¹ˆï¼Œæˆ‘ä»¬å°±å˜æˆä»€ä¹ˆæ ·çš„å¤§äººã€‚ã€</span></li></ul><p><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/12%E6%9C%88/image-2.png"></p><!-- çƒ­åŠ›å›¾çš„æŒ‚ä»¶ --><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script><div id="posts-chart"style="border-radius: 8px; height: 190px; padding: 10px;"></div><!-- Sakanaé±¼çš„æŒ‚ä»¶ --><link  rel="stylesheet"  href="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.0/lib/sakana.min.css"/><div id="sakana-widget" style="position: fixed; right: 20px; top: 50%; transform: translateY(-50%); z-index: 1000;"></div><script>  function initSakanaWidget() {    new SakanaWidget().mount('#sakana-widget');  }</script><script  async  onload="initSakanaWidget()"  src="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.0/lib/sakana.min.js"></script><hr><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>å¾ˆç®€å•ï¼Œæœ€ç»ˆå¹»æƒ³å…¶å®å°±æ˜¯â€¦æˆ‘ä¸å†å¹»æƒ³ã€‚</p><p><em><strong>ã€Œæ­£å› ä¸ºæˆ‘ä»¬è¶³å¤Ÿä¹è§‚å’Œè‡ªä¿¡ï¼Œæ‰å¯ä»¥ç›´é¢æ‚²å‰§ã€‚ã€</strong></em></p><div class="note note-success">            <p><strong>We Wish You a Merry Christmas!</strong></p>          </div><p>â€¦</p><hr>]]></content>
    
    
    <categories>
      
      <category>Life Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>record</tag>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…¨å¿—T113-s3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•</title>
    <link href="/2024/11/24/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/README/"/>
    <url>/2024/11/24/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/README/</url>
    
    <content type="html"><![CDATA[<h3 id="å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•"><a href="#å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•" class="headerlink" title="å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•"></a>å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h3><div class="note note-success">            <p>æŒ–å‘ingâ€¦æœ‰ç©ºæ¥å¡«å‘ï¼ï¼ï¼</p>          </div><div class="note note-info">            <p>å¡«å¥½å•¦:)</p>          </div><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p><strong>T113-s3</strong>æ˜¯<strong>å…¨å¿—</strong>çš„ä¸€æ¬¾éå¸¸ä¸é”™çš„èƒ½å¤Ÿè·‘Linuxç³»ç»Ÿçš„Socï¼Œè¯¥èŠ¯ç‰‡é‡‡ç”¨<strong>åŒæ ¸A7</strong>ï¼Œ<strong>ä¸»é¢‘é«˜è¾¾1.2GHz</strong>ï¼Œå…·å¤‡<strong>é«˜æ•ˆèƒ½</strong>å’Œ<strong>ä½åŠŸè€—</strong>çš„ç‰¹ç‚¹ï¼Œ<strong>ç‰‡ä¸Šå†…å­˜128MB</strong>ï¼Œ<strong>æ”¯æŒç¡¬ä»¶è§£ç </strong>ï¼Œå’ŒD1s Pin to Pinï¼Œæ”¯æŒç›¸äº’æ›¿æ¢æ”¯æŒå…¨å¿—æä¾›çš„Tina Linux SDKï¼Œæ–‡æ¡£é½å…¨ï¼Œå¯¹äºDIYç©å®¶æ¥è¯´ç”¨äºåˆ¶ä½œä¸€äº›å¸¦æ˜¾ç¤ºå±çš„å°è®¾å¤‡æ˜¯éå¸¸å®Œç¾äº†ã€‚</p><p>å‰é˜µå­åœ¨â€œæµ·é²œå¸‚åœºâ€ä½ä»·å…¥äº†éŸ¦ä¸œå±±çš„T113-s3çš„å¼€å‘æ¿ï¼Œç»è¿‡ä¸€ç•ªæ‘¸ç´¢ä»¥åå‘ç°äº†TinaLinuxè¿™ä¸ªæ–°å¥‡çš„ä¸œè¥¿ï¼Œå¬è¯´æ˜¯å…¨å¿—åŸºäº<code>Openwrt</code>è‡ªç ”çš„ç³»ç»Ÿï¼ˆè¢«æˆè°‘ä¸ºå…¨å¿—å®¶çš„å°å¥³å„¿ã€‚</p><p><strong><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°å¯¹Tina Linuxè¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…ï¼Œæœ€ç»ˆç”Ÿæˆå¯çƒ§å½•çš„é•œåƒã€‚</em></strong></p><h4 id="æˆ‘çš„ç¯å¢ƒ"><a href="#æˆ‘çš„ç¯å¢ƒ" class="headerlink" title="æˆ‘çš„ç¯å¢ƒ"></a>æˆ‘çš„ç¯å¢ƒ</h4><ul><li>è™šæ‹Ÿæœºï¼šVirtualBox Ubuntu 18.04</li><li>å¼€å‘æ¿ï¼š100ASK_T113-PRO</li></ul><hr><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><h4 id="è·å–SDKæºç "><a href="#è·å–SDKæºç " class="headerlink" title="è·å–SDKæºç "></a>è·å–SDKæºç </h4><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è·å–<code>Tina-sdk</code>çš„æºç ï¼š</p><blockquote><p>ç™¾åº¦ç½‘ç›˜è·å–åœ°å€é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/13uKlqDXImmMl9cgKc41tZg?pwd=qcw7">https://pan.baidu.com/s/13uKlqDXImmMl9cgKc41tZg?pwd=qcw7</a> æå–ç ï¼šqcw7</p></blockquote><ol><li><p>ä¸‹è½½å®Œæˆåå°†åŒ…å«æ‰€æœ‰å‹ç¼©æ–‡ä»¶çš„<code>DongshanNezhaSTU-TinaV2.0-SDK</code>æ–‡ä»¶å¤¹æ‹·è´åˆ°Ubuntuç³»ç»Ÿä¸­ï¼Œæ³¨æ„è¯·ä¸è¦åœ¨å…±äº«æ–‡ä»¶å¤¹å½“ä¸­ç›´æ¥è§£å‹ï¼Œè¦å…ˆæ‹·è´åˆ°Linuxç³»ç»Ÿç›®å½•ä¸­ã€‚ä½ç½®å¯ä»¥éšæ„ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ç›´æ¥æ‹·è´åˆ°Ubuntuç³»ç»Ÿçš„<code>~</code>ç›®å½•ä¸‹ã€‚</p></li><li><p>è¿›å…¥è¯¥æ–‡ä»¶å¤¹<code>cd ~/DongshanNezhaSTU-TinaV2.0-SDK/</code>å¹¶æ‰§è¡Œå¦‚ä¸‹è§£å‹ç¼©å‘½ä»¤<code>cat tina-d1-h.tar.bz2.* | tar -jxv</code>ï¼Œç­‰å¾…è§£å‹ç¼©å®Œæˆï¼ˆå¤§è‡´è¦ 3 ~ 5 åˆ†é’Ÿã€‚</p></li><li><p>æŠŠè§£å‹ç¼©å‡ºçš„æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°<code>~</code>ç›®å½•ä¸‹ï¼š<code>mv ~/DongshanNezhaSTU-TinaV2.0-SDK/tina-d1-h ~</code></p></li></ol><h4 id="é…ç½®ubuntuç¯å¢ƒ"><a href="#é…ç½®ubuntuç¯å¢ƒ" class="headerlink" title="é…ç½®ubuntuç¯å¢ƒ"></a>é…ç½®ubuntuç¯å¢ƒ</h4><p>æ¥ç€ï¼Œæˆ‘ä»¬é…ç½®å¼€å‘ç¯å¢ƒï¼Œè¿™é‡Œä»¥<code>Ubuntu 18.04</code>ä¸¾ä¾‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤:<br><code>sudo apt-get install build-essential subversion git libncurses5-dev zlib1g-dev gawk flex quilt libssl-dev xsltproc libxml-parser-perl mercurial bzr ecj cvs unzip lib32z1 lib32z1-dev lib32stdc++6 libstdc++6 libc6:i386 libstdc++6:i386 lib32ncurses5 lib32z1 -y</code></p><h4 id="è·å–è¡¥ä¸åŒ…"><a href="#è·å–è¡¥ä¸åŒ…" class="headerlink" title="è·å–è¡¥ä¸åŒ…"></a>è·å–è¡¥ä¸åŒ…</h4><p>SDKæºç è§£å‹ç¼©å®Œæ¯•åï¼Œæˆ‘ä»¬è·å–æ‰©å±•æ”¯æŒä»“åº“ï¼ˆå› ä¸ºSDKæºç ä¸é€‚é…T113ï¼Œè¦æ‰“ä¸ªè¡¥ä¸ï¼Œè®©æºç æ”¯æŒT113ï¼Œç„¶ååŠ ä»¥åº”ç”¨ï¼Œä¾æ—§æ˜¯åœ¨<code>~</code>ç›®å½•ä¸‹æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">book@ubuntu1804:~$ git clone https://github.com/DongshanPI/100ASK_T113-Pro_TinaSDK.git<br>book@ubuntu1804:~$ cd 100ASK_T113-Pro_TinaSDK<br>book@ubuntu1804:~/100ASK_T113-Pro_TinaSDK$ git submodule update --init<br>book@ubuntu1804:~/100ASK_T113-Pro_TinaSDK$ cp ./* -rfvd ~/tina-d1-h<br>book@ubuntu1804:~/100ASK_T113-Pro_TinaSDK$ sync<br></code></pre></td></tr></table></figure><h4 id="é…ç½®å•æ¿ç¼–è¯‘"><a href="#é…ç½®å•æ¿ç¼–è¯‘" class="headerlink" title="é…ç½®å•æ¿ç¼–è¯‘"></a>é…ç½®å•æ¿ç¼–è¯‘</h4><p>åº”ç”¨å®Œæˆï¼Œå¯ä»¥è¿›å…¥ä¹‹å‰è§£å‹ç¼©è¿‡çš„<code>tina-d1-h</code>çš„sdkç›®å½•å†…<code>cd ~/tina-d1-h/</code>ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¼€å§‹ç¼–è¯‘<code>T113 Tina-SDK</code>ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell">book@ubuntu1804:~/tina-d1-h$ source build/envsetup.sh<br>Setup env done! Please run lunch next.<br>book@ubuntu1804:~/tina-d1-h$ lunch<br><br>You&#x27;re building on Linux<br><br>Lunch menu... pick a combo:<br>     1. d1-h_nezha_min-tina<br>     2. d1-h_nezha-tina<br>     3. d1s_nezha-tina<br>     4. t113_nezha-tina<br><br>Which would you like?: 4<br>============================================<br>TINA_BUILD_TOP=/home/book/tina-d1-h<br>TINA_TARGET_ARCH=arm<br>TARGET_PRODUCT=t113_nezha<br>TARGET_PLATFORM=t113<br>TARGET_BOARD=t113-nezha<br>TARGET_PLAN=nezha<br>TARGET_BUILD_VARIANT=tina<br>TARGET_BUILD_TYPE=release<br>TARGET_KERNEL_VERSION=5.4<br>TARGET_UBOOT=u-boot-2018<br>TARGET_CHIP=sun8iw20p1<br>============================================<br>no buildserver to clean<br>[1] 35382<br><br>book@ubuntu1804:~/tina-d1-h$ make<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘æ—¶é—´æ¯”è¾ƒæ¼«é•¿ï¼Œå•æ ¸ç¼–è¯‘å¤§æ¦‚è¦ 40 ~ 60 åˆ†é’Ÿâ€¦<strong>é€”ä¸­å¯èƒ½ä¼šå‡ºç°è®©ä½ å¡«å†™<code>[Y/n]</code>çš„æƒ…å†µï¼Œä¼šå¡«å°±æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚æ¥å¡«ï¼Œä¸ä¼šå¡«å°±å…¨éƒ¨å¡«<code>n</code>ï¼Œå½±å“ä¸å¤§çš„ã€‚</strong></p><p>ç¼–è¯‘æˆåŠŸçš„ç°è±¡ï¼š</p><!-- ![ç¼–è¯‘æˆåŠŸ](images/å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/image.png" alt="ç¼–è¯‘æˆåŠŸ"></p><p><strong>ä½†æ˜¯ç¼–è¯‘æ€»ä¸æ˜¯ä¸€å¸†é£é¡ºçš„ï¼Œæˆ‘åœ¨è¿™å„¿ä¹ŸèŠ±è´¹äº†ä¸å°‘æ—¶é—´æ¥è§£å†³ä¸€äº›æŠ¥é”™é—®é¢˜ï¼Œä¸‹é¢ä¸€ä¸€ç½—åˆ—å‡ºæ¥ï¼š</strong></p><p><strong>é—®é¢˜1.</strong> <code>~/tina-d1-h/out/t113-100ask/compile_dir/target/fontconfig-2.13.1/missing: line 81: gperf: command not found</code>ï¼šå…·ä½“é”™è¯¯æ˜¯ç¼ºå°‘ <code>gperf</code> å·¥å…·ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š<code>sudo apt-get install gperf</code>ï¼Œé€šè¿‡ç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…<code>gperf</code>.</p><p><strong>é—®é¢˜2.</strong> Tina-Linuxå°è¯•ä¸‹è½½<code>qt-5.12.9.tar.xz</code>å¤±è´¥ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šå› ä¸ºæˆ‘ä½¿ç”¨T113s3ä¸»è¦è¿˜æ˜¯ä½¿ç”¨LVGLå›¾å½¢åº“çš„ï¼Œè·‘Qtè¿˜æ˜¯æ¯”è¾ƒåƒåŠ›ï¼Œäºæ˜¯å¹²è„†å°±ä¸ç¼–è¯‘Qtäº†ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">book@ubuntu1804:~/tina-d1-h$ make menuconfig<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ‰¾åˆ° gui -&gt; Qtï¼Œè¿›å…¥å…¶ä¸­å¹¶æŠŠæ‰€æœ‰çš„ [*] éƒ½å–æ¶ˆï¼Œä¿å­˜å¹¶é€€å‡ºï¼Œç„¶åé‡æ–°ç¼–è¯‘makeã€‚</span><br></code></pre></td></tr></table></figure><h4 id="çƒ§å†™æ›´æ–°ç³»ç»Ÿ"><a href="#çƒ§å†™æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="çƒ§å†™æ›´æ–°ç³»ç»Ÿ"></a>çƒ§å†™æ›´æ–°ç³»ç»Ÿ</h4><p>ç¼–è¯‘å®Œæˆåï¼Œæ‰§è¡Œ<code>pack</code>å‘½ä»¤å³å¯å¼€å§‹æ‰“åŒ…ç³»ç»Ÿæ“ä½œï¼Œæ‰“åŒ…å®Œæˆåï¼Œæœ€åä¼šæç¤º<code>pack finish</code>ä»¥åŠä½¿ç”¨<strong>çº¢è‰²èƒŒæ™¯è‰²</strong>å‘Šè¯‰ä½ æœ€ç»ˆè¾“å‡ºçš„é•œåƒæ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>ssh / vmware</code> æ‹–æ‹½ç­‰å·¥å…·ï¼Œå°†ç”Ÿæˆçš„é•œåƒæ–‡ä»¶ <code>copy</code> å‡ºæ¥ä½¿ç”¨å³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">book@ubuntu1804:~/tina-d1-h$ pack<br></code></pre></td></tr></table></figure><p>æ‰“åŒ…æˆåŠŸçš„ç°è±¡ï¼š</p><!-- ![æ‰“åŒ…æˆåŠŸ](images/å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/image-1.png" alt="æ‰“åŒ…æˆåŠŸ"></p><p>çƒ§å†™æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨OTGçº¿è¿æ¥æ¿å­è¿›è¡Œçƒ§å†™ï¼Œä½¿ç”¨<code>PhoenixSuit</code>å°†ç¼–è¯‘ç”Ÿæˆçš„é•œåƒçƒ§å½•è‡³<code>spi nand</code>å­˜å‚¨è®¾å¤‡ä¸Šï¼›å¦ä¸€ç§æ˜¯é€šè¿‡<a href="https://gitlab.com/dongshanpi/tools/-/raw/main/PhoenixCard-V2.8.zip">PhoenixCard-V2.8</a>å·¥å…·å°†ç³»ç»Ÿé•œåƒçƒ§å½•è‡³TFå¡å¯åŠ¨ã€‚</p><blockquote><p>å…ˆä½¿ç”¨<code>SD Card Formatter</code>å°†TFå¡è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åä½¿ç”¨<code>PhoenixCard-V2.8</code>å¯¹TFå¡è¿›è¡Œçƒ§å†™ï¼Œæ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š</p></blockquote><!-- ![PhoenixCard-V2.8](images/å…¨å¿—T113-S3çš„TinaLinuxç¼–è¯‘æµç¨‹è®°å½•/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%85%A8%E5%BF%97T113-S3%E7%9A%84TinaLinux%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/image-2.png" alt="PhoenixCard-V2.8"></p><hr><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>é¸£è°¢ä»¥ä¸‹æ•™ç¨‹ï¼š</p><ul><li><a href="https://github.com/DongshanPI/100ASK_T113-Pro_TinaSDK">https://github.com/DongshanPI/100ASK_T113-Pro_TinaSDK</a></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>Allwinner</tag>
      
      <tag>T113-s3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨Ubuntuå¯¹Lvglè¿›è¡Œsimulate - LVGL Simulator</title>
    <link href="/2024/11/23/%E4%BD%BF%E7%94%A8Ubuntu%E5%AF%B9Lvgl%E8%BF%9B%E8%A1%8Csimulate%20-%20LVGL%20Simulator/README/"/>
    <url>/2024/11/23/%E4%BD%BF%E7%94%A8Ubuntu%E5%AF%B9Lvgl%E8%BF%9B%E8%A1%8Csimulate%20-%20LVGL%20Simulator/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ä½¿ç”¨Ubuntuå¯¹Lvglè¿›è¡Œsimulate-LVGL-Simulator"><a href="#ä½¿ç”¨Ubuntuå¯¹Lvglè¿›è¡Œsimulate-LVGL-Simulator" class="headerlink" title="ä½¿ç”¨Ubuntuå¯¹Lvglè¿›è¡Œsimulate - LVGL Simulator"></a>ä½¿ç”¨Ubuntuå¯¹Lvglè¿›è¡Œsimulate - LVGL Simulator</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h3><div class="note note-success">            <p>æŒ–å‘ingâ€¦æœ‰ç©ºæ¥å¡«å‘ï¼ï¼ï¼</p>          </div><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ€è¿‘çœ‹åˆ°å¾ˆå¤šLVGLçš„é¡¹ç›®éƒ½æ”¹ç”¨<code>Ubuntu</code>æ¥ç¼–è¯‘<code>Simulator</code>ï¼Œä¸€å¼€å§‹è¿˜æ˜¯æœ‰äº›ä¸å¤ªä¹ æƒ¯<code>CMake</code>çš„è¿™ç§æ–¹å¼ï¼Œåé¢ä¹ æƒ¯äº†ä»¥åæ˜¯çœŸé¦™å‘¢ï¼å†ä¹Ÿä¸ç”¨ä¸ºä¸åŒçš„ç¯å¢ƒç‰ˆæœ¬è€Œæ‹…å¿ƒï¼Œå†ä¹Ÿä¸ç”¨ä¾èµ–ä»»ä½•<code>IDE</code>ï¼Œä¸€é”®ç¼–è¯‘ï¼Œä¸€é”®æ‰§è¡Œï¼Œæ˜¯æç®€çš„ä¼˜é›…ï¼</p><p><em>æœ¬ç¯‡æ–‡ç« å°†ç®€è¿°å¦‚ä½•è¿…é€Ÿåœ°ä½¿ç”¨Ubuntuæ­å»ºå‡ºLVGLçš„é¡¹ç›®æ¨¡æ‹Ÿç¨‹åºã€‚</em></p><hr><p>â€¦</p><hr><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>â€¦</p><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Lvgl</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨11æœˆï¼šä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ</title>
    <link href="/2024/11/19/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/11%E6%9C%88/README/"/>
    <url>/2024/11/19/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/11%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨11æœˆï¼šä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ"><a href="#æ‚è®°ä¸¨11æœˆï¼šä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ" class="headerlink" title="æ‚è®°ä¸¨11æœˆï¼šä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ"></a>æ‚è®°ä¸¨11æœˆï¼šä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æ··æ²Œã€è¿·èŒ«ã€æ€€ç–‘ã€ç¯å…‰ã€å‹‡æ°”ã€åšæ¯…ã€è¿½å¯»ï¼Œä½ æƒ³æ´»å‡ºæ€æ ·çš„äººç”Ÿï¼Ÿ</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/11æœˆ/Warawara-1.gif" alt="Warawara" width = "300" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/11æœˆ/Warawara-2.gif" alt="Warawara" width = "300" height = "200" style="border-radius: 15px;"></div></div></div><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/11æœˆ/image-0.jpg" alt="ç§‹å¤©æ‘„äºå¤©æ¡¥" width = "300" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/11æœˆ/image-3.jpg" alt="ã€Œè‹é¹­ä¸å°‘å¹´ã€" width = "300" height = "200" style="border-radius: 15px;"></div></div></div><hr><h3 id="Little-Miss-Sunshine"><a href="#Little-Miss-Sunshine" class="headerlink" title="Little Miss Sunshine"></a>Little Miss Sunshine</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 50%;">    <iframe src="//player.bilibili.com/player.html?isOutside=true&aid=38852212&bvid=BV1Wt411k7gW&cid=68287647&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position:absolute; height: 100%; width: 100%;"></iframe></div><p><br></br></p><h3 id="2024-11-24-èµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯"><a href="#2024-11-24-èµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯" class="headerlink" title="2024&#x2F;11&#x2F;24 - èµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯"></a>2024&#x2F;11&#x2F;24 - èµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯</h3><div class="note note-success">            <p>æ˜¯å†™äºä¹æœˆä¸­æ—¬å•¦å…¶å®ã€‚</p>          </div><p>è¿™å‡ å¹´å‘ç°è‡ªå·±è¶Šæ¥è¶Šå˜å¾—ç°å®ï¼Œä»å‰é‚£äº›è§‰å¾—å¾ˆç†æƒ³åŒ–çš„äº‹ç‰©å¸¸å¸¸æŒ‚åœ¨å˜´è¾¹çš„ç°åœ¨ç«Ÿç„¶éƒ½å®Œå…¨è®°ä¸å¾—äº†ã€‚åˆ·é¢˜æ¼«æ¼«ï¼Œæˆ‘æŒ‚ç€æè¯ç›´æ’­å–è´§ï¼Œå¬ç€å” å¨äº†å‡ å¥äººç”Ÿè§‚ï¼Œä¸çŸ¥ä¸è§‰å°±è®°äº†ä¸‹æ¥ï¼Œã€Œå……æ»¡æœŸå¾…ï¼Œé™ä½é¢„æœŸï¼›æ°¸è¿œåšæŒï¼Œéšæ—¶æ”¾å¼ƒã€ã€‚</p><p>ä»–çš„ç›´æ’­é—´çš„å—ä¼—ç¾¤ä½“å¹´é¾„å’Œæˆ‘å¤§ç›¸å¾„åº­ï¼Œäºæ˜¯ä¹è§£ç­”äº†è®¸å¤šè¿™ä¸ªå¹´é¾„æ®µäººç”Ÿé—®é¢˜ï¼Œæˆ‘è§‰å¾—å¾ˆå—ç”¨ï¼Œè‡³å°‘è¿·èŒ«ç„¦è™‘æœ€è¿‘å¾ˆå°‘æ‰¾ä¸Šé—¨ï¼Œä½†æ˜¯ä¸ä»£è¡¨æˆ‘ä¸æ„Ÿåˆ°å¿§æ„ï¼Œåªæ˜¯æ²¡æ—¶é—´æƒ³å•¦â€¦</p><p>å¥½æœ‹å‹ä»¬åœ¨å‡†å¤‡ç§‹æ‹›ã€è€ƒå…¬å’Œè€ƒç ”ã€‚å®éªŒå®¤é‡Œï¼Œä¸ƒæœˆçš„è€ƒç ”åœˆå¥½å‹ä¿¡èª“æ—¦æ—¦äº’ç›¸æ¿€åŠ±ï¼Œç„¶è€Œäººå½±å…¨æ— ã€‚åœ¨ä¸Šä¸ªç¤¼æ‹œä¿ç ”åå•å…¬å¸ƒé‚£ä¸€åˆ»å…¨é¢å´©æºƒï¼Œé‚»æ¡Œçš„åŒäº‹ä¸ä¿ç ”å¤±ä¹‹äº¤è‡‚ï¼Œç¬¬äºŒå¤©è·‘æ¥è·Ÿæˆ‘è¯´ï¼Œä»–ä¸è€ƒäº†ï¼Œæƒ³è¦æ‰¾ä»½å·¥ï¼Œæƒ³è¦èµšé’±å»ã€‚æˆ‘å†…å¿ƒç™¾æ„Ÿäº¤é›†ï¼Œæ˜æ˜ä»–æš‘å‡ä¸ºäº†ä¿ç ”å¹²äº†æ•´æ•´ä¸¤ä¸ªæœˆçš„ä¹‰å·¥ï¼Œå››æœˆä»½å¼€å§‹ä¸Šä¸‹å¥”èµ°åˆæ˜¯è€ƒç ”èƒŒä¹¦å¤ä¹ ï¼Œåˆæ˜¯ä¿ç ”å‡†å¤‡ææ–™ã€‚</p><p>æˆ‘ä¸ºä»–æ„Ÿåˆ°å¯æƒœï¼Œé‚£æ—¶æˆ‘è¿˜æ˜¯ä¸€ä¸ªæ„å¿—æ‘‡æ‘†ä¸å®šçš„å·¥ä½œå…šã€‚æˆ‘ä»¬ç«‹åœºä»å¯¹ç«‹æ¥åˆ°ç›¸åŒï¼Œæœ€ç»ˆåˆå›åˆ°å¯¹ç«‹ã€‚å¾…åˆ°æˆ‘è‰°éš¾åœ°åšå‡ºé€‰æ‹©å‡å­¦çš„å†³å®šï¼Œä»–å€’æ˜¯åè¿‡æ¥é—®æˆ‘ï¼šã€Œå’±ä»¬è€ƒç ”ä¹Ÿåªæ˜¯ä¸ºäº†ä¸‰å¹´ä»¥åå¯ä»¥æ‰¾åˆ°ä¸€ä»½å¥½å·¥ä½œå¯¹å§ï¼Œå¦‚æœç°åœ¨æœ¬ç§‘æ¯•ä¸šå·²ç»èƒ½å¤Ÿæ‰¾åˆ°å¿ƒä»ªçš„å·¥ä½œï¼Œé‚£åˆä½•å¿…éå¾—è€ƒç ”å‘¢ï¼Ÿå¯¹å§ï¼Ÿã€</p><p>æˆ‘è§‰å¾—ä»–åœ¨æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šï¼Œæ˜æ˜å‡ ä¸ªæœˆå‰ä»–ä¸æ˜¯è¿™å¹…å˜´è„¸ï¼Œä»–çš„é‚£å£° â€œå¯¹å§â€ åƒæ˜¯åœ¨å“€æ±‚ç€åŠ¡å¿…è¯·æˆ‘è¡¨ç¤ºèµåŒä»¥ç»™ä»–ä¸€ç‚¹ç²¾ç¥æ”¯æŸ±ã€‚æˆ‘å¹¶æ²¡æœ‰è®½åˆºä»–çš„æ„æ€ï¼Œåªæ˜¯ä»¤æˆ‘æ„Ÿåˆ°ä¸å¯æ€è®®çš„æ˜¯ä¸ºä»€ä¹ˆä»–å¯ä»¥æ€åº¦è½¬å˜çš„è¿™ä¹ˆå¿«ã€‚æˆ‘è¯´æˆ‘å·²ç»allinè€ƒç ”äº†ï¼Œæˆ‘ä¹Ÿåœ¨èµŒï¼Œä¸€èµ·åŠ æ²¹å§ï¼Œæˆ‘ä»¬è¿™ä¹ˆå¹´è½»ï¼Œæ— è®ºå¹²ä»€ä¹ˆéƒ½æ˜¯é”™çš„ï¼Œèµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯ï¼Œå°½ç®¡å»å°è¯•ï¼ŒåŠªåŠ›å°±å¥½ã€‚</p><p>å¯¹å•Šï¼Œæˆ‘ä»¬è¿™ä¹ˆå¹´è½»ï¼ŒäºŒåå‡ å²çš„å¹´çºªï¼Œè¿™ä¹ˆé’æ˜¥æ´»åŠ›ï¼Œå´åƒæ˜¯è¢«ä»€ä¹ˆä¸œè¥¿å›°ä½äº†ï¼Œä»¿ä½›æ¯ä¸€å²éƒ½è¦æ¯”ä¹‹å‰æœ‰è¿›æ­¥æ‰æ˜¯æœ‰æ„ä¹‰çš„äººç”Ÿï¼Œè¿™æ ·å®åœ¨æ˜¯å¤ªç´¯äº†ã€‚äºæ˜¯æˆ‘åˆæƒ³èµ·æè¯é‚£å¥è¯ã€Œå¯¹äººç”Ÿè¦æ°¸è¿œå……æ»¡æœŸå¾…ï¼Œä½†æ˜¯è¦é™ä½é¢„æœŸï¼›æˆ–è€…å¯ä»¥è¿™ä¹ˆè¯´ï¼Œä½ å¾—æ°¸è¿œåšæŒï¼Œéšæ—¶æ”¾å¼ƒã€ã€‚</p><p>å¥½å‹åœ†ä¹æœˆåˆå¼€å§‹å‡†å¤‡ç§‹æ‹›äº†ï¼Œä»–æ‰‹ä¸Šç¨³ç¨³æç€ä¸¤ä»½å¤§å‚å®ä¹ ç»å†ï¼Œå‘¨æœ«æˆ‘ä»¬å¸¸å¸¸ä¸€èµ·æ³¡å›¾ä¹¦é¦†ï¼Œä»–å’Œæˆ‘èŠäº†è®¸å¤šå…³äºåœ¨å¤§å‚å·¥ä½œçš„ç»å†ã€‚æœ€è¿‘è¾¹åœ¨å­—èŠ‚å®ä¹ è¾¹ç­‰ç€ç®€å†æŠ•é€’å›æ‰§ï¼Œä»–è€æ˜¯ç„¦è™‘ï¼Œæ¯æ¬¡æœ‰ç”µè¯æ‰“æ¥éƒ½è¦æ­£è¥Ÿå±åï¼Œå®³æ€•é”™è¿‡ä»»ä½•ä¸€ä¸ªHRå‘æ¥çš„é¢è¯•é‚€è¯·ã€‚æˆ‘è¯´ï¼šã€Œåœ†ï¼Œä½ å‘€ï¼Œæ”¾å®½å¿ƒå§ï¼Œç»å¯¹èƒ½å¤Ÿå»åˆ°å¤§å‚çš„ã€‚åˆ°æ—¶å€™baseè…¾è®¯äº†è®°å¾—å¸®æˆ‘å†…æ¨å™¢ï¼ã€æ¯æ¬¡å¬åˆ°ç±»ä¼¼çš„è¯ï¼Œä»–æ€»æ˜¯ç¬‘ç€æ‘¸æ‘¸é¼»å­ï¼šã€Œå“å‘€ï¼Œç­‰åˆ°çœŸçš„è¿›è…¾è®¯å…ˆå§ï¼Œç°åœ¨è¿˜æ‚¬ç€å‘¢ã€ï¼Œä½†æˆ‘è§‰å¾—ä»–çœ¼åº•æœ‰å…‰ã€‚</p><p>æˆ‘è¯´ï¼Œè¯»ç ”æœ‰ä¸ªå¥½å¤„ï¼Œå°±æ˜¯æˆ‘ç°åœ¨è¿™ç§æ¸…æ¾ˆæ„šè ¢çš„å¿ƒå¢ƒè¿˜å¯ä»¥å†ç»´æŒå¤šå‡ å¹´ã€‚çœ‹çœ‹ä½ å“Ÿï¼Œå·²ç»å˜æˆèŒåœºè€æ²¹æ¡å•¦ã€‚äº’ç›¸æ‰“è¶£ç€ï¼Œä»–è¯´ï¼Œæ²¡äº‹ï¼Œæˆ‘å¦‚æœè¿˜baseå—å±±ï¼Œå‘¨æœ«è¯´ä¸å®šè¿˜èƒ½å’Œä½ æ³¡æ³¡å›¾ä¹¦é¦†ï¼Œè¡¥å……è¡¥å……æ¸…æ¾ˆçš„èƒ½é‡å“ˆã€‚</p><p>çœ¼çœ‹ç€èº«è¾¹çš„äººéƒ½æ‰¾åˆ°äº†æ›´åŠ é¥è¿œçš„æ–¹å‘ï¼Œå€’æ˜¯æˆ‘çš„æœªæ¥ï¼Œæœ‹å‹å››å‘å¥”èµ°ï¼Œåœ¨æ›´è¿œçš„åœ°æ–¹ï¼Œå„è‡ªåŠªåŠ›å®‰å¥½ã€‚èƒ½çœ‹è§çš„æœ€å¥½çš„ç»ˆå±€ï¼Œå°±æ˜¯æˆ‘ç•™åœ¨åŸåœ°ï¼Œåœ¨è¿™é‡Œï¼Œåœ¨è¿™æ‰€å·²ç»ç”Ÿæ´»äº†å››å¹´çš„å¤§å­¦ï¼Œç»§ç»­è€•è¯»ç ”å­¦ï¼Œå®Œæˆæˆ‘æœ€åçš„ä½¿å‘½ï¼ŒçœŸæ­£ç•™ä¸‹è‡ªå·±çš„è¶³è¿¹å§â€¦</p><div class="note note-info">            <p>ç„¶è€Œï¼Œæ˜¾ç„¶é‚£æ—¶å€™çš„æˆ‘ä¼¼ä¹æ²¡æœ‰æ„è¯†åˆ°è€ƒç ”å·¨å¤§çš„æ²‰æ²¡æˆæœ¬å’Œå†—é•¿çš„æˆ˜çº¿ã€‚å¾…åˆ°ä¸¤ä¸ªåŒäº‹éƒ½é€šè¿‡äº†åä¸ºçš„é¢è¯•ï¼Œæ³¡è¿›äº†åä¸ºçš„æ± å­ï¼›èº«è¾¹å…³äºç§‹æ‹›çš„å–œè®¯é¢‘ä¼ ï¼Œè€Œæˆ‘è¿˜åœ¨æ­»ç£•ä¹ é¢˜æ— æ³•è„±èº«æ—¶ï¼Œæˆ‘ä¼¼ä¹èŒç”Ÿå‡ºä¸€ä¸ªå¯æ¨çš„æƒ³æ³•ï¼šè¦æ˜¯æˆ‘ä¸ƒæœˆçš„æ—¶å€™é€‰æ‹©å»å·¥ä½œå®ä¹ ï¼Œæˆ‘è‚¯å®šä¹Ÿå¯ä»¥â€¦â€¦</p><p>Anywayï¼Œæˆ‘ä»¬æ€»ä¼šç¾åŒ–é‚£æ¡ä»æ²¡æ¶‰è¶³çš„é“è·¯å¯¹å§ï¼Ÿé‚£æ—¶çš„æˆ‘ä¹Ÿä¸ä¼šæƒ³åˆ°ï¼Œä¸¤ä¸ªæœˆåï¼Œåœ¨å¤šä¸ªä¸‹ç€å†·é›¨çš„å¤œæ™šï¼Œè¿™ä½é€‰æ‹©è€ƒç ”çš„å¹´è½»äººä¼šè¹²ååœ¨å®éªŒå®¤çš„é—¨å¤–å€šç€å¢™å£å·å·æŠ¹ç€çœ¼æ³ªä½å£°å•œæ³£ï¼Œå¦‚æœå¦‚æœå¦‚æœâ€¦äº‹å®ä¸Šï¼Œä¸å¯èƒ½ä¹Ÿæ²¡é‚£ä¹ˆå¤šå¦‚æœã€‚</p><p>èµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯ï¼Œæˆ‘ä¸€ç›´ç”¨è¿™å¥è¯æ¥å®‰æ…°è‡ªå·±ï¼Œè½»è½»åœ°å‘¢å–ƒç€ï¼Œè¿™æ˜¯äºŒä¸€å¹´é«˜è€ƒå‰åœ¨æŸä¸ªå‘¨æœ«ä¸‹åˆçš„èŒ¶é¤å…é‡Œçˆ¶äº²è·Ÿæˆ‘è¯´çš„ä¸ºæ•°ä¸å¤šæœ‰ç”¨çš„å¤§é“ç†ã€‚</p><p>Psï¼šåœ†æœ€ç»ˆæ”¶åˆ°äº†ä»–å¿ƒç›®ä¸­çš„Offerï¼æˆ‘è¡·å¿ƒåœ°ä¸ºä»–æ„Ÿåˆ°å¼€å¿ƒã€‚ä»–ç¬‘ç€è¯´ï¼šæˆ‘çš„å¥½æ¶ˆæ¯å·²ç»æ¥äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç­‰ä½ çš„å¥½æ¶ˆæ¯å•¦ï¼åŠ æ²¹!</p>          </div><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script><div id="posts-chart"style="border-radius: 8px; height: 190px; padding: 10px;"></div><hr><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>æˆ‘æƒ³ç ”ç©¶ç”Ÿè€ƒè¯•ç»“æŸåå»åä¸€æ¬¡è¿‡å±±è½¦hhhï¼Œæœ€å¥½å†æ‹½ä¸Šè¡Œææ­ä¹˜é£å¾€äº‘å—çš„é£æœºï¼Œä»€ä¹ˆä¹Ÿä¸æƒ³åœ°çœ‹å±±çœ‹æ°´ï¼ˆä¸ºä»€ä¹ˆæ˜¯äº‘å—å‘¢ï¼Œæ˜¯å®éªŒå®¤çš„ä¸€ä¸ªæœ‹å‹å®¶å°±ä½åœ¨äº‘å—ï¼Œå¯¹æˆ‘ä¸€ç•ªæåŠ›çš„å®‰åˆ©ã€‚</p><p>å›æ¥å¥½å¥½æ€è€ƒä»¥åçš„è·¯ï¼Œæˆ–è®¸æˆ‘ä¼šå»å®ä¹ ä¸€æ®µæ—¶é—´ï¼Ÿå¯èƒ½æˆ‘çœŸçš„æ›´åŠ é€‚åˆå·¥ä½œï¼Œåæ­£è®¤è¯†æˆ‘çš„æœ‹å‹éƒ½è¿™ä¹ˆè¯´â€¦ï¼Ÿå½“ç„¶æˆ‘è¿˜æ˜¯å¸Œæœ›è€ƒè¯•è¿™è¾¹èƒ½å¤Ÿæœ‰ä¸€ä¸ªå¥½çš„ç»“æœï¼Œä½†æ— è®ºå¥½åï¼Œæˆ‘åº”è¯¥è¦åšåˆ°å¹³é™åœ°æ¥å—å®ƒï¼Œç„¶åå¿«é€Ÿåœ°åšå‡ºå†³ç­–ï¼Œå¤§ä¸äº†æ¢ä¸€æ¡æ–°çš„è·¯å˜›ã€‚</p><p><strong><em>å™¢ï¼Œæˆ‘çš„æœ‹å‹ï¼Œèµ°é”™è·¯å°±æ˜¯èµ°å¯¹è·¯ï¼</em></strong></p><hr>]]></content>
    
    
    <categories>
      
      <category>Life Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>record</tag>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨DAPLink+OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤</title>
    <link href="/2024/10/14/%E4%BD%BF%E7%94%A8DAPLink+OpenOCD%E8%A7%A3%E9%99%A4MCU%E7%9A%84Flash%E8%AF%BB%E4%BF%9D%E6%8A%A4/README/"/>
    <url>/2024/10/14/%E4%BD%BF%E7%94%A8DAPLink+OpenOCD%E8%A7%A3%E9%99%A4MCU%E7%9A%84Flash%E8%AF%BB%E4%BF%9D%E6%8A%A4/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ä½¿ç”¨DAPLink-OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤"><a href="#ä½¿ç”¨DAPLink-OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤" class="headerlink" title="ä½¿ç”¨DAPLink+OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤"></a>ä½¿ç”¨DAPLink+OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»Šå¤©åœ¨ä½¿ç”¨<code>Keil5</code>çƒ§å½•STM32å•ç‰‡æœºä»£ç çš„æ—¶å€™çªç„¶å¼¹æ¡†è­¦å‘Šï¼š<code>Error : Flash Download failed - &quot;Cortex-M4&quot;</code> or <code>RDDI-DAP error</code>ï¼Œè¿™ä¸ªé”™è¯¯å¤šæ•°æ˜¯å› ä¸ºMCUåœ¨çƒ§å½•è¿‡ç¨‹ä¸­å—åˆ°æ„å¤–å¹²æ‰°ï¼Œè‡ªè¡Œå¼€å¯äº†Flashè¯»ä¿æŠ¤å¯¼è‡´çš„ã€‚</p><p>æ›¾ç»æˆ‘ä¹Ÿä¸å°‘æ—¶å€™é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œé‚£æ—¶å€™çš„è§£å†³åŠæ³•æ˜¯åˆ©ç”¨çƒ§å½•è½¯ä»¶<code>flymcu</code>é€šè¿‡ä¸²å£æ¸…é™¤å…¨éƒ¨Flashå†…å®¹ï¼Œè¿›è€Œæ¶ˆé™¤è¯»ä¿æŠ¤ï¼›æˆ–è€…ä½¿ç”¨ST-Linkæ­é…å®˜æ–¹è½¯ä»¶<code>STM32 ST-LINK Utility</code>æ¥æ¶ˆé™¤è¯»ä¿æŠ¤ã€‚</p><p>ä½†æ˜¯ç°åœ¨æˆ‘æ‰‹é‡Œåªæœ‰DAPLinkï¼ˆgaâ€¦ï¼Œäºæ˜¯ç»å°½è„‘æ±æœå¯»æ–¹æ³•ï¼Œè‹¦é—·äº†å¥½ä¹…ã€‚çªç„¶é—´æƒ³åˆ°ä¼¼ä¹å¯ä»¥å°è¯•ä¸€ä¸‹<code>OpenOCD</code>ï¼Œäºæ˜¯æŠ±ç€å®éªŒçš„å¿ƒæ€ï¼Œæˆ‘æœç½—äº†å¤§é‡ç›¸å…³çš„å†…å®¹åï¼Œå¾—åˆ°äº†ä»¥ä¸‹çš„è§£å†³åŠæ³•ã€‚</p><h3 id="ä¸‹è½½OpenOCD"><a href="#ä¸‹è½½OpenOCD" class="headerlink" title="ä¸‹è½½OpenOCD"></a>ä¸‹è½½OpenOCD</h3><p>ç”±äºæˆ‘å½“å‰çš„ç³»ç»Ÿç¯å¢ƒæ˜¯<code>Win 11</code>ï¼Œäºæ˜¯OpenOCDåº”è¯¥é€‰æ‹©<code>Download pre-built OpenOCD for Windows</code>ï¼Œé€‰æ‹©ä»»ä½•ç‰ˆæœ¬éƒ½ä¸å½±å“æœ€ç»ˆæ•ˆæœï¼Œé€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬å³å¯ã€‚</p><!-- ![ä¸‹è½½OpenOCD](images/ä½¿ç”¨DAPLinkä¸OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E4%BD%BF%E7%94%A8DAPLink%E4%B8%8EOpenOCD%E8%A7%A3%E9%99%A4MCU%E7%9A%84Flash%E8%AF%BB%E4%BF%9D%E6%8A%A4/image.png" alt="ä¸‹è½½OpenOCD"></p><p>ä¸‹è½½ç½‘å€ï¼š<a href="https://gnutoolchains.com/arm-eabi/openocd/">https://gnutoolchains.com/arm-eabi/openocd/</a></p><h3 id="è§£é™¤Flashè¯»ä¿æŠ¤"><a href="#è§£é™¤Flashè¯»ä¿æŠ¤" class="headerlink" title="è§£é™¤Flashè¯»ä¿æŠ¤"></a>è§£é™¤Flashè¯»ä¿æŠ¤</h3><p>ä¸‹è½½å¹¶ä¸”è§£å‹å¥½OpenOCDå‹ç¼©åŒ…ä»¥åï¼Œè¿æ¥å¥½å•ç‰‡æœºå’ŒDAPLinkã€‚</p><div class="note note-warning">            <p>æ³¨æ„ï¼šè§£å‹æ–‡ä»¶è·¯å¾„å°½é‡ä¸è¦å¤¹å¸¦ä¸­æ–‡æˆ–è€…ç‰¹æ®Šæ ‡ç‚¹å­—ç¬¦ï¼Œä»¥é¿å…å¯èƒ½å‡ºç°æ„å¤–çš„é”™è¯¯ã€‚</p>          </div><p>æ¥ç€åœ¨è·¯å¾„<code>\OpenOCD-20240916-0.12.0\bin</code>ä¸‹æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å‘½ä»¤ï¼š<code>.\openocd -f interface/cmsis-dap.cfg -f target/stm32f4x.cfg -c init -c &quot;reset halt&quot; -c &quot;stm32f4x unlock 0&quot; -c &quot;reset halt&quot; -c &quot;exit&quot;</code>.</p><p>è¿™æ—¶å¦‚æœç”Ÿæˆä»¥ä¸‹æ—¥å¿—ï¼Œåˆ™ä»£è¡¨Flashè¯»ä¿æŠ¤è§£é™¤æˆåŠŸï¼Œå¯ä»¥é‡æ–°ä½¿ç”¨<code>Keil</code>è¿›è¡Œç¨‹åºçš„çƒ§å½•å•¦ï¼š</p><!-- ![](images/ä½¿ç”¨DAPLinkä¸OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E4%BD%BF%E7%94%A8DAPLink%E4%B8%8EOpenOCD%E8%A7%A3%E9%99%A4MCU%E7%9A%84Flash%E8%AF%BB%E4%BF%9D%E6%8A%A4/image-1.png"></p><p>å¦‚æœæ²¡æœ‰æˆåŠŸï¼Œè¯·æ£€æŸ¥å•ç‰‡æœºå’ŒDAPLinkçš„è¿çº¿ã€‚</p><div class="note note-success">            <p>ç”±äºæˆ‘ä½¿ç”¨çš„å•ç‰‡æœºå‹å·æ˜¯<code>STM32F401RET6</code>ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†<code>target/stm32f4x.cfg</code> &amp; <code>stm32f4x</code>ï¼Œä½ å¯ä»¥åœ¨è¯¥è·¯å¾„<code>\OpenOCD-20240916-0.12.0\share\openocd\scripts\target</code>æ‰¾åˆ°é€‚åˆä½ çš„å•ç‰‡æœºå‹å·çš„å¯¹åº”æ–‡ä»¶ï¼Œå¸‚é¢ä¸Šå¤§éƒ¨åˆ†çš„å•ç‰‡æœºå‹å·çš„å¯¹åº”æ–‡ä»¶åº”è¯¥éƒ½èƒ½å¤Ÿåœ¨è¿™å„¿æ‰¾åˆ°ã€‚</p>          </div><h3 id="æœ€åä¸€ä»¶äº‹ï¼ˆé‡è¦ğŸ‘€"><a href="#æœ€åä¸€ä»¶äº‹ï¼ˆé‡è¦ğŸ‘€" class="headerlink" title="æœ€åä¸€ä»¶äº‹ï¼ˆé‡è¦ğŸ‘€"></a>æœ€åä¸€ä»¶äº‹ï¼ˆé‡è¦ğŸ‘€</h3><p>ä½¿ç”¨DAPLink+OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤å¯èƒ½ä¼šå¯¼è‡´Keilåœ¨ç¨‹åºçƒ§å½•æ—¶å‡ºç°<code>Verify failed</code>çš„æƒ…å†µï¼Œè¿™å¹¶ä¸å½±å“ç¨‹åºçš„æ­£å¸¸çƒ§å½•ï¼Œæ‰‹åŠ¨ç»™å•ç‰‡æœºå¤ä½ä¸€ä¸‹å°±è¡Œï¼Œåªæ˜¯æœ‰ç‚¹ä¸ä¼˜é›…ï¼Œå¦‚æœå¯ä»¥çš„è¯åé¢æ‹¿ST-Linké‡æ–°å†æ‰§è¡Œä¸€æ¬¡Flashè§£é™¤è¯»ä¿æŠ¤å°±æœ€å¥½äº†ï¼ˆè°å«äººå®¶æ˜¯å®˜æ–¹â€¦</p><p>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½åªæ˜¯å•çº¯çƒ§å½•é¢‘ç‡å¤ªå¿«äº†ï¼Œåœ¨é­”æœ¯æ£’çš„<code>Debug-&gt;CMSIS-DAP Debugger-&gt;Settings</code>è®¾ç½®ä¸­ï¼Œå°†é¢‘ç‡è°ƒæ•´åˆ°<code>1MHz</code>ï¼ŒæŠ¥é”™çš„è­¦å‘Šå°±æ¶ˆå¤±å•¦ï¼</p><!-- !["Verify failed"çš„è§£å†³åŠæ³•](images/ä½¿ç”¨DAPLinkä¸OpenOCDè§£é™¤MCUçš„Flashè¯»ä¿æŠ¤/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E4%BD%BF%E7%94%A8DAPLink%E4%B8%8EOpenOCD%E8%A7%A3%E9%99%A4MCU%E7%9A%84Flash%E8%AF%BB%E4%BF%9D%E6%8A%A4/image-2.png" alt="&quot;Verify failed&quot;çš„è§£å†³åŠæ³•"></p><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><ul><li>æ„Ÿè°¢æ•™ç¨‹: <a href="https://bbs.21ic.com/icview-3335340-1-1.html">https://bbs.21ic.com/icview-3335340-1-1.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MCU</tag>
      
      <tag>OpenOCD</tag>
      
      <tag>DAPLink</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨10æœˆï¼šæ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ª</title>
    <link href="/2024/09/22/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/10%E6%9C%88/README/"/>
    <url>/2024/09/22/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/10%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨10æœˆï¼šæ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ª"><a href="#æ‚è®°ä¸¨10æœˆï¼šæ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ª" class="headerlink" title="æ‚è®°ä¸¨10æœˆï¼šæ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ª"></a>æ‚è®°ä¸¨10æœˆï¼šæ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ª</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>åæœˆæ˜¯é‡‘ç§‹ï¼Œå›½åº†å¿«åˆ°äº†ï¼Œè¿™äº›å¤©å­¦åˆ°çƒ¦çš„æ—¶å€™å°±æ€»è¶´çª—å£å¾€å¤–æœ›ï¼šçœ‹çœ‹é˜³å…‰ç¿çƒ‚ä¸‹ä¸€ç‰‡ç»¿æ±ªæ±ªçš„äººå„¿å–Šç€å£å·ï¼Œå·²ç»å¬ä¸è§è‰é¸£ã€‚é¥é¥å‡æ—¥è¿‘åœ¨å’«å°ºï¼Œç›¼ç€ç›¼ç€å†è¿‡ä¸€æ®µæ—¶é—´ï¼Œå°±ç€æ°”æ°›èƒ½ä¸èƒ½ç”Ÿæ´»å¾—å¥½ä¸€äº›ï¼ˆè™½ç„¶æˆ‘æ—©å·²çŸ¥é“æ²¡è¯¾çš„æˆ‘éšæ—¶å¯ä»¥æ”¾å‡ã€‚</p><p>å¦ˆå¦ˆå‘æ¶ˆæ¯æ¥ï¼Œè¿™ä¸ªç¤¼æ‹œå¤©é˜¿å…¬è¿‡ç”Ÿæ—¥ï¼Œé—®æˆ‘åœ¨å­¦æ ¡å¿™ä¸å¿™ï¼Œæœ‰æ²¡æœ‰ç©ºå›å»ä¸€èµ·ç»™ä»–åº†ç”Ÿã€‚æ¶ˆæ¯å¼¹çª—å¥½ä¸€ä¼šå„¿ï¼Œæ²¡æœ‰å›ä¿¡ï¼Œæˆ‘å¿ƒçƒ¦æ„ä¹±ï¼Œéšæ„æŠŠæ‰‹æœºæŠ›åˆ°åºŠä¸Šå¥½è¿œï¼Œæƒ…ç»ªåˆå æ®æˆ‘çš„è„‘è¢‹ï¼šã€Œå…¶å®æˆ‘ä¸æƒ³å›å®¶ã€â€¦</p><p>è¿™æ­£æ˜¯ä¸€ä¸ªå¥‡æ€ªçš„å­˜åœ¨ï¼ŒäºŒåå¹´é—´ï¼Œæ¯æ¬¡ä»è¿œæ–¹å½’å®¶éƒ½èƒ½æ»¡å¿ƒæ¬¢å–œåœ°æœŸç›¼ä¸€è·¯ï¼Œä½†æ˜¯å½“çœŸæ­£é‡æ–°è¸å…¥è¿™ç‰‡æ›¾ç»å…»è‚²æˆ‘çš„åœŸåœ°æ—¶ï¼Œæˆ‘æ‰å‘ç°æœŸå¾…ä¸­çš„æ™¯è±¡ä¸è¿‡æ˜¯è‡ªå·±æé€ å‡ºçš„è‡ªæ¬ºæ¬ºäººçš„æ³¡æ²«ï¼Œä¸€åˆ‡éƒ½ä¸å¦‚æƒ³è±¡ä¸­çš„é‚£èˆ¬ç¾å¥½ã€‚è¿™è¾†è½°é¸£çš„åˆ—è½¦å¸¦æˆ‘é©¶å‘çš„ï¼Œä¸è¿‡æ˜¯è‡ªå·±æœæ€æš®æƒ³ã€åªå­˜åœ¨äºæ¯æ™šæ¢¦å¯çš„é‚£ä»½å®¶ä¹¡çš„é˜´æš—é¢ç½¢äº†ã€‚äºæ˜¯ï¼Œæˆ‘å¼€å§‹ä¸æ–­è¦è·‘ï¼Œé€ƒç¦»ã€é€ƒç¦»ã€é€ƒç¦»ï¼</p><p>è¯¥è¦é€ƒå‘å“ªé‡Œå‘¢ï¼Ÿè¿˜èƒ½é€ƒå»å“ªé‡Œå‘¢ï¼Ÿæ— è®ºåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œäººä»¬æ€»ä¼šåœ¨æœ€å¯¥å¯¥çš„å¤œæ™šé‡Œè¢«éš¾ä»¥åçŠ¶çš„ä¹¡æ„ç´§ç´§åœ°å¥—ç‰¢æ¡æ¢ï¼Œä½†æ˜¯ï¼Œæ˜æ˜æ€ä¹¡åªæ˜¯ä¸€ä¸ªæƒ…ç»ªè€Œå·²â€¦</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/image-0.jpg" alt="FORM ALBUMS OF JVKE" width = "300" height = "300" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/image-1.jpg" alt="æ‘„äºå®¶é™„è¿‘çš„å…¬å›­ï¼šæœ¨æ£‰èŠ±æ ‘" width = "300" height = "300" style="border-radius: 15px;"></div></div></div><hr><h3 id="2024-09-22-æ€ä¹¡åªæ˜¯ä¸€ç§æƒ…ç»ª"><a href="#2024-09-22-æ€ä¹¡åªæ˜¯ä¸€ç§æƒ…ç»ª" class="headerlink" title="2024&#x2F;09&#x2F;22 - æ€ä¹¡åªæ˜¯ä¸€ç§æƒ…ç»ª"></a>2024&#x2F;09&#x2F;22 - æ€ä¹¡åªæ˜¯ä¸€ç§æƒ…ç»ª</h3><p>ç™¾åº¦ç™¾ç§‘ä¸Šè¯´ï¼Œå€™é¸Ÿè¿å¾™å­£èŠ‚é€šå¸¸åˆ†ä¸ºæ˜¥ç§‹ä¸¤å­£ã€‚æ˜¥å­£çš„åŒ—å½’å€™é¸Ÿé€šå¸¸åœ¨ä¸‰æœˆè‡³äº”æœˆå®Œæˆè¿å¾™ï¼Œç§‹å­£çš„ç‡é£å€™é¸Ÿåˆ™åœ¨ä¹æœˆè‡³åä¸€æœˆè¿å¾™ã€‚å…¨ä¸–ç•Œå·²çŸ¥çš„è¿‘ä¸‡ç§é¸Ÿç±»ä¸­ï¼Œå¤§çº¦äº”åˆ†ä¹‹ä¸€æ˜¯å€™é¸Ÿï¼Œæ¯å¹´æ•°ä»¥äº¿è®¡çš„å€™é¸Ÿç©¿è¶Šä¸åŒå›½å®¶å’Œå¤§é™†ï¼Œè¿å¾™ï¼Œæ˜¯è‡ªç„¶ç•Œä¸­æœ€å£®è§‚çš„ç°è±¡ä¹‹ä¸€ã€‚</p><p>â€¦</p><p>ä»Šå¤©æ¸…æ™¨é†’äº†ä¸ªå¤§æ—©ï¼ŒæŒ£æ‰ç€ä¾ç¨€è®°å¾—æ˜¨å¤œæ˜¯ä»€ä¹ˆç†ç”±è¦æ—©èµ·â€¦ä¹Ÿå¤§è‡´è®°ä¸å¾—äº†ã€‚èµ·èº«ï¼Œä¸‹åºŠï¼Œå‘ç°å³è€³è«åå¬ä¸è§äº†ï¼Œçƒ¦èºåœ°æ‰äº†æ‰è€³æœµï¼Œç©ºè°ƒå¤–æœºçš„è½°é¸£æ˜¾å¾—ç¨€è–„ï¼Œå—¡å—¡å—¡ï¼Œåˆ†ä¸æ¸…æ¥šæ˜¯è€³é¸£è¿˜æ˜¯ç¯å¢ƒçš„ä½å£°ä½è¯­ï¼Œæ€€ç–‘æ˜¯æ°”å‹å˜ä½äº†å§ã€‚æœ€è¿‘é™æ¸©å¾—å‰å®³ï¼Œæ°´æ˜¯å†°å†°å‡‰å‡‰çš„ï¼Œåˆ·ç‰™çš„æ—¶å€™æƒ³èµ·ä»Šå¤©æ˜¯ä¸­ç§‹èŠ‚ï¼Œä¸­ç§‹ä¸­ç§‹ï¼Œå‰ä¸¤å¤©å¦ˆå¦ˆè¿˜ç‰¹åœ°é—®æˆ‘ã€Œä¸­ç§‹è¦æ€ä¹ˆè¿‡ï¼Ÿä½ å“¥å“¥å«‚å«‚å’Œå°å­©è¿‡æ¥è¿™è¾¹è¿‡èŠ‚ï¼Œä¸å›è€å®¶å»äº†ã€‚ã€æˆ‘è¿˜æš—è‡ªå·ç¬‘å‘¢ï¼Œä¸å›å¥½å•Šï¼Œä¸å›å¥½å•Šï¼Œæ­£å·§æˆ‘ä¹Ÿâ€¦åˆšæƒ³æ°æ°æ‰‹æŒ‡æ•°æ•°è¿™å›å¤šå°‘å¤©æ²¡å›å»è¿‡äº†ï¼Œè¦å¿µå‡ºå£°éŸ³æ¥ï¼ŒæƒŠè§‰ä¸å¯¹ï¼Œä¼¼ä¹è€³æœµçœŸçš„ä¸ç•™ä»»ä½•ç¼éš™åœ°è¢«å µä½äº†ï¼Œå¿ƒæ…Œä¹‹ä½™ï¼Œç‰™åˆ·è¿‡äºç”¨åŠ›æŠŠå£è…”æŒ«ä¼¤äº†ã€‚</p><p>æ˜¯è€µèå µå¡å•Šâ€¦æˆ‘æ‰‹æ‚ç€ä»ç„¶åƒç—›çš„ä¸‹å”‡ï¼Œã€Œä¸æƒ³å»åŒ»é™¢ï¼Œå¥½éº»çƒ¦ã€‚ã€ç½‘ä¸Šæœåˆ°çš„èƒ½è‡ªæ•‘çš„åŠæ³•æˆ‘éƒ½é€ä¸€è¯•è¿‡äº†ï¼Œæ¯æ°´è½¦è–ªï¼Œå¹²è„†å¸¦ç€è€³æœºæ­»é©¬å½“æ´»é©¬åŒ»ã€‚ä¸€æ•´ä¸ªä¸Šåˆï¼Œåå¸ˆã€å•è¯ã€å…¬å¼ã€è®¡ç®—ã€æ¦‚å¿µäº¤æ›¿æ— åºåœ°ä»çœ¼å‰å‡ºç°åˆæ¶ˆå¤±ï¼Œå¯å¿ƒä¸åœ¨ç„‰éƒ½ä¸çŸ¥åœ¨æƒ³äº›ä»€ä¹ˆï¼Œå¹²è„†æˆ‘å‘Šè¯‰è‡ªå·±ä»Šå¤©ç®—æ˜¯å®Œäº†ã€‚å‘æ€µæ—¶åˆ»å›å¿†èµ·æ˜¨æ™šæ·±å¤œå‘è¡¨æ‘†çƒ‚æ–‡å­¦ï¼š</p><p>ã€Œäººä»¬åœ¨å²¸ä¸Šã€‚æˆ‘æƒ³è±¡ç€è¿™å¹…æ™¯è±¡ï¼Œæˆ‘è¡æ”¯å°èˆ¹ï¼Œä½¿åŠ²åˆ’å‘€ã€æ‰’æ‹‰å•Šï¼Œçº¹ä¸ä¸åŠ¨ï¼Œè§†é‡å‰æ–¹çš„å ¤åè¿˜é¥é¥æ— æœŸï¼Œæ¥æ—¶çš„å»è·¯æ—©å·²æ¶ˆå¤±å¾—æ— å½±æ— è¸ªï¼Œæ°´ä¸‹ä¸€ç‰‡æ¼†é»‘ã€å¹½é™ï¼Œå­¤ç‹¬åœ°ï¼Œåªèƒ½è‡ªé¡¾å¬è§å­±å¼±çš„å¿ƒè·³ï¼Œä»¥åŠæ‚¬æŒ‚åœ¨å¤´é¢…ä¸Šæ–¹é‚£é¢—ç¡•å¤§çš„å€’è®¡æ—¶ï¼Œå’”å—’å’”å—’ï¼Œå½»å¤´å½»å°¾çš„DILEMMAï¼ç››å¤§çš„éª—å±€ï¼ã€</p><p>â€œå­¤ç‹¬åœ°â€¦å¿ƒè·³â€¦éª—å±€â€¦.â€æˆ‘æš—è‡ªé‡æ¸©ï¼Œå’€åš¼ç€è¿™äº›è´¹åŠ²çš„æ–‡å­—ï¼Œé•¿é•¿å¹æ¯ï¼Œéšå³æŠ¬å¤´çœ‹å‘çª—æˆ·å¤–ï¼Œé˜´å¤©ï¼Œæœ‰ä¸¤æ£µé«˜é«˜ç˜¦ç˜¦çš„æ ‘æ²¡æœ‰æ·‹é›¨ï¼Œé›¶é›¶æ•£æ•£ç«™ç«‹å‡ åªç°è‰²çš„é¸Ÿã€‚</p><p>åˆé¥­ä»€ä¹ˆä¹Ÿæ²¡åƒï¼Œå¿ƒæ€æ€»æ˜¯ä¸ç”±è‡ªä¸»åœ°ç¢ç£¨ç€ä»Šå¤©æ˜¯ä¸æ˜¯åº”è¯¥å‡ºé—¨ï¼Œå‡ºé—¨æˆ–è®¸è¿˜å¯ä»¥é¡ºä¾¿çœ‹çœ‹åŒ»ç”Ÿå‘¢ï¼Œè¿™ä¹ˆæƒ³ç€ã€‚å®¶æ—ç¾¤â€”â€”å¹¸ç¦å¤§å®¶åº­è¢«æ¨é€åˆ°äº†æ¶ˆæ¯é¦–é¡µï¼Œç‚¹å¼€çœ‹ï¼Œå¤§å®¶å­äººåœ¨ç»™äºŒè€å”±ç”Ÿæ—¥å¿«ä¹æ­Œåº†ç¥é«˜å¯¿å‘¢ï¼Œè›‹ç³•ä¸Šé²œçº¢çš„ã€Œç¦ã€ï¼Œå·§å…‹åŠ›åšçš„å¯¿æ¡ƒï¼Œè±¡å¾æ„å‘³çš„å¯¹è”ã€Œç¦å¦‚ä¸œæµ·ï¼Œå¯¿æ¯”å—å±±ã€ï¼Œç­‰å¾…åˆ†å‘çš„ä¸€æ¬¡æ€§çº¸ç›˜ä¸Šå †æ»¡é»„é¢œè‰²çš„å¡‘æ–™å‰ï¼Œæ¬¢é—¹çš„æ­Œå£°ä¸­æœ‰å­©ç«¥æå¥½å‰å­è¿«ä¸åŠå¾…äº†ã€‚ç°åœ¨å›´åœ¨æ–¹æ¡Œæ—ç°‡æ‹¥åœ¨ä¸¤ä½è€äººèº«è¾¹çš„éƒ½æ˜¯â€œå°å°å­©â€ï¼Œæ›¾å­™å•¦ï¼Œä»å‰æ˜¯å­™å­å­™å¥³ï¼Œå¦‚ä»Šéƒ½åœ¨ç”»å¤–ï¼Œç”šè‡³ç”»å¤–éŸ³éƒ½æ²¡æœ‰ã€‚æƒ³åˆ°è¿™é‡Œæˆ‘æ­¢ä¸ä½å‘ç¬‘ï¼Œä¹Ÿä¸çŸ¥é“åœ¨ç¬‘ä»€ä¹ˆï¼Œä¸é‡è¦ï¼Œä¸å¦‚æƒ³æƒ³åˆé¥­åšä½•æ‰“ç®—å¥½ï¼Œæ—¶é—´æ€»åœ¨ä¸è¢«å¯Ÿè§‰çš„æ—¶å€™æºœè¿‡å»ã€‚</p><p>å¥½ç´¯å•Šï¼Œä»Šå¤©å°±å½“ä½œæˆ‘ä¸åœ¨å§ï¼Œé¡ºåŠ¿æ³„æ°”ä¸€èˆ¬åœ°è¶´åˆ°æ¡Œå­ä¸Šï¼Œä¹±ç³Ÿç³Ÿçš„ï¼Œç¬”å•Šã€è¯•å·çº¸ã€å‚è€ƒä¹¦ã€è‰ç¨¿æ‚ç³…ç€è¢«æˆ‘çš„èº¯ä½“å‹å¾—ç»“ç»“å®å®ï¼Œæ˜æ˜æ²‰æ²‰åœ°å…¥çœ ã€‚å†çå¼€çœ¼çš®çš„æ—¶å€™ï¼Œä¸‰ç‚¹ï¼Œä¹¦æ¡Œå‰çš„ç¯ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™è¢«è¯¯è§¦æ‰“å¼€ï¼Œæ˜äº®å¾—ç›´æ™ƒçœ¼ï¼Œæˆ‘æ€”æ€”åœ°åèµ·èº«ï¼Œå¾€é˜³å°æ–¹å‘è¹’è·šè¸±æ­¥ï¼Œé åœ¨æ …æ çš„åŒæ—¶æˆ‘æ‹¨é€šäº†é˜¿å…¬çš„ç”µè¯ã€‚ç”µè¯é€šäº†è‰¯ä¹…æ— äººå‘è¨€ï¼Œã€Œå–‚ï¼Œé˜¿å…¬ï¼Œç¥ä½ â€¦ã€æˆ‘å°±è¦æƒ³æ•·è¡äº†äº‹ï¼Œè¢«ä»–ä¼¼ä¹æ˜¯è“„è°‹å·²ä¹…åœ°æ‰“æ–­ï¼Œå£°éŸ³æ²™å“‘åˆç–²æƒ«ã€Œæ±æŠµæ¯‹æŠµæ±å‡ ä¹…å†‡è½‰ä¾†å–”ï¼Ÿã€çªå¦‚å…¶æ¥ï¼Œå³è€³å†…ä¼ æ¥å·¨å¤§çš„â€œå•µâ€ä¸€å£°ï¼Œé¡¿æ—¶ä¸–ç•Œå˜å¾—æ¸…æ™°æ— æ¯”â€¦</p><blockquote><p>è¿™ä»¶äº‹ï¼Œæˆ‘æ­£åœ¨åšï¼Œå±è”½ä¸€åˆ‡æ³¢åŠ¨ï¼Œæˆ‘ä»¬å·²è¿›å…¥é©¬æ‹‰æ¾è‰°éš¾çš„ååŠç¨‹ï¼Œç°åœ¨ä¸èƒ½å†çœ‹è¿œå¤„ï¼Œä¸èƒ½æ‰©å¤§ç–²åŠ³çš„çŒœåº¦ï¼Œåªèƒ½ç´§ç›¯è„šä¸‹ä¸¤ä¸‰ç±³è·ç¦»ï¼Œç„¶åä»¥ä¸€æ¬¡æ¬¡å‘¼å¸æ¥ç¡®è®¤è‡ªå·±ä»åœ¨å‘¼å¸ï¼Œç„¶åï¼Œå†ä¸€æ¬¡å‘¼â€”â€”å¸ï¼Œå¦‚æ­¤æ‰èƒ½ç»§ç»­æ¨è¿›ã€‚å»åšæ¯ä¸€ä»¶äº‹ï¼Œè¿™å°±æ˜¯å¹¸ç¦ï¼Œæˆ‘é€‰æ‹©è¿‡äº†ï¼Œç°åœ¨æˆ‘åˆ«æ— ä»–æ±‚ã€‚â€”â€”9 FRAMES</p></blockquote><p>é¸Ÿç¾¤ä¸ºäº†ç”Ÿå­˜è€Œé€‰æ‹©è¿å¾™ï¼Œäººä¸ºäº†ä»€ä¹ˆé€‰æ‹©å›å®¶ï¼Œåˆä¸ºäº†ä»€ä¹ˆå†³å®šå‡ºèµ°ï¼Ÿ</p><h3 id="2024-10-27-å†çœ‹ä½ ä¸€çœ¼ï¼Œæˆ‘å°±å¤´ä¹Ÿä¸å›åœ°èµ°äº†â€¦"><a href="#2024-10-27-å†çœ‹ä½ ä¸€çœ¼ï¼Œæˆ‘å°±å¤´ä¹Ÿä¸å›åœ°èµ°äº†â€¦" class="headerlink" title="2024&#x2F;10&#x2F;27 - å†çœ‹ä½ ä¸€çœ¼ï¼Œæˆ‘å°±å¤´ä¹Ÿä¸å›åœ°èµ°äº†â€¦"></a>2024&#x2F;10&#x2F;27 - å†çœ‹ä½ ä¸€çœ¼ï¼Œæˆ‘å°±å¤´ä¹Ÿä¸å›åœ°èµ°äº†â€¦</h3><p>æ˜¨æ™šåœ¨å¯å®¤ï¼Œä¸€ç›´ä¸€ç›´å‘å‘†ï¼Œå‚»æ¥åœ°æƒ³è¦åšä¸€äº›æœºæ¢°é‡å¤çš„åŠ¨ä½œæ¥æŠ‘åˆ¶æ€ç»ªçº·é£çš„å¤§è„‘ï¼Œå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“åœ¨æƒ³äº›ä»€ä¹ˆï¼Œæˆ‘æ€»æ˜¯è¿™æ ·ï¼Œå¤§æ¦‚æ˜¯ä¸æƒ³å†åšè¿™äº›æ€ä¹ˆä¹Ÿè§£ä¸å¼€çš„éš¾é¢˜å§ï¼Œé‡å¤é‡å¤é‡å¤â€¦</p><p>å®¤å‹åœ†æ‹‰æˆ‘çœ‹ç›´æ’­ï¼Œåˆåˆ°äº†ä¸€å¹´ä¸€åº¦çš„è‹±é›„è”ç›Ÿä¸–ç•Œèµ›ï¼Œä»Šå¤©çœ‹LCKèµ›åŒºçš„åŠå†³èµ›ï¼Œæ®è¯´éå¸¸çš„ç²¾å½©ï¼Œæˆ‘å¯¹è¿™äº›æ¸¸æˆä¸å¤ªæ„Ÿå†’ï¼Œä½†æ„Ÿè§‰å‡‘ä¸Šå»çƒ­é—¹äº›ï¼Œæ˜¾å¾—æˆ‘æœ‰äº‹æƒ…å¯åšï¼Œéª¤ç„¶è„‘è¢‹é‡Œè¹¦å‡ºäº†å‡ ä¸ªç²—ä½“æ”¾å¤§çš„æ–‡å­—ï¼š<strong>é€ƒé¿å¯è€»ï¼</strong> å¤§ä¸€çš„æ—¶å€™ä¹Ÿæ˜¯è¿™æ ·ï¼Œå…¥å­¦ä¹æœˆæ‰ç›¸è¯†çš„ä¸å¤ªè°ˆå¤©è¯´è¯ï¼Œåæœˆå´è®©è¿™åœºèµ›äº‹ç‚¹ç‡ƒäº¤æµçš„çƒ­æƒ…ï¼ŒæŒ‰ç†è¯´ï¼Œæˆ‘å¾—æ„Ÿè°¢å®ƒã€‚</p><p>æ­£å¼æ¯”èµ›çš„å‰åŠæ®µå¾ˆæ— è¶£ï¼Œåœ†çªå‘å¥‡æƒ³é—®æˆ‘ï¼šã€Œå¦‚æœä½ å³å°†é¢ä¸´ä¸€æ¬¡çŸ­æš‚çš„é‡é€¢ï¼Œä½ ä¼šæ„Ÿåˆ°å¼€å¿ƒè¿˜æ˜¯éš¾è¿‡ï¼Ÿã€</p><p>æˆ‘å‡ ä¹æ˜¯ä¸å‡æ€ç´¢åœ°ç­”å¤ä»–è¯´åˆ°ï¼Œå¼€å¿ƒå§ï¼Œæ¯•ç«Ÿå†çŸ­æš‚ä¹Ÿæ˜¯ç»ˆäºèƒ½å¤Ÿè§é¢äº†ï¼Œå³ä½¿è½¬ç¬å³é€ï¼Œæˆ‘ä¼šæ„Ÿåˆ°å¼€å¿ƒã€‚</p><p>æ˜¾ç„¶æˆ‘çš„å›ç­”ä¸æ˜¯ä»–æƒ³å¬åˆ°çš„ç­”æ¡ˆï¼Œåœ†åˆé—®ï¼Œéš¾é“ä½ å°±ä¸ä¼šå› ä¸ºåˆ†åˆ«è€Œæ„Ÿåˆ°éš¾è¿‡å—ï¼Œé‡é€¢æ˜æ˜åªæœ‰åœ¨â€œè®¡åˆ’â€å’Œâ€œè·¯é€”â€ä¸­æ‰ä¼šä»¤äººå–œæ‚¦ï¼Œæœ€ç»ˆä¹Ÿå…ä¸äº†è¿˜æ˜¯è¦ç»å†åˆ†åˆ«çš„æ‚²ä¼¤å•Šã€‚</p><p>æˆ‘â€œå™¢â€çš„ä¸€å£°ï¼Œæ¥ç€è¯´å‡ºæˆ‘çš„æƒ³æ³•ï¼šæˆ–è®¸æ˜¯æˆ‘æƒ¦å¿µç€çš„äººå¤ªæœ‰é™äº†å§ï¼Œå‘ƒâ€¦æˆ‘å’Œæˆ‘çš„å¥¶å¥¶ï¼Œè¿™ä¸€è¾ˆå­å¤§æ¦‚ä¹Ÿå°±è¿˜èƒ½å†è§é¢å‡ åæ¬¡ï¼Œæˆ‘å·²ç»çŸ¥è¶³äº†ï¼Œå½“ç„¶æˆ‘ä¹Ÿå¾ˆçˆ±å¥¹ï¼Œç”šè‡³æƒ³è¦è§é¢æˆ‘ç°åœ¨å°±å¯ä»¥åšåˆ°ç«‹åˆ»ä¹˜è½¦å‡ å°æ—¶å›å®¶ï¼Œä½†æ˜¯æˆ‘ä¸èƒ½ï¼Œä¹Ÿä¼¼ä¹æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæˆ‘èƒ½åšçš„å”¯æœ‰çæƒœæ—¶é—´è€Œå·²â€¦è¯´å‡ºè¿™æ®µè¯ä»¥åæˆ‘åˆé¡¿äº†é¡¿ï¼Œå¿ƒé‡Œè®¡ç®—ç€æ—¶é—´ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·äº†ã€‚</p><p>â€¦</p><p>æƒ³èµ·å›½åº†å›å®¶çš„å‡ å¤©ï¼Œè¿˜æ˜¯å…ä¸äº†è¢«æŠ“å£®ä¸å‚ä¸äº†çˆ¶äº²ç»„ç»‡çš„è€å‹èšä¼šï¼Œç¾çº¦â€œå¤šè§è§ä¸–é¢â€ã€‚å€’æ˜¯å’Œä¸¤ä½è€äººç›¸å¤„çš„æ—¶é—´å˜å¾—å¾ˆå°‘å¾ˆå°‘ï¼Œå¯¥å¯¥çš„åªæœ‰å‡ é¤æ™šé¥­çš„æ—¶å…‰è€Œå·²ã€‚å¾—çŸ¥æˆ‘ä¸‰å·å°±è¦èµ°ï¼Œä»–ä»¬ä¼¼ä¹å˜å¾—å¿ƒäº‹é‡é‡ã€‚</p><p>ä¸´è¡Œå½“å¤©çš„ä¸Šåˆï¼Œå¥¶å¥¶å”¤æˆ‘åˆ°å¥¹çš„é¢å‰ï¼Œå·å·æŠŠä¸€å¼ åšåšçš„çº¢åŒ…å¡åˆ°æˆ‘æ‰‹æŒå¿ƒæç´§åˆæ”¥äº†æ”¥ã€‚æˆ‘ä¸€æ—¶ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆå¥½ï¼Œå‘†å‘†åœ°åªçœ‹ç€å¥¶å¥¶ã€‚æ³¨è§†ç€å¥¹ä½å»çš„èƒŒï¼Œèº«é«˜å¦‚ä»Šåªå¤Ÿåˆ°æˆ‘çš„èƒ¸å‰ï¼Œç™½èŠ±èŠ±çš„ä¸€å¤´çŸ­å‘å¼€å§‹ç¨€ç–çœ‹è§çš®è‚¤çš„é¢œè‰²ã€‚æˆ‘ä¸€æ—¶ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆå¥½ï¼Œå¥¹å¤ªè¦å¼ºäº†ï¼Œæ— è®ºæ˜¯åœ¨å¥¹çš„å„¿å­ä»¬é¢å‰ï¼Œè¿˜æ˜¯åœ¨å¥¹çš„å­™å­é¢å‰ã€‚å†ä¸€æ¬¡é‡é‡åœ°æææˆ‘çš„æ‰‹ï¼Œå¥¶å¥¶æ“ç€å¦‚æ­¤ç†Ÿæ‚‰çš„å®¢å®¶è¯­å¯¹æˆ‘è¯´ï¼š</p><p>ã€Œè‰¯ä»”è¦å¥½å¥½è¯»ä¹¦å“¦ï¼Œçº¢åŒ…ä½ æ”¶å¥½åˆ«æ‰äº†ã€‚é˜¿å©†æˆ‘æ²¡ä»€ä¹ˆé’±äº†ï¼Œä¸Šæ¬¡åƒé¥­ä½ ä¹Ÿæ²¡æœ‰å›æ¥ï¼Œè¿™çº¢åŒ…å°±å½“ä½œæ˜¯æˆ‘ç»™ä½ å¼€å­¦ç”¨çš„ã€‚æˆ‘çš„è…¿ä¹Ÿèµ°ä¸åŠ¨ï¼Œè€³æœµä¹Ÿè‹ï¼Œè¿™æ¬¡ä½ èµ°äº†æ˜¯è¦ç­‰åˆ°è¿‡å¹´æ‰èƒ½å†å›æ¥äº†å§ï¼Ÿã€</p><p>æˆ‘ä¸€æ—¶ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆå¥½ï¼Œå¼ å¼€æ‰‹è‡‚è½»è½»æŠ±äº†æŠ±å¥¶å¥¶ï¼Œå¥¹ä¸€ä¸‹ä½ç€å¤´ï¼ŒæŒ¥æŒ¥æ‰‹ï¼Œè¯´ç€å¥½äº†å¥½äº†ï¼Œè½¦åˆ°äº†å§ï¼Ÿä½ å¿«ç‚¹å‡ºå‘ï¼Œäººå®¶åœ¨æ¥¼ä¸‹ç­‰ä½ äº†ã€‚</p><p>â€¦</p><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script><div id="posts-chart"style="border-radius: 8px; height: 190px; padding: 10px;"></div><hr><h3 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h3><p>è¿™æ¬¡æ‚è®°ä½¿ç”¨çš„å°é¢æ¥è‡ªäºALBUMS OF JVKEï¼Œæ­Œæ‰‹JVKEçš„<code>this is what ____ feels like</code>ç³»åˆ—ä¸“è¾‘å°é¢ï¼Œå¾ˆç¾ï¼ˆæ­Œä¹Ÿç¾ï¼Œè®¾è®¡çµæ„Ÿæ¥æºäºæ¢µé«˜çš„ã€Šç››å¼€çš„æèŠ±ã€‹ã€‚</p><figure><img src="/images/æ‚è®°/2024å¹´/10æœˆ/image-2.jpg" alt="æ¢µé«˜å®¶æ—æ°¸ä¸å‡ºå”®çš„ç”»ä½œâ€”â€”ã€Šç››å¼€çš„æèŠ±ã€‹" width = "300" height = "300" style="border-radius: 15px;"><figcaption>æ¢µé«˜å®¶æ—æ°¸ä¸å‡ºå”®çš„ç”»ä½œâ€”â€”ã€Šç››å¼€çš„æèŠ±ã€‹</figcaption></figure><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-1.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-2.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-3.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-4.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-5.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-6.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-7.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-8.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-9.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-10.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-11.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/10æœˆ/album-12.jpg" alt="FORM ALBUMS OF JVKE" width = "200" height = "200" style="border-radius: 15px;"></div></div></div><hr>]]></content>
    
    
    <categories>
      
      <category>Life Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>record</tag>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®</title>
    <link href="/2024/09/07/Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%B8%AA%E6%80%A7%E5%8C%96%E8%AE%BE%E7%BD%AE/README/"/>
    <url>/2024/09/07/Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%B8%AA%E6%80%A7%E5%8C%96%E8%AE%BE%E7%BD%AE/README/</url>
    
    <content type="html"><![CDATA[<h3 id="Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®"><a href="#Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®" class="headerlink" title="Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®"></a>Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®</h3><h3 id="è¿™å‡ å¤©ï¼Œè¿æ¥äº†åšå®¢å¤§ä¿®ï¼ŒåŒæ—¶åŠ å…¥äº†è¯„è®ºåŠŸèƒ½ï¼Œeventually-å¯ä»¥å’Œå¤§å®¶bablababababa"><a href="#è¿™å‡ å¤©ï¼Œè¿æ¥äº†åšå®¢å¤§ä¿®ï¼ŒåŒæ—¶åŠ å…¥äº†è¯„è®ºåŠŸèƒ½ï¼Œeventually-å¯ä»¥å’Œå¤§å®¶bablababababa" class="headerlink" title="è¿™å‡ å¤©ï¼Œè¿æ¥äº†åšå®¢å¤§ä¿®ï¼ŒåŒæ—¶åŠ å…¥äº†è¯„è®ºåŠŸèƒ½ï¼Œeventually! å¯ä»¥å’Œå¤§å®¶bablababababa!!!"></a>è¿™å‡ å¤©ï¼Œè¿æ¥äº†åšå®¢å¤§ä¿®ï¼ŒåŒæ—¶åŠ å…¥äº†è¯„è®ºåŠŸèƒ½ï¼Œeventually! å¯ä»¥å’Œå¤§å®¶bablababababa!!!</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><p>å¾ˆå–œæ¬¢è¿™ä¸ªè¡¨æƒ…åŒ…å°çŒ«ï¼Œit reminds me the github cat!!!</p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://emojis.slackmojis.com/emojis/images/1643515259/12807/meow_attentionreverse.png?1643515259" width = "135" height = "135" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="/images/Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®/image-3.gif" width = "135" height = "135" style="border-radius: 15px;"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://emojis.slackmojis.com/emojis/images/1643515259/12807/meow_attentionreverse.png?1643515259" width = "135" height = "135" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®/image-3.gif" width = "135" height = "135" style="border-radius: 15px;"></div></div></div><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>å…¶å®åœ¨å½“åˆåœ¨ä¸ºåšå®¢å»ºç«™åšå‡†å¤‡çš„æ—¶å€™ï¼Œæˆ‘æ˜¯å¹¶æ²¡æœ‰æ‰“ç®—å¾€åšå®¢å½“ä¸­å®‰è£…è¯„è®ºç³»ç»Ÿçš„ã€‚åŸå› æ˜¯å½“æ—¶è§‰å¾—ä½œä¸ºæµ©ç€šäº’è”ç½‘ä¸­çš„ä¸€ä¸ªæ™®æ™®çš„å°ç«™ï¼Œè®¿é—®å¯†åº¦ä¸€å®šæ˜¯ååˆ†æ¸ºå°çš„ã€‚å…¶æ¬¡ï¼ŒåŸæ„æ˜¯ä½œä¸ºæŠ€æœ¯åšå®¢æ¥è¿›è¡Œå»ºè®¾ï¼Œç”¨æ¥å­˜æ”¾ä¸ªäººå­¦ä¹ æ—¶çš„è®°å½•çš„ç¬”è®°ã€æ–¹æ³•ç­‰ï¼Œä»…ä»…é¢å‘ä¸ªäººã€‚äºæ˜¯å°±ä¼šåœ¨é‚£æ§è„‘è¢‹æƒ³ï¼šè¯„è®ºåº”è¯¥æ²¡æœ‰å¿…è¦å§â€¦</p><p>ä¸è¿‡è¿‘æœŸå‘ç°ï¼Œé™¤äº†æŠ€æœ¯è¿™ç±»<del>ä¸¥è‚ƒå†…å®¹ï¼ˆ</del>çš„è¾“å‡ºï¼Œæ¸æ¸ä¹Ÿä¼šåˆ†äº«ä¸€äº›ç”Ÿæ´»æ–¹é¢çš„å†…å®¹ä»¥åŠä¸€äº›è‡ªå·±çš„æƒ³æ³•ã€‚æƒ³æƒ³ååœ¨ç”µè„‘é¢å‰è¾¹æƒ³è¾¹æ•²å•Šæ•²ï¼Œå‘å¸ƒå‰è¿˜å¾—å‘¼å‡ºå‘½ä»¤è¡Œ<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>ï¼Œè¿™ç§å¤å¤çš„ä»ªå¼æ„Ÿï¼Œå—¯ï¼Œold good timesï¼Œæ„Ÿè§‰èµ·æ¥è¿˜æ˜¯å¾ˆæ„‰å¿«çš„ï¼åæœŸå¯èƒ½ä¼šæ…¢æ…¢å¾€ã€ŒæŠ€æœ¯ + ç”Ÿæ´»ã€ä¸¤å¤§å—å†…å®¹å‘å±•ã€ç”Ÿé•¿ã€‚è¿™ä¸ªæ—¶å€™ï¼Œçªç„¶å°±æ„Ÿåˆ°ï¼Œè¦æ˜¯èƒ½æœ‰å‹äººåœ¨åº•ä¸‹commentè¿˜æ˜¯å¾ˆå¹¸ç¦çš„ï¼Œæ‰€ä»¥åšå®¢æ‹¥æœ‰ä¸€ä¸ªè¯„è®ºç³»ç»Ÿè¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚</p><p>è¿˜æœ‰ä¸€ä»¶äº‹ï¼Œå°±æ˜¯æˆ‘å¼€å§‹å†™åšå®¢æ¥è¿‘å¿«ä¸€å¹´äº†ï¼é¼“æŒç¥è´ºpiapiapiaï¼ä½†æ˜¯ï¼Œä¹Ÿæ²¡æœ‰äº¤åˆ°å¤šå°‘èµ›åšå‹é‚»ï¼Œæ²®ä¸§â€¦å¸Œæœ›æ·»åŠ è¯„è®ºç³»ç»Ÿä»¥åèƒ½å¤Ÿå¼€å§‹make good friends!</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="Vercel-Twikoo-äº‘å‡½æ•°éƒ¨ç½²"><a href="#Vercel-Twikoo-äº‘å‡½æ•°éƒ¨ç½²" class="headerlink" title="Vercel + Twikoo äº‘å‡½æ•°éƒ¨ç½²"></a>Vercel + Twikoo äº‘å‡½æ•°éƒ¨ç½²</h3><p>æˆ‘æ­å»ºè¯„è®ºåŠŸèƒ½ä½¿ç”¨çš„å¹³å°æ˜¯<code>Twikoo</code>ï¼Œä¸€ä¸ªç®€æ´ã€å®‰å…¨ã€å…è´¹çš„é™æ€ç½‘ç«™è¯„è®ºç³»ç»Ÿï¼š<a href="https://twikoo.js.org/">-&gt;poke here</a>.</p><p>å› ä¸ºæˆ‘å½“å‰çš„é™æ€åšå®¢æ­å»ºä½¿ç”¨çš„æ˜¯<code>Hexo + Fluid</code>ï¼Œç„¶å Fluid ä¸»é¢˜å½“ä¸­é›†æˆå¥½äº† Twikoo çš„æ’ä»¶ï¼Œå› æ­¤æˆ‘åªéœ€è¦å®Œæˆäº‘å‡½æ•°éƒ¨ç½²å³å¯ï¼ˆæˆ‘é€‰æ‹©ä½¿ç”¨<a href="https://twikoo.js.org/backend.html#vercel-%E9%83%A8%E7%BD%B2">Verceléƒ¨ç½²æ–¹å¼</a>ã€‚</p><h3 id="Twikooä¸ªæ€§åŒ–è®¾ç½®"><a href="#Twikooä¸ªæ€§åŒ–è®¾ç½®" class="headerlink" title="Twikooä¸ªæ€§åŒ–è®¾ç½®"></a>Twikooä¸ªæ€§åŒ–è®¾ç½®</h3><p>Twikooè¯„è®ºç³»ç»Ÿçš„ä¸ªæ€§åŒ–è®¾ç½®å‚è€ƒäº†<a href="https://www.gigigatgat.ca/posts/twikoo-tutorial/">è¿™ç¯‡æ–‡ç« </a>ï¼Œéå¸¸è°¢è°¢è¿™ä½Poä¸»ï¼</p><h4 id="å¤´åƒè®¾ç½®"><a href="#å¤´åƒè®¾ç½®" class="headerlink" title="å¤´åƒè®¾ç½®"></a>å¤´åƒè®¾ç½®</h4><p><code>Configuration-General-GRAVATAR_CDN</code>ä¸€æ å¡«å…¥<code>gravatar.com</code>.</p><p>è‡ªå®šä¹‰å¤´åƒï¼Œå¯ä»¥å‰å¾€<a href="https://gravatar.com/">Gravatar</a>è¿™ä¸ªç½‘ç«™ç”¨è‡ªå·±çš„é‚®ç®±æ³¨å†Œè´¦å·å¹¶ä¸Šä¼ ä¸ªäººå¤´åƒï¼Œå³å¯ä½¿ç”¨è¯¥é‚®ç®±è¿›è¡Œè¯„è®ºæ—¶æ˜¾ç¤ºè‡ªå·±çš„è‡ªå®šä¹‰å¤´åƒå•¦ï¼</p><h4 id="è‡ªå®šä¹‰è¡¨æƒ…åŒ…"><a href="#è‡ªå®šä¹‰è¡¨æƒ…åŒ…" class="headerlink" title="è‡ªå®šä¹‰è¡¨æƒ…åŒ…"></a>è‡ªå®šä¹‰è¡¨æƒ…åŒ…</h4><p><code>Configuration-Plugin-EMOTION_CDN</code>ä¸€æ è¾“å…¥<code>https://raw.githubusercontent.com/avocadoTiff/twikoo/main/owo.json</code>ï¼Œè¿™æ˜¯åŸæ–‡ç« Poä¸»åˆ¶ä½œçš„è‡ªå®šä¹‰è¡¨æƒ…åŒ…åº“ï¼Œç„¶åä½ ä¹Ÿå¯ä»¥æ‹¥æœ‰è¿™ä¹ˆä¸€åªå¯çˆ±å°çŒ«ï¼</p><p><strong>WHAT A LOVELY CAT!!!</strong></p><!-- ![Twikooè¯„è®ºæ•ˆæœå›¾](/images/Twikooè¯„è®ºç³»ç»Ÿçš„å®‰è£…ä¸ä¸ªæ€§åŒ–è®¾ç½®/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%B8%AA%E6%80%A7%E5%8C%96%E8%AE%BE%E7%BD%AE/image-1.png" alt="Twikooè¯„è®ºæ•ˆæœå›¾"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¹Ÿç…§çŒ«ç”»è™åœ°å°è¯•èµ·åˆ¶ä½œè‡ªå·±çš„è‡ªå®šä¹‰è¡¨æƒ…åŒ…åº“å•¦ï¼ˆæ’¸èµ·è¢–å­çŠ¶ï¼</p><p>è¡¨æƒ…åŒ…çš„åˆ¶ä½œå…¶å®å¾ˆç®€å•ï¼åªè¦æŒ‰ç…§ä»¥ä¸‹çš„<code>json</code>æ–‡ä»¶æ ¼å¼åˆ¶ä½œä¸€ä»½<code>owo.json</code>æ–‡ä»¶ï¼Œç„¶åå°†è¿™ä¸ªæ–‡ä»¶æ”¾åˆ°ä½ çš„ä»“åº“ï¼Œæˆ–è€…å¯¹è±¡å­˜å‚¨ç­‰åŒºåŸŸå°±å¯ä»¥è¿›è¡Œè°ƒç”¨å•¦ï¼</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-16f8b946" role="button" aria-expanded="false" aria-controls="collapse-16f8b946">        <div class="fold-arrow">â–¶</div>åˆ¶ä½œè¡¨æƒ…åŒ…çš„ json æ–‡ä»¶æ ¼å¼      </div>      <div class="fold-collapse collapse" id="collapse-16f8b946">        <div class="fold-content">          <p>åˆ¶ä½œè¡¨æƒ…åŒ…æœ‰ä¸‰ç§<code>type</code>ï¼š</p><ul><li><code>emoticon</code>ï¼šé¢œæ–‡å­—ï¼Œæ–‡å­—ç±»ã€‚</li><li><code>emoji</code>ï¼šè¿™ä¸ªæ€ä¹ˆç¿»è¯‘å•Šï¼Œå°è¡¨æƒ…åŒ…å—hhhï¼Ÿ</li><li><code>image</code>ï¼šè·å–å›¾ç‰‡å½“æˆè¡¨æƒ…åŒ…ï¼Œéœ€è¦æä¾›URLã€‚</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;é¢œæ–‡å­—&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;emoticon&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;container&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;(ãƒÂ°Î¿Â°)ãƒ&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å‰æ–¹é«˜èƒ½é¢„è­¦&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;(Â´à®‡çš¿à®‡ï½€)&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆ‘ä»æœªè§è¿‡å¦‚æ­¤åšé¢œæ— è€»ä¹‹äºº&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;Emoji&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;emoji&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;container&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ğŸ˜‚&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ğŸ˜€&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;Bilibili&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;container&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;img src=\&quot;https://owo.imaegoo.com/bilibili/6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png\&quot;&gt;&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tv_doge&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&lt;img src=\&quot;https://owo.imaegoo.com/bilibili/a8111ad55953ef5e3be3327ef94eb4a39d535d06.png\&quot;&gt;&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;text&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tv_äº²äº²&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p>ä»¥ä¸‹æ˜¯å‡ ä¸ªåŒ…å«äº†å¾ˆå¤šå¾ˆå¤šå„ç§å„æ ·çš„è‡ªå®šä¹‰è¡¨æƒ…åŒ…çš„åœ°å€ï¼š</p><ul><li><a href="Twikoo-Magic">Twikoo-Magic</a>ï¼Œä¸€ä¸ªæœç½—äº†è®¸å¤šçƒ­é—¨Twikooè¡¨æƒ…åŒ…çš„ä»“åº“ã€‚</li><li><a href="https://slackmojis.com/">Slackmojis</a>ï¼Œè¶…è¶…è¶…å¤šè¡¨æƒ…åŒ…ï¼Œæä¾›äº†<code>alt text</code>ï¼Œå³é”®å¯ä»¥<code>å¤åˆ¶å›¾ç‰‡é“¾æ¥</code>ã€‚</li><li><a href="https://emotion.xiaokang.me/#/">å°åº·çš„è¡¨æƒ…é€ŸæŸ¥</a>ï¼Œå±…ç„¶å¯ä»¥ä¸€é”®ç”ŸæˆTwikooè¡¨æƒ…åŒ…çš„ json æ–‡ä»¶ï¼Œä¸è¿‡çœ‹ä¸Šçœ¼çš„å°±å°‘äº†äº›ï¼ˆ</li></ul><p>æœ€åç»ˆäºï¼Œæˆ‘ä¹Ÿåˆ¶ä½œäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„è¡¨æƒ…åŒ…åº“ï¼Œå’Œæˆ‘çš„åšå®¢æ‰”åœ¨åŒä¸€ä¸ªGithubä»“åº“å•¦ï¼</p><p><code>Configuration-Plugin-EMOTION_CDN</code>ä¸€æ è¾“å…¥<code>https://raw.githubusercontent.com/ZhangKeLiang0627/ZhangKeLiang0627.github.io/main/img/sys/owo.json</code>ï¼Œå³å¯ä½¿ç”¨åŒæ¬¾è¡¨æƒ…ahhhï¼</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://emojis.slackmojis.com/emojis/images/1643514476/4594/blob-wave.gif?1643514476" width = "135" height = "135" style="border-radius: 15px;"></div><div class="group-image-wrap"><img src="https://emojis.slackmojis.com/emojis/images/1666924513/62049/blob_crazy_happy.gif?1666924513" width = "135" height = "135" style="border-radius: 15px;"></div></div></div><h4 id="é…ç½®é‚®ä»¶é€šçŸ¥æœåŠ¡"><a href="#é…ç½®é‚®ä»¶é€šçŸ¥æœåŠ¡" class="headerlink" title="é…ç½®é‚®ä»¶é€šçŸ¥æœåŠ¡"></a>é…ç½®é‚®ä»¶é€šçŸ¥æœåŠ¡</h4><p>è¿™é‡Œä»¥é…ç½®QQé‚®ç®±ä¸ºä¾‹ï¼š</p><p>é¦–å…ˆï¼Œä½ è¦å…ˆå¼€å¯é‚®ç®±çš„POP3&#x2F;SMTPæœåŠ¡ï¼š<a href="https://blog.csdn.net/weixin_58068682/article/details/122770936">-&gt;click here to know more details</a>.</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">        <div class="fold-arrow">â–¶</div>ä½ ä»…éœ€è¦å¡«å†™çš„é‚®ä»¶é€šçŸ¥é€‰é¡¹      </div>      <div class="fold-collapse collapse" id="collapse-dcdac752">        <div class="fold-content">          <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs md">SENDER<span class="hljs-emphasis">_EMAIL: &lt;ä½ çš„QQé‚®ç®±åœ°å€&gt;</span><br><span class="hljs-emphasis">SENDER_</span>NAME: &lt;å‘é€é‚®ä»¶è€…åç§°&gt;<br>MAIL<span class="hljs-emphasis">_SUBJECT: &lt;è‡ªå®šä¹‰é€šçŸ¥é‚®ä»¶ä¸»é¢˜&gt;</span><br><span class="hljs-emphasis">SMTP_</span>SERVICE: &lt;ä½ çš„é‚®ä»¶æœåŠ¡æä¾›å•†&gt;<br>SMTP<span class="hljs-emphasis">_USER: &lt;é‚®ä»¶é€šçŸ¥é‚®ç®±ç”¨æˆ·å&gt;(éœ€ä¸SENDER_</span>EMAILä¸€è‡´)<br>SMTP<span class="hljs-emphasis">_PASS: &lt;é‚®ä»¶é€šçŸ¥é‚®ç®±å¯†ç &gt;(æˆæƒç )</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p>å¡«å†™å¥½åï¼Œå¯ä»¥ä½¿ç”¨ã€Œé‚®ä»¶é€šçŸ¥æµ‹è¯•ã€æµ‹è¯•è¯¥è®¾ç½®æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚</p><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><p>ç»ˆäºæ˜¯æŠŠè¯„è®ºåŠŸèƒ½ç³»ç»Ÿæ·»åŠ å¥½å•¦ï¼ç°åœ¨æˆ‘ä¹Ÿå¯ä»¥è¯´ï¼Œæ¬¢è¿å¤§å®¶çš„ç•™è¨€!!!</p>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Twikoo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºQt+é«˜å¾·åœ°å›¾API+é˜¿é‡Œäº‘MQTTçš„EasyMapğŸ—ºï¸</title>
    <link href="/2024/09/02/%E5%9F%BA%E4%BA%8EQt%E4%B8%8E%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91MQTT%E7%9A%84EasyMap/README/"/>
    <url>/2024/09/02/%E5%9F%BA%E4%BA%8EQt%E4%B8%8E%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91MQTT%E7%9A%84EasyMap/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åŸºäº-Qt-é«˜å¾·åœ°å›¾API-é˜¿é‡Œäº‘MQTT-çš„EasyMapğŸ—ºï¸"><a href="#åŸºäº-Qt-é«˜å¾·åœ°å›¾API-é˜¿é‡Œäº‘MQTT-çš„EasyMapğŸ—ºï¸" class="headerlink" title="åŸºäº Qt+é«˜å¾·åœ°å›¾API+é˜¿é‡Œäº‘MQTT çš„EasyMapğŸ—ºï¸"></a>åŸºäº Qt+é«˜å¾·åœ°å›¾API+é˜¿é‡Œäº‘MQTT çš„EasyMapğŸ—ºï¸</h3><h4 id="ç»ˆäºï¼Œåœ¨æˆ‘çš„ä¸‰è„šçŒ«åŠŸå¤«ä¹‹ä¸‹ï¼Œæ…¢æ…¢åœ°æ†‹å‡ºäº†EasyGPSçš„ä¸Šä½æœºâ€¦"><a href="#ç»ˆäºï¼Œåœ¨æˆ‘çš„ä¸‰è„šçŒ«åŠŸå¤«ä¹‹ä¸‹ï¼Œæ…¢æ…¢åœ°æ†‹å‡ºäº†EasyGPSçš„ä¸Šä½æœºâ€¦" class="headerlink" title="ç»ˆäºï¼Œåœ¨æˆ‘çš„ä¸‰è„šçŒ«åŠŸå¤«ä¹‹ä¸‹ï¼Œæ…¢æ…¢åœ°æ†‹å‡ºäº†EasyGPSçš„ä¸Šä½æœºâ€¦"></a>ç»ˆäºï¼Œåœ¨æˆ‘çš„ä¸‰è„šçŒ«åŠŸå¤«ä¹‹ä¸‹ï¼Œæ…¢æ…¢åœ°æ†‹å‡ºäº†EasyGPSçš„ä¸Šä½æœºâ€¦</h4><h4 id="LUV-form-aliyun-againâ€¦"><a href="#LUV-form-aliyun-againâ€¦" class="headerlink" title="LUV form aliyun againâ€¦"></a>LUV form aliyun againâ€¦</h4><h4 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h4><hr><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9F%BA%E4%BA%8EQt%E4%B8%8E%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91MQTT%E7%9A%84EasyMap/image-0.jpg" alt="EasyMap"></p><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9F%BA%E4%BA%8EQt%E4%B8%8E%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91MQTT%E7%9A%84EasyMap/image-1.jpg" alt="EasyMap"></p><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><p>è¿™æ¬¡ä¸ºäº†åˆ¶ä½œEasyGPSçš„ä¸Šä½æœºï¼Œéœ€è¦ä½¿ç”¨é«˜å¾·åœ°å›¾JSAPIï¼Œé™†é™†ç»­ç»­æ¥è§¦äº†JSã€HTMLçš„é›¶é›¶æ•£æ•£çš„çŸ¥è¯†ï¼Œæˆ‘æ„¿æ„ç§°ä¹‹ä¸ºå®Œå…¨é¢å‘ChatGPTç¼–ç¨‹ï¼ŒçœŸæ˜¯å¸®å¤§å¿™äº†ï¼</p><p>Qtè™½ç„¶ä»¥å‰ä¹Ÿæ¥è§¦è¿‡ï¼Œä¸è¿‡ç®—æ˜¯å­¦äº†å¿˜ã€å¿˜äº†å­¦çš„çŠ¶æ€ï¼Œè¿™æ¬¡å†¥å†¥ä¸­æœ‰é‡æ–°æ¡èµ·æ¥çš„è¿¹è±¡ã€‚</p><p>MQTTä¹Ÿæ˜¯ä¸€ä¸ªå¤šæœˆå‰æ¥è§¦çš„åè®®ï¼Œç®—æ˜¯ç»ˆäºé›†é½çš„è¿™ä¹ˆå¤šè¦ç´ ï¼Œå‹‡è€…ç»ˆäºè¦å± é¾™æ•‘å…¬ä¸»å•¦ğŸ˜ï¼</p><p>ä½†æ˜¯ï¼Œäº‹å®ä¸Šï¼Œå¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œè¿™å‡ å¤©å¼€å‘é‡åˆ°çš„bugï¼Œå·²ç»è¶³å¤Ÿç¯ç»•åœ°çƒä¸€å¤§åœˆäº†ï¼Œè€Œä¸”è¿˜æ‹¿çš„æ˜¯æˆ‘åˆ·çŸ­è§†é¢‘çš„æ—¶é—´æ¥å†™ï¼å†™é«˜æ•°éƒ½æ²¡è¿™ä¹ˆç´¯ï¼ˆwww</p><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>ç­‰å¾…æ–½å·¥â€¦</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>Qtç¼–è¯‘è·¯å¾„ä¸è¦åŒ…å«ä¸­æ–‡ã€æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼ç­‰ï¼Œå¦åˆ™ææœ‰å¯èƒ½é€ æˆç¼–è¯‘å¤±è´¥â€¦</li><li>æœ‰ç¼˜æ›´æ–°å§ï¼Œè¿™æ¬¡æŒ–äº†ä¸€ä¸ªå¤§å‘ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MQTT</tag>
      
      <tag>aliyun</tag>
      
      <tag>Qt</tag>
      
      <tag>é«˜å¾·åœ°å›¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨9æœˆï¼šå­¦ç”Ÿæ€ç»´ç ´å±€ã€å›å¿†å¤§é©¬æ—…ç¨‹âœˆï¸</title>
    <link href="/2024/09/01/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/README/"/>
    <url>/2024/09/01/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨9æœˆï¼šå­¦ç”Ÿæ€ç»´ç ´å±€ã€å›å¿†å¤§é©¬æ—…ç¨‹âœˆï¸"><a href="#æ‚è®°ä¸¨9æœˆï¼šå­¦ç”Ÿæ€ç»´ç ´å±€ã€å›å¿†å¤§é©¬æ—…ç¨‹âœˆï¸" class="headerlink" title="æ‚è®°ä¸¨9æœˆï¼šå­¦ç”Ÿæ€ç»´ç ´å±€ã€å›å¿†å¤§é©¬æ—…ç¨‹âœˆï¸"></a>æ‚è®°ä¸¨9æœˆï¼šå­¦ç”Ÿæ€ç»´ç ´å±€ã€å›å¿†å¤§é©¬æ—…ç¨‹âœˆï¸</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h3><p>å­¦ç”Ÿæ€ç»´ï¼Œæ±‚æ˜¯æ€ç»´ï¼ŒèŒåœºæ€ç»´â€¦è¿™äº›è¯è¯­åœ¨è¿‘æœŸçš„ç¤¾äº¤å¹³å°ä¸Šååˆ†æµè¡Œï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§éƒ¨åˆ†å‡†å¤‡æ¯•ä¸šè¿›å…¥èŒåœºçš„undergraduatesï¼Œè¿™ä¼¼ä¹é€æ¸æ¼”å˜æˆäº†ä¸€ä¸ªååˆ†ä¼ªå‘½é¢˜çš„åˆ»æ¿å°è±¡â€”â€”å­¦ç”Ÿæ€ç»´ã€‚</p><p>å­¦ç”Ÿæ€ç»´ï¼Œä»¿ä½›å˜æˆäº†æ‰€æœ‰ä¸å¥½å“è´¨çš„ä»£åè¯ã€‚</p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-c81438de" role="button" aria-expanded="false" aria-controls="collapse-c81438de">        <div class="fold-arrow">â–¶</div>å¯¹å­¦ç”Ÿæ€ç»´çš„æ™®éçœ‹æ³•      </div>      <div class="fold-collapse collapse" id="collapse-c81438de">        <div class="fold-content">          <blockquote><p>ä»¥ä¸‹æ˜¯æˆ‘ä»å¹¿å¤§ç¤¾äº¤å¹³å°æœç½—æ¥çš„å¯¹å­¦ç”Ÿæ€ç»´çš„æ™®éçœ‹æ³•ï¼š</p></blockquote><blockquote><ul><li>ä¸å¥½æ„æ€ï¼Œè…¼è…†ï¼Œæ‰­æ‰­ææï¼Œå®³æ€•æé—®ï¼Œä¸ä¼šæé—®ã€‚</li><li>æ•™æ¡ä¸»ä¹‰ï¼Œé‡ç†è®ºï¼Œè€Œä¸é‡å®è·µã€‚</li><li>å®Œç¾ä¸»ä¹‰ï¼Œäº‹æƒ…éƒ½è¦ç­‰åˆ°ä¸‡äº‹ä¿±å¤‡æ‰å¼€å§‹åšã€‚</li><li>ä¸»åŠ¨æ„è¯†å¼±ï¼Œåªä¼šåŸ‹å¤´åšäº‹ï¼Œä¸ä¼šä¸»åŠ¨å‘ä¸Šçº§æ±‡æŠ¥å·¥ä½œè¿›åº¦ã€‚</li><li>æ²¡æœ‰è‡ªå·±çš„é€»è¾‘åˆ¤æ–­èƒ½åŠ›ï¼Œå¬é£å°±æ˜¯é›¨ï¼Œå¬è§çœ‹è§ä»€ä¹ˆä¿¡æ¯ä¸ç»è¿‡è‡ªå·±çš„è€ƒé‡å°±ç›²ç›®ç›¸ä¿¡ï¼Œæ˜¯ä¹–ä¹–çš„å¬è¯æœºå™¨ã€‚</li><li>è¿˜æƒ³ç€ä¾é å­¦å†ï¼ŒèŒåœºä¸é¡ºå°±åŸ‹æ€¨å­¦å†ä¸è¶³ï¼Œæˆ–è€…ä»—ç€è‡ªå·±å­¦å†é«˜åœ¨èŒåœºæ¨ªè¡Œéœ¸é“ã€‚</li><li>å¤ªæŠŠåŠªåŠ›å’Œä»˜å‡ºå½“å›äº‹ï¼Œå½“è‡ªå·±ä»˜å‡ºå¦‚æ­¤å¤šåŠªåŠ›å´å¾—ä¸åˆ°åº”å¾—çš„å›æŠ¥æ—¶ï¼Œå°±ä¼šç”Ÿæ°”æŠ±æ€¨ï¼šä¸ºä»€ä¹ˆã€‚</li><li>æ€¥äºå¾—åˆ°ä»–äººçš„è®¤å¯ï¼Œå¤ªé‡è§†ä»–äººå¯¹è‡ªå·±çš„è¯„ä»·ã€‚</li><li>â€¦â€¦</li></ul></blockquote>        </div>      </div>    </div><hr><h3 id="ã€2024-09-01ã€‘å­¦ç”Ÿæ€ç»´å¦‚ä½•ç ´å±€ï¼Ÿ"><a href="#ã€2024-09-01ã€‘å­¦ç”Ÿæ€ç»´å¦‚ä½•ç ´å±€ï¼Ÿ" class="headerlink" title="ã€2024&#x2F;09&#x2F;01ã€‘å­¦ç”Ÿæ€ç»´å¦‚ä½•ç ´å±€ï¼Ÿ"></a>ã€2024&#x2F;09&#x2F;01ã€‘å­¦ç”Ÿæ€ç»´å¦‚ä½•ç ´å±€ï¼Ÿ</h3><p>æˆ‘å…ˆæ¥è°ˆè°ˆæˆ‘å¯¹å­¦ç”Ÿæ€ç»´çš„çœ‹æ³•ï¼šæˆ‘è®¤ä¸ºå­¦ç”Ÿæ€ç»´å°±æ˜¯å°†åœ¨å­¦æ ¡é‡Œçš„é‚£å¥—åšæ³•åŸå°ä¸åŠ¨åœ°æŒªåˆ°èŒåœºå½“ä¸­å¥—ç”¨ã€‚</p><p>è¿™ä¹ˆåšçš„åæœå°±æ˜¯ï¼Œâ€œä½ â€å˜æˆäº†äººä»¬å£ä¸­æ´¥æ´¥ä¹é“çš„èŒåœºå°å¹´è½»ï¼Œä¸æ‡‚äº‹ï¼Œç¬¨æ‹™ï¼Œæ‚Ÿæ€§å·®ï¼›å¯æ˜¯ï¼Œâ€œä½ â€ä¸€å®šä¼šæƒ³ï¼šè¿™ä¹ˆåšï¼Œåœ¨å­¦æ ¡èƒ½æ‹¿é«˜åˆ†å‘¢ï¼</p><p>è¿™é‡Œå°±å¼•å‡ºäº†å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå¤„äºå½“ä¸‹å¤§ç¯å¢ƒçš„æ•™è‚²ä½“ç³»ï¼Œä»Šå¤©çš„å­¦æ ¡å’Œç¤¾ä¼šä¼¼ä¹å·²ç»å®Œå…¨è„±èŠ‚äº†ã€‚äºæ˜¯å°±å‡ºç°ï¼Œé«˜è€ƒç»“æŸåçš„åŒå­¦ä»¬æ†§æ†¬ç€å¤§å­¦çš„ç”Ÿæ´»ï¼Œå¯¹æœªæ¥æ»¡æ€€å¸Œæœ›ï¼›è€Œé¢ä¸´å¤§å­¦æ¯•ä¸šçš„åŒå­¦ä»¬å´å¯¹ç¤¾ä¼šã€å¯¹å‰ç¨‹å……æ»¡è¿·èŒ«ã€‚è¿™æ˜¯å¤šä¹ˆå¼ºçƒˆçš„å‰²è£‚æ„Ÿå’Œç»æœ›å‘¢ï¼Ÿ</p><p>æˆ‘å¹¶ä¸æ˜¯æ¥æƒ³è¦åæ§½è¿™ä¸ªä¸å¥½é‚£ä¸ªä¸å¥½ï¼Œæˆ‘åªæ˜¯æƒ³è¯´ï¼šæ‹¥æœ‰å­¦ç”Ÿæ€ç»´ä¸æ˜¯å¾ˆæ­£å¸¸çš„äº‹æƒ…å—ï¼Ÿæˆ–è€…è´´åœ¨å­¦ç”Ÿæ€ç»´ä¸Šçš„å„è‰²æ ‡ç­¾æ”¾åœ¨ä»»ä½•ä¸€ä¸ªç¤¾ä¼šäººä¸Šéƒ½å†å¹³å¸¸ä¸è¿‡äº†ã€‚åªæ˜¯å­¦æ ¡è´Ÿè´£æ•™æˆçŸ¥è¯†ï¼Œå¹¶ä¸æ•™æˆä½ å¦‚ä½•é©°éª‹èŒåœºã€äººæƒ…ä¸–æ•…ã€‚ç›¸å…³çš„çŸ¥è¯†ä»ä½•å¤„æ¥ï¼Ÿ</p><p>å› æ­¤ï¼Œæ‹¥æœ‰å­¦ç”Ÿæ€ç»´å¹¶ä¸æ˜¯è¯´â€œä½ â€è„‘å­ç¬¨ï¼Œä¸ç”¨å¿ƒï¼Œæˆé•¿æ…¢ï¼Œåªä¸è¿‡æ˜¯â€œä½ â€æ°å¥½ç©ºç¼ºäº†è¿™ä»½å…³äºèŒåœºç¤¾ä¼šçš„çŸ¥è¯†ï¼Œè€Œè¿™äº›çŸ¥è¯†æ°å¥½éœ€è¦é•¿æœŸçš„ç§¯ç´¯ï¼Œé¢†æ‚Ÿå’Œåˆ»æ„ç»ƒä¹ ã€‚åªæœ‰ç§¯ç´¯åˆ°ä¸€å®šçš„æ°´å¹³ï¼Œâ€œä½ â€æ‰å¯ä»¥æ¯«ä¸è´¹åŠ›åœ°åšå¯¹ä¸€äº›ç»†èŠ‚çš„äº‹ã€è¯´å¯¹æ­£ç¡®çš„è¯ã€‚</p><p>åªè¦ä»å¤§ç¯å¢ƒçš„æ•™è‚²ä½“ç³»å‡ºæ¥çš„å­¦ç”Ÿæˆ–å¤šæˆ–å°‘éƒ½ä¼šå­˜åœ¨ä¸€äº›å­¦ç”Ÿæ€ç»´ï¼Œè¿™æ˜¯ä¸€æ®µæ¯ä¸ªäººéƒ½éœ€è¦ç»å†çš„ä¸€æ®µæ—¶å…‰ï¼Œæˆ–é•¿æˆ–çŸ­ã€‚å› æ­¤ç¡®åˆ‡åœ°è¯´ï¼Œäº‹å®ä¸Šï¼Œæ²¡æœ‰äººå¯ä»¥åšå‡ºæ‰¹è¯„å’ŒæŒ‡æ§å½“ä¸‹çš„â€œä½ â€çš„å¤±è¯¯ï¼Œâ€œä½ â€åˆä½•å¿…ä¸ºæ­¤æ„Ÿåˆ°éš¾è¿‡ï¼Ÿ</p><p>æœ€åï¼Œè®²è®²å­¦ç”Ÿæ€ç»´å¦‚ä½•ç ´å±€ã€‚</p><p>æˆ‘èƒ½ç»™å‡ºçš„å”¯ä¸€è§£ç­”å°±æ˜¯ï¼šæ— å®ƒï¼Œå”¯æ‰‹ç†Ÿå°”ã€‚</p><p>è½¬å˜æ€ç»´å°±è·Ÿå­¦ä¹ ä¸€é—¨æ–°è¯­è¨€ä¸€æ ·ï¼Œæœ€å¿«çš„æ–¹å¼å°±æ˜¯æŠŠè‡ªå·±ä¸¢åˆ°ä¸€ä¸ªå……æ»¡æ–°è¯­è¨€çš„ç¯å¢ƒä¸‹ï¼Œä¸æ–­åœ°practiseï¼Œä¸æ–­åœ°åˆ»æ„ç»ƒä¹ ï¼Œè½¬å˜æ„è¯†ï¼Œåšå‡ºè¡ŒåŠ¨ï¼Œè°ƒæ•´å¿ƒæ€ã€‚æ”¾è½»æ¾ï¼Œtake it easyï¼Œæˆ–è®¸åœ¨æœªæ¥çš„æŸä¸€å¤©ï¼Œâ€œä½ â€ä¼šåœ¨ä¸ç»æ„ä¸­å‘ç°ï¼ŒåŸæ¥è‡ªå·±ä¹Ÿèƒ½åšåˆ°â€¦</p><p>è¿™é‡Œå®‰åˆ©ä¸€ä¸ªæˆ‘å¾ˆå–œæ¬¢çš„UPä¸»ï¼š<a href="https://space.bilibili.com/239688446">ç¡¬æ ¸çš„HeyMatt</a>ï¼Œæˆ‘è®¤ä¸ºè¿™ä½UPä¸»å¾ˆæœ‰æ™ºæ…§ã€ç†æ€§åˆé€»è¾‘ï¼Œä»–çš„å‘è¨€å’Œè§‚ç‚¹å¸¸å¸¸ç»™äº†æˆ‘è«å¤§çš„å¯å‘ã€‚</p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-0.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-1.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-2.jpg"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-0.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-1.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-2.jpg"></div></div></div><hr><h3 id="ã€2024-09-07ã€‘æƒ³æ³•ã€å‹‡æ°”å’ŒæƒŠäººçš„æ‰§è¡ŒåŠ›"><a href="#ã€2024-09-07ã€‘æƒ³æ³•ã€å‹‡æ°”å’ŒæƒŠäººçš„æ‰§è¡ŒåŠ›" class="headerlink" title="ã€2024&#x2F;09&#x2F;07ã€‘æƒ³æ³•ã€å‹‡æ°”å’ŒæƒŠäººçš„æ‰§è¡ŒåŠ›"></a>ã€2024&#x2F;09&#x2F;07ã€‘æƒ³æ³•ã€å‹‡æ°”å’ŒæƒŠäººçš„æ‰§è¡ŒåŠ›</h3><p>ä¸çŸ¥é“ä»å“ªé‡Œå¼€å¤´æ¬¸ã€‚</p><h4 id="ç‹—å±å€’ç¶çš„è¯é¢˜"><a href="#ç‹—å±å€’ç¶çš„è¯é¢˜" class="headerlink" title="ç‹—å±å€’ç¶çš„è¯é¢˜"></a>ç‹—å±å€’ç¶çš„è¯é¢˜</h4><p>å‡ å¤©å‰æœ‹å‹å‘æ–‡ç»™æˆ‘ã€Œå¿«æ¥å¿«æ¥çœ‹çœ‹è¿™ä¸ªï¼ã€æ˜¯ä¸€ä¸ª<a href="https://www.bilibili.com/video/BV1Qh4y1T7u1">è‹±è¯­è¡—åŠè§†é¢‘</a>ï¼Œå½“æ—¶æˆ‘æ­£åœ¨å›¾ä¹¦é¦†ä¸ºå‡å­¦è€ƒè¯•ç„¦å¤´çƒ‚é¢ï¼Œçœ¼ä¸‹ä¸€é“çº¿æ€§ä»£æ•°è§£å¾—æˆ‘å¤´æ™•çœ¼èŠ±ï¼Œäºæ˜¯ç”Ÿæ°”åœ°æ‰£å¥½ç¬”å¸½ï¼Œç‚¹å¼€è§†é¢‘ï¼ˆæ²¡æ‘”ç¬”hhhï¼Œåœ¨å›¾ä¹¦é¦†ä¸æ•¢å’‹å’‹å‘¼å‘¼ã€‚</p><p>è§†é¢‘å†…å®¹æ˜¯ä¸€ä¸ªåšä¸»è¡—åŠæµ‹è¯•ä¸Šæµ·ç¾å›½å­¦æ ¡å­¦ç”Ÿè‹±æ–‡æ°´å¹³ã€‚æˆ‘åŸæœ¬ä»¥å¤–ä¼šç›¸å½“è½»æ¾æ„‰å¿«çš„å†…å®¹ï¼Œåè€Œæ˜¯å„ç§é«˜çº§è‹±è¯­è¯æ±‡ä¸Šä¸‹ç¿»é£ï¼Œè¶Šçœ‹è¶ŠåŠ ä½¿å¾—æ°”æ°›å˜å¾—å‡é‡èµ·æ¥ï¼Œç¿»ç¿»è¯„è®ºåŒºæ›´ç”šã€‚å› ä¸ºæˆ‘ç¬¬ä¸€æ„Ÿè§‰å®ƒä»¬éƒ½å¥½ä¼˜ç§€ï¼Œåœ¨å®ƒä»¬çš„å¹´çºªï¼Œé«˜ä¸­ç”Ÿï¼Œåå…­ä¸ƒå²ï¼Œå¯èƒ½è¿˜æ²¡è¿™ä¹ˆå¤§ï¼Œèƒ½å¤Ÿè¯´æµåˆ©çš„å¤–å›½è¯­ï¼Œèƒ½å¤Ÿæ‹¥æœ‰è‡ªå·±çš„ä¸€å¥—è¾“å‡ºä½“ç³»ï¼Œä»å®¹è‡ªå¦‚åœ°è¡¨è¾¾è§‚ç‚¹ï¼Œå¯Œè£•ï¼Œæœ€é‡è¦çš„æ˜¯æ¯ä¸ªäººéƒ½çœ‹èµ·æ¥è¿™ä¹ˆçš„è‡ªä¿¡ã€å¼€æœ—ã€‚</p><p>å›æƒ³æˆ‘åä¸ƒå²çš„å¹´çºªï¼Œæ­£å¤„äºé«˜äºŒå‡å…¥é«˜ä¸‰çš„å…³é”®èŠ‚éª¨çœ¼ï¼Œççœ¼åšé¢˜èƒŒä¹¦ï¼Œé—­çœ¼ä¹Ÿåœ¨åšé¢˜èƒŒä¹¦ï¼Œé™¤æ­¤ä»¥å¤–å†æ— æ˜¯å¤„ï¼ŒæŒºå—æŒ«çš„ã€‚å½“ç„¶ç°åœ¨çš„äººç”Ÿä¹Ÿä»ç„¶åœ¨å¿§è™‘å‡å­¦ä¸­ï¼Œæˆ–è®¸é•¿æ—¶é—´å¤„äºè¿™ç§çŠ¶æ€ä¸‹ï¼Œå°é•‡åšé¢˜å®¶ï¼Œæˆ‘ä¼šå¯¹è§†é¢‘å½“ä¸­è¿™äº›å­¦ç”Ÿæ„Ÿåˆ°éå¸¸ç¾¡æ…•ï¼Œæ²¡é”™ï¼Œå…¶å®ç”¨å«‰å¦’æ¥è¡¨è¾¾ä¹Ÿè®¸æ›´è´´åˆ‡â€¦</p><p>å½“ç„¶ï¼Œé¢å¯¹è¿™æ ·çš„overwhelmingï¼Œå¶å°”ä¹Ÿä¼šæœ‰ä¹‰æ„¤å¡«è†ºçš„æ—¶åˆ»ã€‚æˆ‘ä¼šæœ‰æ—¶å€™è«åå…¶å¦™è¹¦å‡ºä¸€å¥æ„¤æ€’çš„åé©³ï¼šã€Œå‡­ä»€ä¹ˆï¼Ÿã€ï¼Œå€’æ˜¯é¢‡æœ‰å¥‹å‹‡èµ·ä¹‰çš„æ¨¡æ ·ã€‚å¹¶ä¸æ˜¯è¦ä¸ºä»€ä¹ˆç¡®åˆ‡çš„åŸå› è€Œæ„Ÿåˆ°æ°”æ„¤ï¼Œç”šè‡³ä¸€åº¦é”™æ„•åˆ°ä¼šå¯¹è‡ªå·±æ€€ç–‘ã€Œä½ æ€ä¹ˆèƒ½è¯´å‡ºè¿™æ ·çš„è¯ï¼Ÿä½ æ€ä¹ˆä¼šæœ‰è¿™å‰¯æ¨¡æ ·å‘¢ï¼Ÿã€ã€‚</p><p>å’Œæœ‹å‹èŠè¿‡è¿™ä¸ªè¯é¢˜ï¼Œå®ƒè¯´æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬æ‹¥æœ‰è¿‘ä¹æ— æ„è¯†çš„ä¸¥è‹›çš„é˜¶çº§åˆ¶åº¦è§‚å¿µã€‚æˆ‘æ‰“è¶£è¯´å®ƒï¼Œé‚£ä¹ˆè¿™æ ·æˆ‘ä»¬æ¯å¤©æ¯å¤©è¦ä»°æ…•çš„äººä¹Ÿå¤ªå¤šäº†å§ï¼Ÿä½ ä¹Ÿæ˜¯å­¦ç”Ÿï¼Œéš¾é“æ¯”å’±ä»¬å­¦æ ¡è¦å¥½çš„å­¦ç”Ÿï¼Œä½ å…¨éƒ½è¦é«˜çœ‹ä¸€çœ¼å—ï¼Ÿè¿˜æ˜¯è¯´ï¼Œä¸å¦‚å’±ä»¬çš„å­¦ç”Ÿï¼Œå°±åªèƒ½è¢«ä½ ä¸å±‘ä¸€é¡¾ã€‚</p><p>å½“ç„¶ï¼Œè¯´çš„åªæ˜¯ç©ç¬‘è¯ï¼Œæˆ‘è›®è®¤åŒå®ƒçš„è§‚ç‚¹ï¼Œå°±æ˜¯é•¿æœŸä»¥æ¥æ·±æ·±èå…¥æˆ‘ä»¬æ½œæ„è¯†å½“ä¸­çš„é˜¶çº§è§‚å¿µï¼Œæˆ–è®¸å˜´ä¸Šè¯´èµ·éƒ½è¿‡å»äº†ï¼Œå¿ƒç†å´æ„Ÿè§‰å…¨éƒ½å˜äº†ã€‚å®ƒè¯´ï¼Œæœªæ¥å€˜è‹¥æˆ‘ä»¬ä¹Ÿèƒ½è·¨é˜¶çº§ç”Ÿæ´»ï¼Œæˆ‘ä»¬ä¹Ÿå¿…å®šåªä¼šæ˜¯æ–°é˜¶çº§ï¼Œå§‹ç»ˆå¸¦ç€è¿™ä»½æ€æƒ³è¿‡ä¸€è¾ˆå­ï¼Œå¯èƒ½ä½ è§‰å¾—ä¼šéšæ—¶é—´æ¨ç§»ã€å±¥å†çš„ä¸°å¯Œæ…¢æ…¢å˜æ·¡ï¼Œä½†ä¿ä¸å®šå°±è·Ÿé£æ¹¿ä¸€æ ·ï¼Œå½“ä½ ä»¥ä¸ºç—…å·²ç»å®Œå…¨æ¢å¤äº†ï¼Œå®ƒä¼šåœ¨æŸä¸ªé›¨å¤©æ‚„ç„¶æ— æ¯åœ°å›æ¥ã€‚</p><p>å¥½äº†å¥½äº†ï¼Œä¸èŠè¿™äº›ç‹—å±å€’ç¶çš„è¯é¢˜äº†ï¼Œå¯ä»¥è¯´æ˜¯å®Œå…¨ç¦»é¢˜äº†ï¼Œå€’ä¸å¦‚è¯´ä¸Šè¿°çš„å¯¹è¯å’Œå†…å®¹å¤šå¤šå°‘å°‘å°±æ˜¯å­¦ç”Ÿæ€ç»´çš„å…·ç°ã€‚</p><h4 id="åœ¨é©¬æ¥çš„æ—…ç¨‹"><a href="#åœ¨é©¬æ¥çš„æ—…ç¨‹" class="headerlink" title="åœ¨é©¬æ¥çš„æ—…ç¨‹"></a>åœ¨é©¬æ¥çš„æ—…ç¨‹</h4><p>åˆä¸­å‡é«˜ä¸­çš„æš‘æœŸæœ‰å¹¸å—åˆ°çˆ¶äº²çš„è€å‹é»„ç”Ÿä¼¯ä¼¯çš„é‚€è¯·å»é©¬æ¥æ—…è¡Œï¼Œäººç”Ÿç¬¬ä¸€æ¬¡å‡ºå›½ï¼Œç¬¬ä¸€æ¬¡æ­é£æœºï¼Œå‡ºè¡Œå‰å¤œè¿˜å› ä¸ºçº ç»“è¡Œæç®±åº”è¯¥å¸¦äº›ä»€ä¹ˆè€Œå¦‚ä¸´å¤§æ•Œï¼Œæœ€åæ˜¯å¸¦äº†è¯ä»¶ã€å‡ å¥—è¡£æœä»¥åŠä¸€æœ¬ç –å¤´ä¸€æ ·åšçš„ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹byè·¯é¥ï¼ˆå•Šå•Šå•Šå•Šå•Šå¤ªè’å”äº†ï¼Œå†™ç€å†™ç€å°±è¢«ä»¥å‰çš„è‡ªå·±è ¢åˆ°æ°”æ­»ï¼Œåˆ°åº•æ˜¯è„‘è¢‹ç¼ºäº†å“ªæ ¹å¼¦&#x3D; &#x3D;ï¼Œæˆ‘è¦å…ˆç¼“ä¸€ç¼“â€¦</p><p>æˆ‘ä¸€ç›´ä»¥ä¸ºé£æœºåœ¨ç©ºä¸­æ»‘ç¿”é£è¡Œçš„æ—¶å€™æ˜¯å’Œååœ¨è¡Œé©¶å½“ä¸­çš„æ±½è½¦ä¸€æ ·å®‰é™ï¼Œæ²¡æƒ³åˆ°å¼•æ“å£°ã€æ°”æµå£°å¤§åˆ°è®©äººæ— æ³•é—­ç›®å®‰çœ ï¼Œå¤œèˆªå—é£ï¼Œå‡ ä¸ªå°æ—¶åé£æœºåœ¨å‰éš†å¡ï¼ˆKuala Lumpur å¹³ç¨³è½åœ°åä¸€è¡Œäººåˆç™»ä¸Šäº†é¢ ç°¸çš„å°é¢åŒ…è½¦ï¼Œå¼€å¾€æ€¡ä¿ï¼ˆIpoh çš„è½¦ç¨‹ï¼Œæ™ƒæ™ƒæ‚ æ‚ åœ°ï¼Œä¸¤ä¸ªåŠå°æ—¶çš„æ—¶å…‰ï¼Œè€ç ´éŸ³å“é‡å¤æ’­æ”¾ç€é»„è€æ¿çš„Perfectï¼Œæˆ‘é ååœ¨è½¦å¢å°¾éƒ¨ç¿»ç¿»å‡ é¡µå¤§ä¹¦æŠµç€æ¥å›éœ‡é¢¤çš„æ´»é¡µè½¦çª—æ˜æ²‰ç¡å»ã€‚</p><p>ç°åœ¨å¯¹äºé©¬æ¥è¥¿äºšçš„è®°å¿†è¿‘ä¹å®Œå…¨å¿˜å´ï¼Œå½“æ—¶æ‹äº†è›®å¤šç…§ç‰‡éƒ½å› ä¸ºä¿å­˜ä¸å½“å°½æ•°ä¸¢å¤±äº†ï¼Œèƒ½å›å¿†èµ·æ¥çš„åªæœ‰å‡ å¼ ç…§ç‰‡çš„å¤§è‡´æƒ…æ™¯ã€‚æˆ‘åªçŸ¥é“å¦ˆå¦ˆè·Ÿæˆ‘è¯´è¿‡ä¸€ä¸ªé©¬æ¥å¸ç­‰äºä¸¤å…ƒé’±ï¼ˆRMBï¼Œå»æ²™ï¼ˆLaksaå¾ˆå¥½å¾ˆå¥½åƒï¼Œæ¯å¤©éƒ½å¯ä»¥åƒåˆ°å¥½å¤šå’–å–±åšçš„æ–™ç†ç¾é£Ÿã€‚åˆ°å¤„éƒ½æœ‰å–çŒ«å±±ç‹æ¦´è²ï¼Œé£æ™¯å¾ˆç¾ï¼Œäººä¸æ‹¥æŒ¤ã€‚é€›äº†ä¸ªéçš„é£æ™¯åœ°ï¼Œè™½ç„¶è¿åå­—ä¹Ÿå…¨ç„¶å¿˜è®°äº†ã€‚çˆ¶äº²çš„åäººæœ‹å‹å¹³æ—¶ç”¨ç²¤è¯­å’Œé©¬æ¥è¯­äº¤è°ˆï¼Œæˆ‘å¶å°”èƒ½å¬æ‡‚ä¸€ç‚¹å„¿ã€‚å¯èƒ½æ˜¯ä¸ºäº†åœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´ä½“éªŒåˆ°æ›´å¤šé©¬æ¥é£å…‰ï¼Œæˆ‘ä»¬æ€»æ˜¯åœ¨èµ¶è¡Œç¨‹ï¼Œæ¯å¤©éƒ½è¦åœ¨è½¦å¢ä¸­åº¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œå†åŠ ä¸Šå›½å¤–ç½‘ç»œæµé‡è´¹ç”¨æ˜‚è´µï¼Œè«åå…¶å¦™æˆ‘å¤šå‡ºè®¸å¤šè¯»ä¹¦çš„æ—¶é—´ï¼ˆğŸ˜…</p><p>æˆ–è®¸æ˜¯ä»å°é•‡å‡ºèº«çš„ç¼˜æ•…ï¼Œåˆæ¬¡åˆ°äº†å¤–å›½ï¼Œæ„Ÿè§‰åˆ°å¤„ä»€ä¹ˆéƒ½æ˜¯æ–°é²œæ„Ÿã€‚é»„å¤ªç¬‘ç€å’Œå¦ˆå¦ˆè¯´ã€Œå¼Ÿå¼Ÿå’ä¸­æ„å½±ç›¸å’©ï¼Œå¹³å¸¸è·¯ä¸Šå˜…é¢¨æ™¯éƒ½è¦æ‹ä¸‹åšŸç´€å¿µã€‚ã€</p><!-- <figure><img src="/images/æ‚è®°/2024å¹´/9æœˆ/image-3.jpg" width="60%"/><figcaption>æ‘„äºå‚æ™šå›æ°‘å®¿è·¯ä¸Šçš„Blue Moment</figcaption></figure> --><!-- <figure><img src="/images/æ‚è®°/2024å¹´/9æœˆ/image-4.jpg" width="100%"/><figcaption>æ‘„äºSky Mirror</figcaption></figure> --><figure><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/æ‚è®°/2024å¹´/9æœˆ/image-3.jpg" width="60%"/><figcaption>æ‘„äºå‚æ™šå›æ°‘å®¿è·¯ä¸Šçš„Blue Moment</figcaption></figure><figure><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/æ‚è®°/2024å¹´/9æœˆ/image-4.jpg" width="100%"/><figcaption>æ‘„äºSky Mirror</figcaption></figure><p>æ¯å¤©éƒ½æ˜¯çˆ¶äº²çš„è€å‹èšä¼šï¼ŒèŒ¶æ¥¼æ’æŒ¡ã€æ‘†å›´æ‹›å¾…ã€‚å°è±¡æœ€ä¸ºæ·±åˆ»çš„æ˜¯ï¼Œåœ¨éœ¹é›³ï¼ˆPerak çš„æŸä¸ªæ™šä¸Šï¼Œå‡‘å·§é»„ç”Ÿä¼¯ä¼¯çš„å°å°¼äº²å‹å›¢å‰æ¥ï¼Œè€è€å°‘å°‘ï¼Œæ™šé¥­é¤æ¡Œä¸Šæˆ‘åº§ä½æ—çš„ä¸€ä½è±ªçˆ½çš„ä¼¯ä¼¯å¤§å¤¸ç‰¹å¤¸çˆ¶äº²åœ¨ä¸­å›½å¯¹ä»–ä»¬çš„çƒ­æƒ…æ¬¾å¾…ï¼Œä¸è¾åŠ³è‹¦åœ°åšå¸æœºå’Œå‘å¯¼ï¼Œé©¾è½¦ï¼Œä¸‰å¤©ä»æ·±åœ³ä¸€è·¯é©¶åˆ°å››å·ã€‚</p><p>æ­£è‡ªé¡¾è‡ªåœ°äº«å—ç¾é£Ÿï¼Œé»„ç”Ÿä¼¯ä¼¯çš„å°å­©ï¼Œä¸€ä½åªæ¯”æˆ‘å¤§ä¸€å²çš„å“¥å“¥é™„è¿‘æ‰“çƒè¶ç€ä¼‘æ¯çš„æ—¶å€™æ¥ã€‚å¸¸å¬çˆ¶æ¯è¿‡å¹´è¿‡èŠ‚å’Œé»„ç”Ÿä¼¯ä¼¯è§†é¢‘é€šè¯çš„æ—¶å€™æèµ·ä»–ï¼Œå…­å²å°±èƒ½å¤Ÿè‡ªå·±ä¸€ä¸ªäººåé£æœºï¼Œå¾ˆå‹‡æ•¢ï¼Œå¾ˆæˆç†Ÿæ‡‚äº‹ã€‚</p><p>å½“æ—¶è¿˜è¯´äº†äº›ä»€ä¹ˆæˆ‘å·²ç»å¿˜äº†ï¼Œè®°å¾—å¾ˆæ¸…æ¥šçš„æ˜¯ï¼Œé»„ç”Ÿä¼¯ä¼¯è¯´å¾ˆå¤šäº²äººå¥½å‹éƒ½æ¥äº†ï¼Œå«ä»–åä¸‹æ¥åŠ ä¸ªä½å’Œå¤§å®¶â€œå‚¾å‚¾è¨ˆã€è¬›è¬›å˜¢â€ã€‚å°å“¥è¯´ç¯®çƒæ¯”èµ›å¿«å¼€å§‹äº†ä¸€ä¼šå„¿å°±è¦å›å»ï¼Œè¯´ç€ç„¶åéº»åˆ©åœ°åœ¨æ¡Œä¸ŠæŠ“èµ·ä¸€ç“¶æ˜“æ‹‰ç½å•¤é…’æ•¬äº†æ•¬è±ªçˆ½ä¼¯ä¼¯å’Œçˆ¶äº²ï¼Œæ¡†æ¡†å¹å®Œï¼Œéšå³ç¤¼è²Œåœ°å’Œåœ¨åœºæœ‹å‹éƒ½æ‰“å£°æ‹›å‘¼å°±æºèµ¶æ¥å‚¬ä¿ƒä»–ä¸Šåœºçš„é’å¹´ä¸€åŒç¦»å¼€ã€‚é¤æ¡Œä¸Šçš„äººä»¬è‡ªç„¶éƒ½æœ‰è¯´æœ‰ç¬‘çš„ï¼Œè±ªçˆ½ä¼¯ä¼¯ä¹Ÿä¹å¼€èŠ±ï¼Œä»–æ™’æˆæ£•è¤è‰²çš„è„¸å–å¾—çº¢çº¢çš„ï¼Œé¥¶æœ‰å…´è‡´ï¼Œä»–æ‹¿èµ·ä¸€ä¸ªå–å‰©ä¸‹ä¸€åŠçš„å•¤é…’ç»ç’ƒæ¨½å€’äº†æ»¡æ»¡ä¸€èƒ¶æ¯é€’åˆ°æˆ‘é¢å‰ã€Œç´°ä½¬ï¼Œä½ å˜Ÿé£²å•²å•¦ï¼ã€â€¦</p><p>å›å»çš„è·¯ä¸Šï¼Œçˆ¶äº²å–å¾—é†‰é†ºé†ºçš„ï¼Œä»–å¸®æˆ‘æŒ¡äº†ä¸å°‘é…’ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ€çš„ï¼Œé‚£æ—¶å€™æ‰§æ‹—ä¸æ„¿æ„å–ï¼Œæ‹¿ç€â€œæœªæˆå¹´ä¸é¥®é…’â€å½“å¹Œå­ï¼Œä¸‰ç•ªäº”æ¬¡æ‹’ç»è±ªçˆ½ä¼¯ä¼¯æ‰‹ä¸Šçš„é…’æ¯ã€‚çˆ¶äº²ç¬‘ç€è¯´ã€Œç´°è·¯ä»”å””è­˜é£²ï¼Œå””å¥½ç‚ºé›£ä½¢å•¦ï¼Œå¤§ä½¬æˆ‘é™ªä½ é£²ã€ã€‚å–é†‰çš„çˆ¶äº²ï¼Œèµ°åœ¨è·¯ä¸Šä¼šå·¦æ‘‡å³æ‘†ï¼Œæˆ‘å’Œå¦ˆå¦ˆè¿å¿™æ€æ‰¶ç€ä»–ä¸è¦æ‘”å€’ï¼Œåªå¬ä»–ä¸€ç›´å‘ç¬‘ï¼šå¼€å¿ƒå˜›ï¼å›åˆ°æ°‘å®¿ï¼Œå¥½ä¸å®¹æ˜“æŠŠçˆ¶äº²è¿æ¨å¸¦æŒ¤æ‰¶ä¸Šæ¥¼ï¼Œæ–œæ–œå€’åœ¨åºŠä¸Šï¼Œå¦ˆå¦ˆä¸‹æ¥¼ç»™ä»–å€’çƒ­æ°´ï¼Œå¿µå¨ç€ï¼šä½ çˆ¸å•Šå°±æ˜¯å–é†‰äº†ã€‚æˆ‘ååœ¨çˆ¶äº²çš„åºŠå¤´ä¸€æ—ï¼Œå¬è§ä»–çªç„¶å¾ˆå¤§å£°ç³Šé‡Œç³Šæ¶‚åœ°å–Šäº†ä¸€å¥ï¼šå„¿å­ï¼Œäººçš„ä¸€ç”Ÿæ˜¯éå¸¸çŸ­æš‚çš„ï¼Œé‡åˆ°è‡ªå·±æƒ³è¦çš„ä¸œè¥¿ä¸€å®šè¦åŠªåŠ›å»è¿½å•Šâ€¦</p><p>é©¬æ¥ä¹‹æ—…ä¸´è¿‘å°¾å£°ï¼Œçˆ¶æ¯è¦å¾€å®¶é‡Œå¸¦çš„ä¸œè¥¿å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œç‰¹äº§ã€ç½®åŠçš„ç¤¼ç‰©ã€æœ‹å‹é€çš„æœé…’ï¼ˆåœ¨æ‰˜è¿ä¸‹é£æœºçš„æ—¶å€™è¢«æ‰“ç ´äº†ã€æ‰˜äººå¸¦çš„è¥¿è¯â€¦æœ€åå®åœ¨æ˜¯è£…ä¸ä¸‹äº†è¦ç”¨æˆ‘çš„è¡Œæç®±å¸¦ä¸€å¸¦ï¼Œå¥½å§ï¼Œæ€»æœ‰ä¸œè¥¿å¾—ç•™ä¸‹ï¼Œäºæ˜¯æˆ‘ä¾ä¾ä¸èˆåœ°åªå¥½æŠŠé‚£æœ¬æ²‰ç”¸ç”¸çš„ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹æ°¸è¿œçš„ç•™åœ¨äº†å¤§é©¬ï¼Œå¸Œæœ›å®ƒè¿˜é™é™åœ°èººåœ¨æ°‘å®¿çš„ä¹¦æ¶ä¸Šã€‚åœ¨è¿”å›å‰éš†å¡ç™»é£æœºä¹‹å‰ï¼Œå°é¢åŒ…å¼€åˆ°é›ªå…°èªï¼ˆSelangorï¼Œæˆ‘ä»¬å’Œé»„ç”Ÿä¼¯ä¼¯çš„ç»†ä½¬ï¼Œå°é»„ç”Ÿï¼Œè§é¢åƒé¥­ï¼Œåƒäº†å¥½åƒçš„è‚‰éª¨èŒ¶ã€‚</p><p>é¥­åé—²è°ˆï¼Œä»–é—®æˆ‘ Do you still remember me? Do you remember the book I gave you as a present?ï¼ˆé‚£æ˜¯æ›´ä¹…çš„å‡ å¹´å‰ä»–æ¥å®¶é‡Œåšå®¢ï¼Œæˆ‘æ€»æ˜¯å¥½å¥‡ä»–æ‰‹ä¸Šé‚£æœ¬å†™æ»¡è‹±è¯­çš„å°è¯´ï¼Œè§æˆ‘è¿™ä¹ˆæ–°å¥‡çš„çœ¼ç¥ï¼Œå¹²è„†å°±é€ç»™æˆ‘äº†ã€‚æˆ‘ç”¨è¹©è„šçš„ç²¤è¯­ç­”ä»–ã€Œå—°æœ¬æ›¸ä»²ç³»æœ‰é»é›£æ‡‚ï¼Œä¹‹ä¸éæˆ‘æ”¶åŸ‹å¥½äº†ï¼Œç­‰è‹±æ–‡è®Šå¥½é»å…ˆè®€ã€ï¼Œå°é»„ç”Ÿå”å”ç¬‘äº†ç¬‘å¤¸æˆ‘â€œå¤§å€‹ä½â€ï¼Œè§äººæ²¡æœ‰ä¹‹å‰é‚£ä¹ˆæ€•ç”Ÿã€‚ä¸´è¡Œä¹‹å‰ï¼Œå°é»„ç”Ÿå”å”å’Œçˆ¶äº²æ„Ÿæ…¨åˆ°ï¼Œè¿™æ¬¡å†è§ä¸çŸ¥ä»€ä¹ˆæ—¶å€™ä¸‹æ¬¡èƒ½å¤Ÿå†èšã€‚å„è‡ªsay goodbyeï¼Œä»–ç”¨åŠ›æ‹æ‹æˆ‘çš„è‚©ã€Œç´°ä½¬ï¼Œè©±ç•€ä½ çŸ¥å•¦ï¼Œåšäººè¦æ•¢æƒ³æ•¢åšï¼Œè¡Œå‹•äº¦è¦å¿«ï¼Œä½ å’å¹´è¼•ï¼Œæœªæ¥ä¸–ç•Œéƒ½ç³»ä½ å“‹å˜…ï¼Œè¦åŠ æ²¹å–”ï¼ã€â€¦</p><p>ï¼ˆè¿™é‡Œç¿»æ‰‹æœºè€ç›¸å†Œçš„æ—¶å€™ç¿»åˆ°æˆ‘ç»™å°é»„ç”Ÿå”å”æ‹çš„ç…§ç‰‡ï¼Œæ€ç´¢ä¸€ç•ªè¿˜æ˜¯å†³å®šä¸postå‡ºæ¥äº†ï¼Œçœ‹çœ‹é£æœºçš„æœºç¿¼å’Œäº‘ç«¯å§ï¼</p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-5.jpg" alt="æ‘„äºé£æœºå›ç¨‹é€”ä¸­"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-6.jpg" alt="æ‘„äºé£æœºç™»è®°æ£€ç¥¨å¤„"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-5.jpg" alt="æ‘„äºé£æœºå›ç¨‹é€”ä¸­"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/9%E6%9C%88/image-6.jpg" alt="æ‘„äºé£æœºç™»è®°æ£€ç¥¨å¤„"></div></div></div><h4 id="æœ€åçš„å˜´ç¢"><a href="#æœ€åçš„å˜´ç¢" class="headerlink" title="æœ€åçš„å˜´ç¢"></a>æœ€åçš„å˜´ç¢</h4><p>å†™åˆ°è¿™é‡Œï¼Œå…¶å®å·²ç»ä¸å†å‘¼åº”ä¸»é¢˜äº†ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œè‡³å°‘ä»Šå¤©æˆ‘æ‰¾å›äº†éƒ¨åˆ†æˆ‘åœ¨åäº”å…­å²æ—¶å…³äºé©¬æ¥çš„è®°å¿†ï¼Œå€’ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå®é™…å«ä¹‰ï¼Œä½†ç¡®å®æ˜¯æŸäº›ä¸çŸ¥é“æ˜¯å¥½æ˜¯åçš„è§‚å¿µå»ºç«‹ä¼Šå§‹ã€‚ã€Œæƒ³æ³•ã€å‹‡æ°”å’ŒæƒŠäººçš„æ‰§è¡ŒåŠ›ã€å¤šä¹ˆé¥è¿œçš„ç›®çš„åœ°ï¼Œå°±ä»¥æ­¤æœŸæœ›è‡ªå·±èƒ½æˆé•¿ä¸ºè¿™æ ·çš„çµé­‚ï¼Œhope so.</p><h3 id="ã€2024-09-21ã€‘èµ°è·¯æ—¶ï¼Œæˆ‘ä»¬éƒ½åœ¨æƒ³ä»€ä¹ˆï¼Ÿ"><a href="#ã€2024-09-21ã€‘èµ°è·¯æ—¶ï¼Œæˆ‘ä»¬éƒ½åœ¨æƒ³ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ã€2024&#x2F;09&#x2F;21ã€‘èµ°è·¯æ—¶ï¼Œæˆ‘ä»¬éƒ½åœ¨æƒ³ä»€ä¹ˆï¼Ÿ"></a>ã€2024&#x2F;09&#x2F;21ã€‘èµ°è·¯æ—¶ï¼Œæˆ‘ä»¬éƒ½åœ¨æƒ³ä»€ä¹ˆï¼Ÿ</h3><ul><li>å¯èƒ½ä¼šæ›´æ–°ï¼Ÿ</li></ul>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-60d46676" role="button" aria-expanded="false" aria-controls="collapse-60d46676">        <div class="fold-arrow">â–¶</div>å¾ˆä¹…ä»¥å‰DailyCommuteä¸­æ‰£å‡ºæ¥çš„æ–‡å­—      </div>      <div class="fold-collapse collapse" id="collapse-60d46676">        <div class="fold-content">          <div class="note note-info">            <p>é˜´é›¨ç»µç»µçš„ï¼Œå†·æ°”å¥½å¤§å£°ï¼Œè¿™ä¸ªå­£èŠ‚çš„æ¢…é›¨é…ä¸Šåå°”å…¹ä¼¼ä¹å·²ç»æ²¡è¿™ä¹ˆåˆ«æ‰­äº†ã€‚èµ°åœ¨è·¯ä¸Šå®¹æ˜“è®©è«åçš„å‡‰æ°´æ’åˆ°å¤´é¡¶ï¼Œåœ°ä¸Šå‘å‘æ´¼æ´¼çš„æ°´æ± ï¼Œæ€»æƒ³æ”¾è‚†åœ°è¸¢è¸ï¼Œåˆ°å¦‚ä»Šéƒ½æ²¡æ‹¥æœ‰è®©è¡£æœæ¹¿æ‰çš„å‹‡æ°”ã€‚æœ‹å‹å‘¢ï¼Œæœ‹å‹éƒ½å»å“ªå„¿ï¼Ÿè¿™ä¸ªå­£èŠ‚çš„å‡æœŸæœ‹å‹æ€»æ˜¯ä¼šæš‚æ—¶æ¶ˆå¤±æ‰ï¼Œæ´»è·ƒåˆ°å…¨éƒ¨æ¶ˆå¤±ä¸è§ã€‚æˆ‘åœ¨å¬é™ˆç»®è´çš„ã€Œå­©å­ã€ï¼Œæ··åˆç€è·¯ä¸Šçš„æ–‘é¸ å’Œè½é›¨ã€‚å’Œåˆ«çš„åœ°æ–¹ä¸åŒï¼Œæˆ‘ä»¬è¿™çš„å¤å¤©ä¸‹é›¨ä¸è§åˆ°èš¯èš“ï¼Œè€Œæ˜¯å¤§èœ—ç‰›ï¼Œé¼“é¼“çš„å°±åƒèŒ¶å¶è›‹ï¼Œæˆ‘ä»¬çŒœç–‘ï¼Œæ˜¯èœ—ç‰›æ¬å®¶ï¼Œèœ—ç‰›æ¬å®¶ç¡®å®éœ€è¦å¤§å·¥ç¨‹ï¼è¾£è¾£çš„ï¼Œæˆ‘çš„åˆé¥­åˆ°è‚šå­é‡Œè¿˜æ˜¯è§‰å¾—æ»šçƒ«ï¼Œç°åœ¨æˆ‘èµ°åœ¨è·¯ä¸Šï¼Œç°åœ¨æˆ‘åœ¨å’Œå¾®å¼±çš„é˜³å…‰æ¯”æ¸…é—²ï¼Œé˜³å…‰å‡ºæ¥äº†ï¼Œè‰é¸£å£°ä¹Ÿè¯¥å‡ºæ¥äº†ï¼Œæ­£æ­£å¥½å¥½ã€‚ã€Œå­©å­ã€ä»¥åæˆ‘èµ°å‘å¿«é€’ç«™ï¼Œç°åœ¨æˆ‘å¬æ¤åæ—æªï¼Œå¾ªåºæ¸è¿›ï¼</p><p>â€“2023&#x2F;7&#x2F;19</p>          </div><div class="note note-info">            <p>ä»Šå¤©æˆ‘é†’æ¥ï¼Œå‘ç°äººä»¬å…¨éƒ½å¤æ´»äº†ã€‚ä»Šå¤©æ˜¯å…«æœˆçš„å€’æ•°ç¬¬äºŒå¤©ï¼Œæˆ‘çš„å¿«ä¹åªå‰©ä¸‹ä¸¤å¤©ã€‚å…¶å®æˆ‘å¹¶ä¸æ˜¯è¦èŠè¿™ä¸ªï¼Œæˆ‘æƒ³è°ˆè°ˆé»‘æ¤’æ±ï¼Œåªä¸è¿‡é€šå‹¤è·¯ä¸Šåå¸¸çš„äººæµè®©æˆ‘å¥½ä¸ä¹ æƒ¯ï¼Œå°±æ˜¯è¿™æ ·è€Œå·²ã€‚<br>å›åˆ°é»‘æ¤’æ±ï¼Œä¹Ÿå¯ä»¥å«åšé»‘æ¤’é…±ï¼Œèµ·å› æ˜¯æ˜¨å¤©å«æœ‹å‹ç»™æˆ‘æäº†ä¸€ä»½æ™šé¤ï¼Œæˆ‘ç¡åˆ°æ™šä¸Šå…«ç‚¹ï¼Œé†’æ¥åå¥½æ‰“å¼€éŸ³è§†é¢‘å–æ°´ï¼Œæˆ‘çš„æ‰€æœ‰å°±é¤å‰çš„åŠ¨ä½œéƒ½åšå¥½äº†ï¼Œæ‰“å¼€é¤ç›’ç›–å­çš„ä¸€ç¬é—´ï¼Œä¸€å¤§è‚¡æµ“çƒˆå»‰ä»·åˆæˆçš„é»‘æ¤’è°ƒå’Œé…±çš„å‘³é“éšç€é£Ÿç‰©çš„çƒ­æ°”æ‰‘å€’æˆ‘çš„è„¸ä¸Šå¤´å‘ä¸Šçœ¼é•œä¸Šï¼Œæˆ‘å“‡çš„ä¸€å£°æŠŠä¸­åˆåƒçš„å¤§éƒ¨åˆ†é£Ÿç‰©éƒ½åäº†å‡ºæ¥ï¼Œä½†å…¶å®åœºé¢ä¸æ˜¯é‚£ä¹ˆä¸å ªï¼Œæˆ‘æ²¡åƒå¾ˆå¤šä¸œè¥¿ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æ°´ã€‚<br>æˆ‘ä¸å–œæ¬¢é»‘æ¤’æ±ï¼Œå°¤å…¶æ˜¯æ·˜å®19.9åŒ…é‚®çš„ç½‘çº¢å»‰ä»·é»‘æ¤’æ±ï¼Œæ˜¯æºäºå¤§æ¦‚ä¸€å¹´ï¼ˆï¼ŸæŸä¸ªæ™šä¸Šåƒäº†æµ‡ä¸Šäº†ç½‘çº¢é»‘æ¤’æ±çš„åœŸè±†æ³¥ï¼Œç„¶åå½“æ™šçš„ç¡çœ å°±èƒƒç—›å‘çƒ­ï¼Œæ€¥æ€§èƒƒç‚ï¼Œé‚£å‡ å¤©è¿åŒå‘¼æ°”éƒ½æ˜¯é»‘æ¤’æ±çš„å‘³é“ï¼Œæˆ‘çŸ¥é“æˆ‘æŠŠæˆ‘ä¸€è¾ˆå­çš„é»‘æ¤’æ±éƒ½ä½“éªŒå®Œäº†â€¦å°±è¿™ä¹ˆç®€å•å°±å®Œäº†ã€‚<br>å½“ç„¶æ›´å°çš„æ—¶å€™ï¼Œä¸è€å®è¯•è¿‡å°†èŠå£«ç‰‡å’Œé€Ÿå†»é¥ºå­ä¹‹ç±»çš„ä¸€èµ·ä¸Šè’¸é”…ï¼Œç„¶åå½“æ™šæ€¥æ€§è‚ èƒƒç‚ï¼Œè…¹æ³»ï¼Œæµ‘èº«æ¯ä¸ªæ¯›å­”éƒ½è’¸å‘å‡ºèŠå£«å¥¶é…ªçš„æ·¡æ·¡å¥¶è…¥ã€‚å™¢è¿™äº›çœŸæ˜¯ä¸å¤ªå¥½çš„ç»å†â€¦</p><p>â€“2023&#x2F;8&#x2F;30</p>          </div><div class="note note-info">            <p>äººä¸ºå¿«ä¹å’Œå¹¸ç¦è€Œæ´»ï¼Œä»å¾®è§‚çš„è§’åº¦æ¥è¯´ï¼Œä¸€åˆ‡äººå’ŒåŠ¨ç‰©éƒ½æ˜¯ç»†èƒæ„æˆçš„ï¼Œç»†èƒä¸ºé‚£äº›èƒ½å¤Ÿäº§ç”Ÿå…´å¥‹åˆºæ¿€ç¥ç»é€’è´¨è€Œæ´»ã€‚è¿™å°±èƒ½è§£é‡Šï¼Œäººåšå‡ºçš„æ‰€æœ‰çš„è¡Œä¸ºï¼Œæ— è®ºæ˜¯å°ç¡®å¹¸ç¾è²Œé«˜å°šæ™ºæ…§æˆå°±å¤§çˆ±å°çˆ±ï¼Œè¿˜æ˜¯è´ªå©ªæš´é£Ÿæ€æˆ®å—‘è¯çºµæ¬²é‡‘é’±è‡³ä¸Šï¼Œæœ¬è´¨ä¸Šéƒ½åœ¨è¿½æ±‚å’Œåˆºæ¿€ç€å¤šå·´èƒºä¸€ç±»æ¿€ç´ çš„åˆ†æ³Œï¼ŒåŠ¨ç‰©æ˜¯æ¿€ç´ çš„å¥´éš¶ã€‚è¿™æ ·æ˜¯å¦å¯ä»¥ä¸€æ¦‚è€Œè®ºåœ°å°†äººç±»çš„æ‰€æœ‰å–„è¡Œå’Œç½ªå­½éƒ½è§£é‡Šæˆæ”€æ¯”è°çš„ç¥ç»é€’è´¨åˆ†æ³Œçš„æ›´å¤šï¼Œæ¯•ç«Ÿå–„äººæœ‰å–„äººçš„èˆ’å¿ƒï¼Œæ¶äººæœ‰æ¶äººçš„å¿«æ„Ÿï¼Œéƒ½æ˜¯ä¸ºäº†æŸä¸€ç¬é—´çš„ã€Œé‡Šæ”¾ã€ã€‚è¿™æ ·æ˜¯å¦å¯ä»¥è§£é‡Šç°åœ¨åŸå¸‚äººä»¬çš„å¿ƒç—…ï¼Œæ˜¯å› ä¸ºä»–ä»¬è·å–ä¸äº†å…´å¥‹çš„æ¿€ç´ ï¼Œç»†èƒæœ€æœ¬è´¨æœ€æœ¬è´¨çš„è¿½æ±‚æ»¡è¶³ä¸äº†ï¼Œæ´»ç€çš„å¿µæƒ³ä¹Ÿå°±éšä¹‹æ¶ˆå¤±ã€‚</p><p>â€“2023&#x2F;10&#x2F;22</p>          </div><div class="note note-primary">            <p>è‹¦éš¾ç²¾ç®—å¸ˆ45:(</p><p>â€“2023&#x2F;9&#x2F;6</p>          </div>        </div>      </div>    </div><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script><div id="posts-chart"style="border-radius: 8px; height: 190px; padding: 10px;"></div><hr><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><ul><li>å¯èƒ½ä¼šæ›´æ–°ï¼Ÿ</li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Life Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>record</tag>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°âœ¨</title>
    <link href="/2024/08/31/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/README/"/>
    <url>/2024/08/31/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/README/</url>
    
    <content type="html"><![CDATA[<h3 id="è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°âœ¨"><a href="#è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°âœ¨" class="headerlink" title="è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°âœ¨"></a>è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°âœ¨</h3><h3 id="Letâ€™s-talk-about-how-to-make-a-GUI-like-HOPEâ€™s"><a href="#Letâ€™s-talk-about-how-to-make-a-GUI-like-HOPEâ€™s" class="headerlink" title="Letâ€™s talk about how to make a GUI like HOPEâ€™s !!!"></a>Letâ€™s talk about how to make a GUI like HOPEâ€™s !!!</h3><h3 id="Project-nameï¼šHOPE"><a href="#Project-nameï¼šHOPE" class="headerlink" title="Project nameï¼šHOPE"></a>Project nameï¼šHOPE</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><p class="note note-warning">æœ¬æ–‡ç”±äºGifå›¾ç‰‡å­˜å‚¨è¾ƒå¤§ï¼Œè¯·è€å¿ƒç­‰å¾…å›¾ç‰‡åŠ è½½ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™‚ï¸...</p><hr><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-0.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-1.jpg" alt="exhibition" width="100%;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-2.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-3.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-4.jpg" alt="exhibition" width="100%;"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-0.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-1.jpg" alt="exhibition" width="100%;"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-2.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-3.jpg" alt="exhibition" width="100%;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-4.jpg" alt="exhibition" width="100%;"></div></div></div><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><p>è¯¥ä»å“ªé‡Œå¼€å§‹è¯´èµ·å‘¢ï¼Ÿ</p><p>è®©æˆ‘å¼€å¯<code>HOPE</code>è¿™ä¸ªé¡¹ç›®çš„åŸå› å…¶å®æ˜¯éå¸¸æœºç¼˜å·§åˆçš„ï¼Œé¦–å…ˆæ˜¯23å¹´æš‘å‡æœŸé—´æˆ‘ä»¬æ­£åœ¨ç´§å¼ å‡†å¤‡ç”µèµ›ï¼Œéœ€è¦å‡†å¤‡äº›å¼€å‘æ¿ï¼Œä½†æ˜¯ç”±äºç»è´¹ä¸è¶³ï¼Œäºæ˜¯æ‰“ç®—è‡ªå·±åŠ¨æ‰‹åˆ¶ä½œï¼Œä¸°è¡£è¶³é£Ÿã€‚</p><p>å½“æ—¶æ­£å¥½çœ‹è§äº†<strong>ç¨šæ™–å›</strong>å‘å¸ƒçš„é¡¹ç›®<code>REF</code>ï¼ŒåŒ…æ‹¬ç¡¬ä»¶å’Œä»£ç æ¡†æ¶<code>MonoUI</code>éƒ½å¼€å‘åœ°éå¸¸çš„ä¼˜é›…ï¼Œä»¤äººæ„Ÿåˆ°é—æ†¾çš„æ˜¯ï¼Œé‚£æ—¶å¹¶æ²¡æœ‰å¼€æºï¼ˆç°åœ¨åº”è¯¥å·²ç»å¼€æºåœ¨ä»–çš„æœºæ¢°è‡‚é¡¹ç›®ä»“åº“å½“ä¸­ï¼Œäºæ˜¯æ‰“ç®—ä»å¤´åˆ°è„šç‹ ç‹ çš„å¤åˆ»ä¸€æ³¢ï¼</p><!-- ![REF and MonoUI](/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-5.jpg) --><!-- ![UltraLink](/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-6.jpg) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-5.jpg" alt="REF and MonoUI"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-6.jpg" alt="UltraLink"></p><ul><li>è°ˆè°ˆç¡¬ä»¶</li></ul><p>äºæ˜¯ï¼Œæˆ‘å°±å¼€å§‹åœ¨è‡ªå·±ä¸€æ­¥ä¸€æ­¥æ…¢æ…¢æ‘¸ç´¢ä¸‹ï¼Œç¬¬ä¸€ä¸ªHOPEçš„é›å½¢è¯ç”Ÿäº†ï¼ç´§æ¥ç€ï¼Œç§‰æŒç€å¿«é€Ÿè¿­ä»£çš„ç†å¿µï¼Œå¾ˆå¿«åœ°ï¼Œç¬¬äºŒç‰ˆã€ç¬¬ä¸‰ç‰ˆéƒ½æ¥è¸µè€Œè‡³â€¦</p><!-- ![HOPEçš„è®¾è®¡è‰ç¨¿å›¾](/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-11.jpg) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-11.jpg" alt="HOPEçš„è®¾è®¡è‰ç¨¿å›¾"></p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-7.jpg"></div><div class="group-image-wrap"><img src="/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-8.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-9.jpg"></div><div class="group-image-wrap"><img src="/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-10.jpg"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-7.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-8.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-9.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-10.jpg"></div></div></div><p>é‚£æ—¶å€™å°±æƒ³ä¸€ç›´æ— å¤´è‹è‡ä¸€æ ·ï¼Œç›®çš„æ€§ä¸æ˜ç¡®ï¼ŒæŠ€æœ¯ä¹Ÿä¸æˆç†Ÿï¼Œå”¯ä¸€æ‹¥æœ‰çš„å°±æ˜¯æ»¡è…”çƒ­è¡€ï¼Œä¸æ€•è‹¦ä¸æ€•ç´¯ï¼Œåšæ¢¦éƒ½åœ¨æƒ³ç€é¡¹ç›®æ€ä¹ˆä¼˜åŒ–ï¼Œæœ€åå‘¢ï¼Œä¹Ÿæ˜¯å¾ˆå¼€å¿ƒåšå‡ºäº†ç›®å‰è¿™ä¸ªæ¯”è¾ƒç¨³å®šçš„ç¡¬ä»¶ç‰ˆæœ¬ã€‚</p><ul><li>è°ˆè°ˆè½¯ä»¶</li></ul><p>ç¡¬ä»¶è§£å†³ä»¥åï¼Œå™©æ¢¦æ‰çœŸæ­£å¼€å§‹ï¼Œå¯¹äºä¸€ä¸ªæ•°æ®ç»“æ„èœé¸Ÿè€Œè¨€ï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªä¼˜é›…çš„å•è‰²GUIå‘¢ï¼Ÿæ‰€ä»¥è¿™å°±æ˜¯ä»Šå¤©è¦ç€é‡è¦è®²çš„ä¸»é¢˜ï¼šè°ˆè°ˆHOPEå½“ä¸­åº•å±‚é€»è¾‘å®ç°ã€‚</p><p class="note note-info">å½“ç„¶ï¼Œå¯¹äºHOPEï¼ŒåŒ…æ‹¬ä»£ç å’Œç¡¬ä»¶è®¾è®¡éƒ½æ¯”è¾ƒç¨šå«©ï¼Œä»…ä»…åªåšæä¾›æ€è·¯å’Œå‚è€ƒçš„ä½œç”¨ï¼ä»…ä»¥æ­¤åšå®¢ï¼Œçºªå¿µè¿™ä¸ªæœ‰è¶£çš„é¡¹ç›®hhhğŸ˜</p><h2 id="å…³äºå¦‚ä½•æ¥è§¦åˆ°GUI"><a href="#å…³äºå¦‚ä½•æ¥è§¦åˆ°GUI" class="headerlink" title="å…³äºå¦‚ä½•æ¥è§¦åˆ°GUI"></a>å…³äºå¦‚ä½•æ¥è§¦åˆ°GUI</h2><p>ç¬¬ä¸€æ¬¡æ¥è§¦GUIçš„åˆ¶ä½œæ˜¯æ¥è§¦åˆ°äº†UPä¸»å°è›‹æ˜¾ç’çš„è§†é¢‘<a href="https://www.bilibili.com/video/BV1RY411f7GT/">OLEDèœå•åŠ¨ç”»æ•™ç¨‹</a>ã€‚</p><p>æ•™ç¨‹ä¸­çš„è¿™å¥—GUIæ¡†æ¶æ˜¯åŸºäº<code>U8G2å›¾åƒåº“</code>çš„ï¼Œå¤§è‡´çš„å®ç°æ–¹æ³•æ˜¯ï¼š</p><blockquote><p>é€šè¿‡æ³¨å†Œprocå‡½æ•°å’Œå¯¹åº”çš„çŠ¶æ€ä½åˆ°åˆ—è¡¨listå½“ä¸­ï¼Œç„¶åå¾ªç¯éå†listï¼Œæ¯”å¯¹å½“å‰çŠ¶æ€ä½å’Œlistå½“ä¸­çš„çŠ¶æ€ä½ï¼Œè‹¥ç›¸åŒï¼Œåˆ™æ‰§è¡Œå¯¹åº”çš„procå‡½æ•°ã€‚</p><p>procå‡½æ•°ä¸­åŒ…æ‹¬OLEDåŠ¨ç”»æ˜¾ç¤ºã€æŒ‰é’®å“åº”ç­‰äº¤äº’æ“ä½œã€èœå•é¡µé¢ä¹‹é—´åˆ‡æ¢ã€è¿‡æ¸¡åŠ¨ç”»ç­‰é€»è¾‘æ“ä½œï¼Œç®€å•æ˜“å­¦ï¼Œè™½ç„¶å…¨éƒ¨ä¸œè¥¿éƒ½æŒ¤åœ¨äº†ä¸€ä¸ªæ–‡ä»¶å¯¹å½“ä¸­ï¼Œéå¸¸çš„ä¸ä¼˜é›…ï¼Œä¹Ÿä¸æ˜“ç»´æŠ¤å’Œç§»æ¤ã€‚</p></blockquote><p>ä½†æ˜¯å‘¢ï¼Œæ­£æ˜¯è¿™å¥—æ•™ç¨‹å¼€å¯äº†æˆ‘åœ¨GUIè®¾è®¡å¼€å‘å½“ä¸­çš„ä¸å½’è·¯ã€‚</p><p>æˆ‘ç¬¬ä¸€ä¸ªäº²è‡ªæ„æ€å¹¶è®¾è®¡çš„é¡¹ç›®ã€Œä¼ªè¯—äº‘ã€ï¼Œä¾¿æ˜¯ç¬¬ä¸€æ¬¡ç”¨ä¸Šäº†è¯¥GUIæ¡†æ¶ï¼Œæ‰¾ä¸ªæœºä¼šå¯ä»¥å†èŠèŠè¿™ä¸ªé¡¹ç›®ã€‚</p><!-- ![ä¼ªè¯—äº‘](/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-12.jpg) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-12.jpg" alt="ä¼ªè¯—äº‘"></p><h2 id="å…³äºHugoUIçš„åº•å±‚é€»è¾‘å®ç°"><a href="#å…³äºHugoUIçš„åº•å±‚é€»è¾‘å®ç°" class="headerlink" title="å…³äºHugoUIçš„åº•å±‚é€»è¾‘å®ç°"></a>å…³äºHugoUIçš„åº•å±‚é€»è¾‘å®ç°</h2><p>ç›®å‰HOPEå½“ä¸­ä½¿ç”¨çš„HugoUIæ˜¯æˆ‘ä»MonoUIè¿½æº¯åˆ°åˆ›å¤©è“å¤§ä½¬çš„çƒ™é“é¡¹ç›®ä¸­çš„GUIæ¡†æ¶ä¿®æ”¹è€Œæ¥çš„ï¼Œç›®å‰é‡‡ç”¨<strong>é“¾è¡¨</strong>çš„å½¢å¼å®ç°è¯¥GUIï¼Œåº•å±‚ä¾ç„¶åŸºäº<code>u8g2</code>ã€‚</p><p>HugoUIä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªç»“æ„ä½“ï¼šèœå•é¡µé¢<code>Page</code>å’Œé¡µé¢æŒ‚ä»¶<code>Item</code>ã€‚</p><ul><li>èœå•é¡µé¢<code>Page</code>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯èœå•çš„æ¯ä¸€é¡µéƒ½æ˜¯ä¸€ä¸ªPageï¼Œç¿»é¡µæ—¶ä¾¿ä¼šåˆ‡æ¢Pageã€‚</li><li>è€Œè¯¥é¡µé¢ä¸Šçš„æŒ‚ä»¶<code>Item</code>å°±åƒæ˜¯é¡µé¢ä¸Šçš„APPï¼Œè´Ÿè´£å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* Itemçš„ç»“æ„ä½“ */</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> // å°æŒ‚ä»¶çš„ç»“æ„ä½“</span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *<span class="hljs-title">next</span>;</span><br>    HugoUIItem_e funcType;  <span class="hljs-comment">// ä½œç”¨ç±»å‹</span><br>    <span class="hljs-type">uint16_t</span> itemId;        <span class="hljs-comment">// å°æŒ‚ä»¶çš„id</span><br>    <span class="hljs-type">uint16_t</span> lineId;        <span class="hljs-comment">// åœ¨æ¯ä¸€é¡µçš„id</span><br>    <span class="hljs-comment">// float item_x, item_x_trg;</span><br>    <span class="hljs-comment">// float item_y, item_y_trg;</span><br>    <span class="hljs-type">uint8_t</span> *pic;<br>    <span class="hljs-comment">// uint8_t step;</span><br>    <span class="hljs-type">char</span> *title; <span class="hljs-comment">// å°æŒ‚ä»¶çš„åå­—</span><br>    <span class="hljs-type">char</span> *msg;   <span class="hljs-comment">// ITEM_MESSAGE</span><br>    <span class="hljs-type">char</span> *desc;<br>    <span class="hljs-type">bool</span> *flag; <span class="hljs-comment">// ITEM_CHECKBOX and ITEM_RADIO_BUTTON and ITEM_SWITCH //å°æŒ‚ä»¶ç”¨äºè¿™äº›ä½œç”¨æ—¶çš„æ ‡å¿—ä½</span><br>    <span class="hljs-comment">// bool flagDefault; // Factory default setting // æ¢å¤å‡ºå‚è®¾ç½®</span><br>    paramType *param;                                                     <span class="hljs-comment">// ITEM_CHANGE_VALUE and ITEM_PROGRESS_BAR //å°æŒ‚ä»¶å¯æ”¹å˜çš„å‚æ•°</span><br>    <span class="hljs-type">uint8_t</span> inPage;                                                       <span class="hljs-comment">// ITEM_JUMP_PAGE // Itemåœ¨å“ªä¸€é¡µ</span><br>    <span class="hljs-type">uint8_t</span> JumpPage;                                                     <span class="hljs-comment">// å°†è¦è·³è½¬åˆ°å“ªä¸€ä¸ªpage</span><br>    <span class="hljs-type">uint8_t</span> JumpItem;                                                     <span class="hljs-comment">// å°†è¦è·³è½¬åˆ°å“ªä¸€ä¸ªItem</span><br>    <span class="hljs-type">void</span> (*FuncCallBack)(<span class="hljs-type">void</span>);                                           <span class="hljs-comment">// å›è°ƒå‡½æ•° // ITEM_CHANGE_VALUE and ITEM_PROGRESS_BAR // è¯¥æŒ‚ä»¶çš„å‡½æ•°</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *(*<span class="hljs-title">SetIconSrc</span>)(<span class="hljs-title">const</span> <span class="hljs-title">uint8_t</span> *<span class="hljs-title">pic</span>);</span>                <span class="hljs-comment">// ä¼ å…¥å›¾ç‰‡</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *(*<span class="hljs-title">SetJumpId</span>)(<span class="hljs-title">uint8_t</span> <span class="hljs-title">pageId</span>, <span class="hljs-title">uint8_t</span> <span class="hljs-title">itemLineId</span>);</span> <span class="hljs-comment">// ä¼ å…¥PageIdå’ŒItemLineId</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *(*<span class="hljs-title">SetDescripition</span>)(<span class="hljs-title">char</span> *<span class="hljs-title">desc</span>);</span>                   <span class="hljs-comment">// ä¼ å…¥descripition</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *(*<span class="hljs-title">ReturnThisItem</span>)(<span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_item</span> *<span class="hljs-title">thisItem</span>);</span>  <span class="hljs-comment">// è¿”å›è¯¥itemçš„æŒ‡é’ˆ</span><br>&#125; HugoUIItem_t;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* Pageçš„ç»“æ„ä½“ */</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span> *<span class="hljs-title">next</span>;</span><br>    HugoUIPage_e funcType;<br>    HugoUIItem_t *itemHead, *itemTail;<br>    <span class="hljs-type">char</span> *title; <span class="hljs-comment">// è¯¥é¡µçš„åå­—</span><br>    <span class="hljs-type">uint8_t</span> pageId;<br>    <span class="hljs-type">uint16_t</span> itemMax; <span class="hljs-comment">// è¯¥pageå«æœ‰çš„itemæ•°</span><br>    <span class="hljs-type">float</span> page_x, page_x_trg;<br>    <span class="hljs-type">float</span> page_y, page_y_trg;<br>    <span class="hljs-type">float</span> page_y_forlist, page_y_forlist_trg;<br><br>    <span class="hljs-type">void</span> (*FuncCallBack)(<span class="hljs-type">void</span>);<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span> *(*<span class="hljs-title">SetPgaeFunCallBack</span>)(<span class="hljs-title">void</span> (*<span class="hljs-title">FuncCallBack</span>)(<span class="hljs-title">void</span>));</span><br><br>    <span class="hljs-type">void</span> (*PageEventProc)(<span class="hljs-type">void</span>);<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span> *(*<span class="hljs-title">SetPgaeEventProc</span>)(<span class="hljs-title">void</span> (*<span class="hljs-title">PageEventProc</span>)(<span class="hljs-title">void</span>));</span><br><br>    <span class="hljs-type">void</span> (*PageUIShow)(<span class="hljs-keyword">struct</span> HugoUI_page *thispage, HugoUIItem_t *thisitem);<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span> *(*<span class="hljs-title">SetPageUIShow</span>)(<span class="hljs-title">void</span> (*<span class="hljs-title">PgagUIShow</span>)(<span class="hljs-keyword">struct</span> <span class="hljs-title">HugoUI_page</span> *<span class="hljs-title">thispage</span>, <span class="hljs-title">HugoUIItem_t</span> *<span class="hljs-title">thisitem</span>));</span><br><br>    HugoUIItem_t *(*AddItem)(<span class="hljs-keyword">struct</span> HugoUI_page *thisPage, <span class="hljs-type">char</span> *title, HugoUIItem_e itemType, ...);<br>&#125; HugoUIPage_t;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨é“¾è¡¨çš„å½¢å¼ç¼–å†™GUIèœå•æ¡†æ¶çš„å¥½å¤„å°±æ˜¯ï¼ŒLayoutæ—¶éå¸¸çš„èˆ’é€‚ä¼˜é›…~</p><!-- ![è¾ƒä¸ºä¼˜é›…èˆ’é€‚çš„UI-Layout](/images/è°ˆè°ˆHOPEå½“ä¸­çš„GUIåº•å±‚é€»è¾‘å®ç°/image-13.jpg) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%B0%88%E8%B0%88HOPE%E5%BD%93%E4%B8%AD%E7%9A%84GUI%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0/image-13.jpg" alt="è¾ƒä¸ºä¼˜é›…èˆ’é€‚çš„UI-Layout"></p><p class="note note-warning">ç­‰å¾…æ–½å·¥ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™‚ï¸...</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>å…³è”çš„ä»“åº“<a href="https://github.com/ZhangKeLiang0627/HOPE">è¯·æˆ³è¿™é‡Œ;P</a>ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥ä»“åº“ä¸­è·å–é¡¹ç›®æºç å’ŒPCBæ‰“æ ·æ–‡ä»¶ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Project Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MCU</tag>
      
      <tag>STM32</tag>
      
      <tag>Project</tag>
      
      <tag>GUI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºé˜¿é‡Œäº‘OSS+Hexo+PicGoæ­å»ºå›¾åºŠğŸ–¼ï¸ğŸ›ï¸</title>
    <link href="/2024/08/24/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+Hexo+PicGo%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/README/"/>
    <url>/2024/08/24/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+Hexo+PicGo%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åŸºäºé˜¿é‡Œäº‘OSS-Hexo-PicGoæ­å»ºå›¾åºŠğŸ–¼ï¸ğŸ›ï¸"><a href="#åŸºäºé˜¿é‡Œäº‘OSS-Hexo-PicGoæ­å»ºå›¾åºŠğŸ–¼ï¸ğŸ›ï¸" class="headerlink" title="åŸºäºé˜¿é‡Œäº‘OSS+Hexo+PicGoæ­å»ºå›¾åºŠğŸ–¼ï¸ğŸ›ï¸"></a>åŸºäºé˜¿é‡Œäº‘OSS+Hexo+PicGoæ­å»ºå›¾åºŠğŸ–¼ï¸ğŸ›ï¸</h3><h4 id="é˜¿é‡Œäº‘æ˜¯çœŸçš„é¦™å•Šï¼å¿«æ˜¯çœŸçš„å¿«ï¼Œè´µè¿˜çœŸçš„æ²¡è¿™ä¹ˆè´µï¼Œå…¶å®è¿˜æ˜¯è›®è´µçš„ğŸ¥¹ğŸ’°ğŸ’¸"><a href="#é˜¿é‡Œäº‘æ˜¯çœŸçš„é¦™å•Šï¼å¿«æ˜¯çœŸçš„å¿«ï¼Œè´µè¿˜çœŸçš„æ²¡è¿™ä¹ˆè´µï¼Œå…¶å®è¿˜æ˜¯è›®è´µçš„ğŸ¥¹ğŸ’°ğŸ’¸" class="headerlink" title="é˜¿é‡Œäº‘æ˜¯çœŸçš„é¦™å•Šï¼å¿«æ˜¯çœŸçš„å¿«ï¼Œè´µè¿˜çœŸçš„æ²¡è¿™ä¹ˆè´µï¼Œå…¶å®è¿˜æ˜¯è›®è´µçš„ğŸ¥¹ğŸ’°ğŸ’¸"></a>é˜¿é‡Œäº‘æ˜¯çœŸçš„é¦™å•Šï¼å¿«æ˜¯çœŸçš„å¿«ï¼Œ<del>è´µè¿˜çœŸçš„æ²¡è¿™ä¹ˆè´µ</del>ï¼Œå…¶å®è¿˜æ˜¯è›®è´µçš„ğŸ¥¹ğŸ’°ğŸ’¸</h4><h4 id="LUV-form-aliyunâ€¦"><a href="#LUV-form-aliyunâ€¦" class="headerlink" title="LUV form aliyunâ€¦"></a>LUV form aliyunâ€¦</h4><h4 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h4><hr><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><p>éšç€åšå®¢æ–‡ç« çš„æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œéš¾å…åœ°ï¼Œå›¾ç‰‡å­˜å‚¨çš„æ•°é‡ä¹Ÿæ¸æ¸å¢å¤šã€‚ä¹‹å‰æ˜¯ä½¿ç”¨æ–‡ä»¶å¤¹æœ¬åœ°å­˜å‚¨å›¾ç‰‡ï¼Œéƒ¨ç½²çš„æ—¶å€™æ˜¯å…¨æ•°ä¸Šä¼ åˆ°Githubçš„ï¼Œæ…¢æ…¢ä¼šä½¿å¾—è¿™ä¸ªä»“åº“å˜å¾—æå…¶è‡ƒè‚¿ï¼Œè€Œä¸”ä¸ä¾¿äºæ›´æ¢ç½‘ç«™çš„æ‰˜ç®¡ã€‚äºæ˜¯è¿˜æ˜¯å†³å®šä½¿ç”¨å›¾åºŠï¼ï¼ï¼</p><p>æ²¡é”™ï¼Œé˜¿é‡Œäº‘çš„å¯¹è±¡å­˜å‚¨OSSï¼ä¹°äº†ä¸‰å¹´çš„ç©ºé—´æ‰27å…ƒï¼Œ40GBï¼Œåˆå¯ä»¥éœéœä¸€é˜µå•¦ï¼</p><blockquote><p><strong>Qï¼šå…³äºä¸ºä»€ä¹ˆè¦æ­å»ºå›¾åºŠï¼Ÿ</strong></p></blockquote><blockquote><p>Aï¼šæˆ‘é¦–å…ˆèƒ½ç»™å‡ºçš„ç­”å¤å°±æ˜¯ï¼Œ<strong>å¿«ï¼è®¿é—®å¿«ï¼Œä¸Šä¼ å¿«ï¼Œè¿ç§»å¿«ã€‚</strong>ç„¶åæˆ‘é€‰æ‹©aliyunå°±æ˜¯<strong>æ±‚ç¨³ï¼Œä¸ä¸¢æ•°æ®ã€‚</strong>æœ€åï¼Œæ­å»ºå›¾åºŠï¼Œå…¶å®ä¹Ÿå¯ä»¥<strong>ç”¨æ¥å®ç°ä¸€äº›å…¶ä»–çš„åŠŸèƒ½å¦‚ï¼šç½‘é¡µDownloadã€‚</strong>æ¯”æ–¹è¯´æˆ‘å¯ä»¥å¾€OSSå½“ä¸­å­˜æ”¾ä¸€äº›PDFã€PPTã€txtç­‰æ–‡ä»¶æ–‡æ¡£ï¼Œæˆ‘å¯ä»¥éšæ—¶åœ¨æˆ‘çš„åšå®¢å½“ä¸­ä¸‹è½½è·å–ï¼Œ<strong>éå¸¸çš„ä¾¿åˆ©ï¼</strong></p></blockquote><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="PicGoå›¾åºŠå·¥å…·"><a href="#PicGoå›¾åºŠå·¥å…·" class="headerlink" title="PicGoå›¾åºŠå·¥å…·"></a>PicGoå›¾åºŠå·¥å…·</h3><p>PicGoæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å›¾åºŠå·¥å…·ï¼Œæ”¯æŒå¾®åšã€è…¾è®¯äº‘COSã€é˜¿é‡Œäº‘OSSã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ã€GitHubã€SM.MSã€imgurç­‰ã€‚åŠŸèƒ½å¼ºå¤§ï¼Œç®€å•æ˜“ç”¨ï¼Œå¯æƒœæˆ‘ä¸çˆ±å®ƒâ€¦</p><p>æˆ‘è¿˜æ˜¯å–œæ¬¢ç®€å•ç²—æš´ï¼Œå› ä¸ºæˆ‘æ˜¯ç›´æ¥ç”¨Vscodeæ•²åŸç”ŸMarkdownï¼Œç”¨ä¸æƒ¯Typoraã€Obsidianä¹‹ç±»çš„ç¼–è¾‘å™¨ï¼Œæ‰€ä»¥æ•²æ–‡ç« ç¼–è¾‘å›¾ç‰‡çš„æ—¶å€™è¿˜è¦åœ¨ä¸­é—´æ’å…¥ä¸€å±‚PicGoï¼Œè¿‡ç¨‹ç¹çã€‚æœ€åè¿˜æ˜¯æ²¡æœ‰ä½¿ç”¨PicGoï¼Œåé¢æˆ‘ä¼šåˆ†äº«æˆ‘æ•²Markdownå¯¹å›¾ç‰‡ç®¡ç†çš„æŠ€å·§ï¼Œè¿™é‡Œè®²è®²PicGoçš„å®‰è£…å’Œä½¿ç”¨ï¼Œä¼˜ç§€çš„è½¯ä»¶å·¥å…·è¯´ä¸å®šé€‚åˆæ‚¨ï¼</p><h4 id="PicGoçš„ä¸‹è½½ä¸å®‰è£…"><a href="#PicGoçš„ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="PicGoçš„ä¸‹è½½ä¸å®‰è£…"></a>PicGoçš„ä¸‹è½½ä¸å®‰è£…</h4><ul><li>ä¸‹è½½</li></ul><p>æ‚¨å¯ä»¥åœ¨PicGoçš„Githubä»“åº“çš„Releaseså½“ä¸­è·å–å¯¹åº”çš„ç‰ˆæœ¬ï¼š<a href="https://github.com/Molunerfinn/PicGo/releases">æˆ³è¿™é‡Œ:)</a></p><p>é€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬å°±è¡Œå•¦ï¼ˆæˆªæ­¢2024&#x2F;8&#x2F;25ï¼‰ï¼š</p><!-- ![PicGoç‰ˆæœ¬é€‰æ‹©](images/åŸºäºé˜¿é‡Œäº‘OSSä¸Hexoä¸PicGoæ­å»ºå›¾åºŠ/image-0.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS%E4%B8%8EHexo%E4%B8%8EPicGo%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/image-0.png" alt="PicGoç‰ˆæœ¬é€‰æ‹©"></p><ul><li>å®‰è£…</li></ul><p>è¿›è¡Œå®‰è£…ï¼Œä¸€è·¯æ‰“ âˆš å³å¯ï¼</p><h3 id="é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS"><a href="#é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS" class="headerlink" title="é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS"></a>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS</h3><p>å…³äºé˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSSçš„åˆ›å»ºå’Œé…ç½®ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ç¯‡ä¼˜ç§€çš„æ•™ç¨‹<a href="https://blog.csdn.net/Unamattina_/article/details/136463281">æˆ³è¿™é‡Œ:P</a></p><p>å½“ç„¶ï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬äº†å¯¹PicGoå›¾åºŠå·¥å…·çš„é…ç½®ï¼Œæ•™çš„å¾ˆèµï¼</p><p>è°¢è°¢è¯¥æ•™ç¨‹ä½œè€…çš„åˆ†äº«ï¼éå¸¸çš„æ‰‹æŠŠæ‰‹æ•™å­¦ï¼</p><h3 id="é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS-Vscodeæ›¿æ¢æœ¬åœ°å›¾ç‰‡é“¾æ¥"><a href="#é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS-Vscodeæ›¿æ¢æœ¬åœ°å›¾ç‰‡é“¾æ¥" class="headerlink" title="é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS+Vscodeæ›¿æ¢æœ¬åœ°å›¾ç‰‡é“¾æ¥"></a>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS+Vscodeæ›¿æ¢æœ¬åœ°å›¾ç‰‡é“¾æ¥</h3><p>emmmï¼Œè¯´æ¥å¥‡æ€ªï¼Œæˆ‘åˆä½¿ç”¨PicGoçš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘ä¸èƒ½ç”¨PicGoæŸ¥çœ‹å·²ç»å­˜åœ¨äºOSSå½“ä¸­çš„å›¾ç‰‡ï¼Œåªèƒ½æŸ¥çœ‹é€šè¿‡PicGoä¸Šä¼ åˆ°OSSçš„å›¾ç‰‡ã€‚åŒæ—¶ï¼Œåœ¨PicGoç«¯å¯¹å›¾ç‰‡è¿›è¡Œåˆ é™¤åï¼Œå¹¶ä¸ä¼šè¿åŒOSSç«¯çš„å›¾ç‰‡ä¸€èµ·åˆ é™¤ã€‚è¿™å°±å¯¼è‡´äº†æ“ä½œçš„ä¸æµç•…æ€§ã€‚</p><p>è€Œä¸”ï¼ŒPicGoä¸èƒ½æ‰¹é‡æ‰«ææ–‡ä»¶å¤¹ï¼Œä¸Šä¼ å›¾ç‰‡è¿‡å¤šè¿‡å¤§çš„æ—¶å€™ï¼Œä¼šå‡ºç°<strong>åœ¨OSSç«¯å·²ç»æˆåŠŸä¸Šä¼ ä½†åœ¨PicGoç«¯æŸ¥çœ‹ä¸åˆ°è¯¥å›¾ç‰‡çš„æƒ…å†µã€‚</strong></p><p>æœ€åï¼ŒPicGoä¸èƒ½éšæˆ‘å¿ƒæ„åœ°è‡ªå¦‚çš„å°†å›¾ç‰‡ä¸Šä¼ åˆ°OSSå¯¹åº”çš„æ–‡ä»¶å¤¹å½“ä¸­ï¼Œä¸€å¼ ä¸€å¼ åœ°ä¼ çœŸçš„å¾ˆè¦å‘½ã€‚</p><p>æˆ‘è¿˜é‡åˆ°ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œ<strong>OSSå½“ä¸­çš„å›¾ç‰‡æ˜¯ä¸Šä¼ åä¸èƒ½ä¹Ÿä¸å…è®¸æ”¹åŠ¨åœ¨æ–‡ä»¶å¤¹å½“ä¸­çš„ä½ç½®çš„</strong>ï¼Œæ¯”æ–¹è¯´ï¼šåŸæ¥å›¾ç‰‡Aåœ¨æ–‡ä»¶å¤¹1ä¸­ï¼Œç°åœ¨æˆ‘æƒ³è¦å°†å›¾ç‰‡Aä»æ–‡ä»¶å¤¹1ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹2å½“ä¸­å»ï¼Œè¿™æ˜¯åšä¸åˆ°çš„ã€‚ä½ åªèƒ½åˆ é™¤æ–‡ä»¶å¤¹1ä¸­çš„å›¾ç‰‡Aï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹2ä¸­é‡æ–°ä¸Šä¼ å›¾ç‰‡Aã€‚</p><p>å…³äºè¿™ä¸ªé—®é¢˜çš„è§£ç­”ï¼Œæˆ‘è¯¢é—®äº†æˆ‘çš„ä»äº‹åç«¯çš„ç›†å‹ã€‚å®ƒè¯´ï¼Œä½ å¯ä»¥æŠŠOSSå½“ä½œæ˜¯æ¯ä¸€ä¸ªå­˜å‚¨å¯¹è±¡éƒ½å¯¹åº”ç€ä¸€ä¸ªURLï¼Œè¿™ä¸ªURLæ˜¯ç”±æ–‡ä»¶å¤¹çš„å­˜å‚¨è·¯å¾„å†³å®šçš„ã€‚å€˜è‹¥ä½ ä¸Šä¼ äº†å›¾ç‰‡Aåˆ°æ–‡ä»¶å¤¹1ï¼Œè¿”å›çš„æ°¸ä¹…çš„URLæ˜¯<code>https://hugokkl.com/file1/pictureA.jpg</code>ï¼Œäº‘ç«¯ä¼šæ ¹æ®è¿™ä¸ªURLåˆ°å¯¹åº”çš„è·¯å¾„å½“ä½œæ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ã€‚æ­¤æ—¶ä½ ä¿®æ”¹è¯¥å›¾ç‰‡Açš„è·¯å¾„åˆ°æ–‡ä»¶å¤¹2ï¼Œå¯æ˜¯URLå´ä¸ä¼šæ”¹å˜ï¼Œä¼šå¯¼è‡´æ–‡ä»¶è·¯å¾„å’ŒURLå¯¹åº”ä¸ä¸Šï¼Œäº‘ç«¯ä¹Ÿä¸çŸ¥é“å»å“ªé‡Œæ‰¾è¿™ä¸ªURLå¯¹åº”çš„å›¾ç‰‡Aäº†ã€‚</p><p>äºæ˜¯ï¼Œæœ€åæˆ‘é€‰æ‹©ä½¿ç”¨ç®€å•ç²—æš´ï¼Œ<strong>æ‰«ææ–‡ä»¶å¤¹ + ç»™åŸæ¥çš„å›¾ç‰‡é“¾æ¥åŠ ä¸Šå‰ç¼€çš„æ–¹å¼</strong>å®Œæˆäº†å›¾ç‰‡çš„è¿ç§»ä»¥åŠå›¾åºŠçš„æ­å»ºï¼è¿™çœŸçš„å¾ˆæ–¹ä¾¿ï¼</p><!-- ![](images/åŸºäºé˜¿é‡Œäº‘OSSä¸Hexoä¸PicGoæ­å»ºå›¾åºŠ/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS%E4%B8%8EHexo%E4%B8%8EPicGo%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/image-1.png"></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li><p>OSSå½“ä¸­çš„æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶åä¸è¦å¸¦æœ‰æ ‡ç‚¹ç¬¦å·ä¸€ç±»çš„ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´ç”Ÿæˆçš„URLä¸å¯ç”¨ã€‚</p></li><li><p>OSSçš„æµé‡è´¹ç”¨è¿˜æ˜¯æ¯”è¾ƒé«˜æ˜‚çš„ï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ï¼æ¯å°æ—¶å†…å¤–ç½‘æµå‡ºæµé‡è¶…è¿‡20MBä¾¿ä¼šå¼€å§‹è®¡è´¹ï¼</p></li><li><p>ç›®å‰ï¼Œæˆªè‡³åˆ°2024&#x2F;8&#x2F;25ï¼Œæœ¬åšå®¢ç»å¤§éƒ¨åˆ†çš„å›¾ç‰‡å·²ç»è½¬ç§»åˆ°é˜¿é‡Œäº‘OSSè¿›è¡Œå­˜å‚¨ï¼äºæ˜¯ï¼Œå³ä¾¿ä¸ä½¿ç”¨é­”æ³•ï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿåœ°è®¿é—®æœ¬åšå®¢ï¼è§£å†³äº†ä¸€ä¸ªæŒºä»¤äººå¤´ç–¼çš„éš¾é¢˜ğŸ˜</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>aliyun</tag>
      
      <tag>PicGo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è€èƒŒç‹ã€‘è®¡ç®—æœºç½‘ç»œğŸ¤“ğŸ“–</title>
    <link href="/2024/08/20/%E8%80%90%E8%83%8C%E7%8E%8B%E4%B9%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/README/"/>
    <url>/2024/08/20/%E8%80%90%E8%83%8C%E7%8E%8B%E4%B9%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€è€èƒŒç‹ã€‘è®¡ç®—æœºç½‘ç»œğŸ¤“ğŸ“–ï¼"><a href="#ã€è€èƒŒç‹ã€‘è®¡ç®—æœºç½‘ç»œğŸ¤“ğŸ“–ï¼" class="headerlink" title="ã€è€èƒŒç‹ã€‘è®¡ç®—æœºç½‘ç»œğŸ¤“ğŸ“–ï¼"></a>ã€è€èƒŒç‹ã€‘è®¡ç®—æœºç½‘ç»œğŸ¤“ğŸ“–ï¼</h3><h4 id="ä½œä¸ºä¸€åä¸“ä¸šçš„æ”»åŸç‹®ï¼Œç†è®ºå¼ å£å°±æ¥åº”è¯¥æ˜¯å®¶å¸¸ä¾¿é¥­ï¼èƒŒä¹¦å°±è¦ç¬‘ç€èƒŒï¼"><a href="#ä½œä¸ºä¸€åä¸“ä¸šçš„æ”»åŸç‹®ï¼Œç†è®ºå¼ å£å°±æ¥åº”è¯¥æ˜¯å®¶å¸¸ä¾¿é¥­ï¼èƒŒä¹¦å°±è¦ç¬‘ç€èƒŒï¼" class="headerlink" title="ä½œä¸ºä¸€åä¸“ä¸šçš„æ”»åŸç‹®ï¼Œç†è®ºå¼ å£å°±æ¥åº”è¯¥æ˜¯å®¶å¸¸ä¾¿é¥­ï¼èƒŒä¹¦å°±è¦ç¬‘ç€èƒŒï¼"></a>ä½œä¸ºä¸€åä¸“ä¸šçš„æ”»åŸç‹®ï¼Œç†è®ºå¼ å£å°±æ¥åº”è¯¥æ˜¯å®¶å¸¸ä¾¿é¥­ï¼èƒŒä¹¦å°±è¦ç¬‘ç€èƒŒï¼</h4><h4 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h4><hr><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><p>å¿ƒè¡€æ¥æ½®ï¼Œå¼€äº†è¿™ä»½æ–°å‘ï¼ŒåŸæ„æ˜¯ä¸ºäº†å¤ä¹ ä¸Šå­¦æœŸå­¦ä¹ çš„è®¡ç®—æœºç½‘ç»œçš„çŸ¥è¯†ï¼Œä¸è¦å­¦å®Œè€ƒå®Œè¯•å°±è·Ÿè¿‡çœ¼äº‘çƒŸä¸€æ ·ï¼Œä»¥åå·¥ä½œå¯æ˜¯å®æ‰“å®ä¼šç”¨åˆ°çš„ï¼Œéœ€è¦é‡è§†èµ·æ¥ï¼</p><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="ç½‘ç»œåˆ†å±‚ç»“æ„"><a href="#ç½‘ç»œåˆ†å±‚ç»“æ„" class="headerlink" title="ç½‘ç»œåˆ†å±‚ç»“æ„"></a>ç½‘ç»œåˆ†å±‚ç»“æ„</h3><!-- ![TCP/IPäº”å±‚æ¨¡å‹](images/è€èƒŒç‹ä¹‹è®¡ç®—æœºç½‘ç»œ/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E8%80%90%E8%83%8C%E7%8E%8B%E4%B9%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image.png" alt="TCP/IPäº”å±‚æ¨¡å‹"></p><h3 id="ä»‹ç»TCPã€UDP"><a href="#ä»‹ç»TCPã€UDP" class="headerlink" title="ä»‹ç»TCPã€UDP"></a>ä»‹ç»TCPã€UDP</h3><h4 id="TCPçš„æ¦‚å¿µä¸ç‰¹ç‚¹"><a href="#TCPçš„æ¦‚å¿µä¸ç‰¹ç‚¹" class="headerlink" title="TCPçš„æ¦‚å¿µä¸ç‰¹ç‚¹"></a>TCPçš„æ¦‚å¿µä¸ç‰¹ç‚¹</h4><ul><li>TCPæ¦‚å¿µï¼š</li></ul><p>TCPæ˜¯ä¸€ä¸ªé¢å‘è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›å¯é çš„ã€é¢å‘è¿æ¥çš„ã€å­—èŠ‚æµä¼ è¾“æœåŠ¡ã€‚</p><ul><li>TCPç‰¹ç‚¹ï¼š</li></ul><ol><li>é¢å‘è¿æ¥ï¼šæ•°æ®ä¼ è¾“å‰éœ€è¦å»ºç«‹è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Œä¼ è¾“ç»“æŸåéœ€æ–­å¼€è¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰ã€‚</li><li>å¯é ä¼ è¾“ï¼šé€šè¿‡ç¡®è®¤åº”ç­”ã€è¶…æ—¶é‡ä¼ ã€æ ¡éªŒå’Œåºåˆ—å·ç­‰æœºåˆ¶ï¼Œä¿è¯æ•°æ®çš„å¯é æ€§ã€‚</li><li>æµé‡æ§åˆ¶ï¼šé€šè¿‡æ»‘åŠ¨çª—å£æœºåˆ¶ï¼Œæ§åˆ¶æ•°æ®å‘é€çš„é€Ÿç‡ï¼Œé¿å…ç½‘ç»œæ‹¥å¡ã€‚</li><li>æ‹¥å¡æ§åˆ¶ï¼šé‡‡ç”¨æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ã€å¿«é€Ÿé‡ä¼ å’Œå¿«é€Ÿæ¢å¤ç­‰ç®—æ³•ï¼Œä¼˜åŒ–ç½‘ç»œèµ„æºåˆ©ç”¨ã€‚</li><li>é¡ºåºä¿è¯ï¼šä¿è¯æ•°æ®æŒ‰å‘é€é¡ºåºåˆ°è¾¾ï¼Œé€‚ç”¨äºéœ€è¦æ•°æ®é¡ºåºä¸”å¯é ä¼ è¾“çš„åœºæ™¯ï¼Œå¦‚æ–‡ä»¶ä¼ è¾“ã€é‚®ä»¶ç­‰ã€‚</li><li>ç‚¹å¯¹ç‚¹ï¼šæ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œæ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ã€‚</li><li>å…¨åŒå·¥é€šä¿¡ï¼šåŒä¸€è¿æ¥å…è®¸åŒå‘æ•°æ®æµã€‚</li></ol><h4 id="UDPçš„æ¦‚å¿µä¸ç‰¹ç‚¹"><a href="#UDPçš„æ¦‚å¿µä¸ç‰¹ç‚¹" class="headerlink" title="UDPçš„æ¦‚å¿µä¸ç‰¹ç‚¹"></a>UDPçš„æ¦‚å¿µä¸ç‰¹ç‚¹</h4><ul><li>UDPæ¦‚å¿µï¼š</li></ul><p>UDPçš„å…¨ç§°æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯ä¸€ä¸ªæ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›ç®€å•çš„æ•°æ®æŠ¥æ–‡ä¼ è¾“æœåŠ¡ï¼Œæ— æ³•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ã€é¡ºåºæ€§å’Œå®Œæ•´æ€§ã€‚</p><ul><li>UDPç‰¹ç‚¹ï¼š</li></ul><ol><li>æ— è¿æ¥ï¼šå‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå‡å°‘å¼€é”€å’Œå‘é€æ•°æ®ä¹‹å‰çš„æ—¶å»¶ã€‚</li><li>ä½å¼€é”€ï¼šUDPå¤´éƒ¨å¼€é”€å°ï¼Œåªæœ‰8å­—èŠ‚ã€‚</li><li>ä¸å¯é ä¼ è¾“ï¼šä¸ä¿è¯æ•°æ®åŒ…çš„é€è¾¾ã€ä¸é‡ä¼ ã€ä¸æ ¡éªŒé¡ºåºã€‚</li><li>é¢å‘æŠ¥æ–‡ï¼šæ•°æ®ä»¥ç‹¬ç«‹çš„æŠ¥æ–‡å½¢å¼ä¼ è¾“ï¼Œé€‚åˆä¼ è¾“å°‘é‡æ•°æ®çš„åœºæ™¯ã€‚</li><li>æ— æ‹¥å¡æ§åˆ¶ï¼šå®æ—¶æ€§å¼ºã€‚</li></ol><h3 id="ä»‹ç»HTTP"><a href="#ä»‹ç»HTTP" class="headerlink" title="ä»‹ç»HTTP"></a>ä»‹ç»HTTP</h3><h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h4><h4 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h4><h4 id="å¸¸è§çš„HTTPçŠ¶æ€ç "><a href="#å¸¸è§çš„HTTPçŠ¶æ€ç " class="headerlink" title="å¸¸è§çš„HTTPçŠ¶æ€ç "></a>å¸¸è§çš„HTTPçŠ¶æ€ç </h4><h4 id="HTTPSä¸HTTPçš„åŒºåˆ«"><a href="#HTTPSä¸HTTPçš„åŒºåˆ«" class="headerlink" title="HTTPSä¸HTTPçš„åŒºåˆ«"></a>HTTPSä¸HTTPçš„åŒºåˆ«</h4><h3 id="æ‹¥å¡æ§åˆ¶"><a href="#æ‹¥å¡æ§åˆ¶" class="headerlink" title="æ‹¥å¡æ§åˆ¶"></a>æ‹¥å¡æ§åˆ¶</h3><h4 id="æ…¢å¼€å§‹"><a href="#æ…¢å¼€å§‹" class="headerlink" title="æ…¢å¼€å§‹"></a>æ…¢å¼€å§‹</h4><h4 id="æ‹¥å¡é¿å…"><a href="#æ‹¥å¡é¿å…" class="headerlink" title="æ‹¥å¡é¿å…"></a>æ‹¥å¡é¿å…</h4><h4 id="å¿«é‡ä¼ "><a href="#å¿«é‡ä¼ " class="headerlink" title="å¿«é‡ä¼ "></a>å¿«é‡ä¼ </h4><h4 id="å¿«æ¢å¤"><a href="#å¿«æ¢å¤" class="headerlink" title="å¿«æ¢å¤"></a>å¿«æ¢å¤</h4><h3 id="ä»‹ç»cookieã€sessionå’Œtoken"><a href="#ä»‹ç»cookieã€sessionå’Œtoken" class="headerlink" title="ä»‹ç»cookieã€sessionå’Œtoken"></a>ä»‹ç»cookieã€sessionå’Œtoken</h3><h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><p>Cookieæ˜¯åœ¨å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨ï¼‰å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“çš„ä¸€å°æ®µæ•°æ®ï¼Œé€šå¸¸åŒ…å«ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ã€‚æœåŠ¡å™¨é€šè¿‡åœ¨HTTPå“åº”å¤´ä¸­è®¾ç½®Set-Cookieå­—æ®µï¼Œå°†Cookieä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ä¿å­˜ã€‚å®¢æˆ·ç«¯åœ¨æ¥æ”¶åˆ°Cookieä¿¡æ¯åï¼Œä¼šåœ¨æœ¬åœ°è¿›è¡Œå­˜å‚¨ï¼Œå¹¶åœ¨åç»­çš„HTTPè¯·æ±‚ä¸­å°†Cookieä¿¡æ¯å‘é€ç»™æœåŠ¡å™¨ã€‚Cookieå¸¸ç”¨äºå®ç°ç”¨æˆ·ç™»å½•çŠ¶æ€çš„ç»´æŠ¤ã€è´­ç‰©è½¦åŠŸèƒ½ã€ç½‘ç«™ä¸ªæ€§åŒ–è®¾ç½®ç­‰åŠŸèƒ½ã€‚</p><h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><p>Sessionæ˜¯åœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨çš„å…³äºç”¨æˆ·ä¿¡æ¯çš„æ•°æ®ç»“æ„ã€‚åœ¨ç”¨æˆ·é¦–æ¬¡è®¿é—®ç½‘ç«™æ—¶ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯IDï¼ˆSession IDï¼‰ï¼Œå¹¶å°†è¯¥Session IDå­˜å‚¨åœ¨Cookieä¸­æˆ–é€šè¿‡URLå‚æ•°ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯åœ¨åç»­çš„è¯·æ±‚ä¸­ä¼šå¸¦ä¸ŠSession IDï¼ŒæœåŠ¡å™¨æ ¹æ®Session IDæ¥è¯†åˆ«ç”¨æˆ·ï¼Œå¹¶åœ¨ä¼šè¯æœŸé—´å­˜å‚¨ç”¨æˆ·ç›¸å…³ä¿¡æ¯ã€‚Sessionå¸¸ç”¨äºä¿å­˜ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦å†…å®¹ç­‰ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯çµæ´»åœ°æ§åˆ¶ä¼šè¯çš„æœ‰æ•ˆæœŸå’Œå­˜å‚¨å†…å®¹ã€‚</p><h4 id="token"><a href="#token" class="headerlink" title="token"></a>token</h4><p>Tokenæ˜¯ä¸€ç§ç”¨äºèº«ä»½éªŒè¯çš„ä»¤ç‰Œï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸²ï¼Œç”¨äºéªŒè¯ç”¨æˆ·çš„èº«ä»½å’Œæƒé™ã€‚åœ¨ç”¨æˆ·ç™»å½•æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç”Ÿæˆä¸€ä¸ªTokenå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åœ¨åç»­çš„è¯·æ±‚ä¸­å°†Tokenä½œä¸ºèº«ä»½éªŒè¯çš„å‡­è¯å‘é€ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨é€šè¿‡éªŒè¯Tokençš„æœ‰æ•ˆæ€§å’Œæƒé™æ¥ç¡®å®šç”¨æˆ·çš„èº«ä»½æ˜¯å¦åˆæ³•ã€‚Tokené€šå¸¸å…·æœ‰ä¸€å®šçš„æ—¶æ•ˆæ€§ï¼Œåœ¨è¿‡æœŸæˆ–è¢«ç¯¡æ”¹æ—¶ä¼šå¤±æ•ˆï¼Œéœ€è¦é‡æ–°è·å–æ–°çš„Tokenã€‚Tokenå¸¸ç”¨äºå®ç°æ— çŠ¶æ€çš„èº«ä»½éªŒè¯ï¼Œå¯ç”¨äºå‰åç«¯åˆ†ç¦»çš„åº”ç”¨ä¸­ã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒCookiesä¸»è¦ç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼ŒSessionä¸»è¦ç”¨äºåœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶ç»“åˆSession IDåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼Œè€ŒTokenåˆ™æ˜¯ç”¨äºèº«ä»½éªŒè¯å’Œæƒé™æ§åˆ¶çš„ä»¤ç‰Œã€‚</p><h3 id="ç­‰å¾…æ–½å·¥â€¦"><a href="#ç­‰å¾…æ–½å·¥â€¦" class="headerlink" title="ç­‰å¾…æ–½å·¥â€¦"></a>ç­‰å¾…æ–½å·¥â€¦</h3><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>ç­‰å¾…æ–½å·¥â€¦</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è€èƒŒç‹</tag>
      
      <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨8æœˆï¼šä½ è¯´ï¼Œè¦å¤šå¤šè®¾æƒ³ä»£ç ä¹‹å¤–...</title>
    <link href="/2024/08/12/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/README/"/>
    <url>/2024/08/12/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨8æœˆï¼šä½ è¯´ï¼Œè¦å¤šå¤šè®¾æƒ³ä»£ç ä¹‹å¤–â€¦"><a href="#æ‚è®°ä¸¨8æœˆï¼šä½ è¯´ï¼Œè¦å¤šå¤šè®¾æƒ³ä»£ç ä¹‹å¤–â€¦" class="headerlink" title="æ‚è®°ä¸¨8æœˆï¼šä½ è¯´ï¼Œè¦å¤šå¤šè®¾æƒ³ä»£ç ä¹‹å¤–â€¦"></a>æ‚è®°ä¸¨8æœˆï¼šä½ è¯´ï¼Œè¦å¤šå¤šè®¾æƒ³ä»£ç ä¹‹å¤–â€¦</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h3><p>å’Œæœ‹å‹ä¹ŸèŠè¿‡è®¸å¤šå›è¿™ä»¶åœ¨ç›®å‰çš„å¹´é¾„æ¥çœ‹å¹¶ä¸é‡è¦çš„äº‹æƒ…ï¼Œå¤šæƒ³æƒ³ä»£ç ä¹‹å¤–çš„ä¸–ç•Œæ˜¯æ€ä¹ˆæ ·çš„å§ï¼Ÿ</p><p>æ¯”æ–¹è¯´ï¼Œç¨‹åºå‘˜çš„35å²å±æœºï¼Œå­¦å†è´¬å€¼å¸¦æ¥çš„æŠ€æœ¯è´¬å€¼ï¼Œæˆ–è€…å¾ˆå¤šå…¬ä¼—å·å¸¸æåˆ°çš„ç©·äººæ´»è¯¥å¹²ä¸€è¾ˆå­æŠ€æœ¯ä¹‹ç±»çš„è¯ï¼Œè¿˜æœ‰ç¨‹åºå‘˜å¾—å­¦ä¼šäººæƒ…ä¸–æ•…æ‰å¯ä»¥å‘ä¸Šæ™‹å‡ç­‰â€¦</p><p>è¿™ç›®å‰çœ‹èµ·æ¥ç¡®å®å±è¨€è€¸å¬ï¼Œä½†æ˜¯ä¹Ÿç»™æˆ‘è‡ªèº«æ‹‰å“äº†é•¿é¸£çš„è­¦é’Ÿï¼Œäººç”Ÿä¸èƒ½æ²¡ç”¨æŠ€æœ¯ï¼Œä¹Ÿä¸èƒ½åªæœ‰æŠ€æœ¯ï¼Œå¦‚ä½•å¹³è¡¡ï¼Ÿè¿™ä¼¼ä¹éå¸¸å…³é”®ã€‚</p><p>é‚£ä¹ˆï¼Œè¦å¦‚ä½•å‘å±•ä»£ç ä¹‹å¤–çš„ä¸–ç•Œå‘¢ã€‚</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/8æœˆ/image-0.gif" alt="---" width = "300" height = "150" style="border-radius: 10px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/8æœˆ/image-1.gif" alt="---" width = "300" height = "150" style="border-radius: 10px;"></div></div></div><hr><h3 id="ã€2024-08-12ã€‘ç­‰å¾…æ–½å·¥â€¦"><a href="#ã€2024-08-12ã€‘ç­‰å¾…æ–½å·¥â€¦" class="headerlink" title="ã€2024&#x2F;08&#x2F;12ã€‘ç­‰å¾…æ–½å·¥â€¦"></a>ã€2024&#x2F;08&#x2F;12ã€‘ç­‰å¾…æ–½å·¥â€¦</h3><p>çœ‹çœ‹æœªæ¥çš„æˆ‘ä¼šç»™å‡ºä»€ä¹ˆæ ·çš„ç­”æ¡ˆå§ï¼Ÿ</p><h3 id="ã€2024-8-20ã€‘æˆ‘æ²»å¥½äº†è‡ªå·±çš„é¹…è¶³è‚Œè…±ç‚ï¼Œä¸€æ¬¡ç¨€é‡Œç³Šæ¶‚çš„è‡ªæ•‘"><a href="#ã€2024-8-20ã€‘æˆ‘æ²»å¥½äº†è‡ªå·±çš„é¹…è¶³è‚Œè…±ç‚ï¼Œä¸€æ¬¡ç¨€é‡Œç³Šæ¶‚çš„è‡ªæ•‘" class="headerlink" title="ã€2024&#x2F;8&#x2F;20ã€‘æˆ‘æ²»å¥½äº†è‡ªå·±çš„é¹…è¶³è‚Œè…±ç‚ï¼Œä¸€æ¬¡ç¨€é‡Œç³Šæ¶‚çš„è‡ªæ•‘"></a>ã€2024&#x2F;8&#x2F;20ã€‘æˆ‘æ²»å¥½äº†è‡ªå·±çš„é¹…è¶³è‚Œè…±ç‚ï¼Œä¸€æ¬¡ç¨€é‡Œç³Šæ¶‚çš„è‡ªæ•‘</h3><p>å…«æœˆåˆï¼ŒæŸå¤©èµ·åºŠå‘ç°è†ç›–å†…ä¾§å¼€å§‹å‡ºç°é…¸ç—›å’Œæ’•è£‚çš„ç—›æ¥šã€‚</p><p>èµ·åˆä»¥ä¸ºæ˜¯å‰ä¸¤å¤©è¿åŠ¨çš„æ—¶å€™æ„å¤–æŒ«ä¼¤è†ç›–å¯¼è‡´çš„ï¼Œæ²¡æœ‰å¤ªå¤šæ³¨æ„è¿™å›äº‹ï¼Œå› ä¸ºä¸å½±å“æ­£å¸¸çš„èµ°è·¯ï¼Œä¹Ÿå°±æ²¡æœ‰å½“ä¸€å›äº‹äº†ã€‚</p><p>èµ·åºŠå½“å¤©ä¸­åˆï¼Œé•¿æ—¶é—´ååœ¨å·¥ä½ä¸Šï¼Œçªç„¶æƒ³è¦èµ·èº«å»å€’æ°´ï¼Œè†ç›–ä¸€ç”¨åŠ›å°±å‡ºç°äº†ä¸€é˜µçªå¦‚å…¶æ¥çš„ç–¼ç—›ï¼Œè®©æˆ‘åœ¨åº§ä½ä¸Šç¼“äº†å¾ˆä¹…æ‰å¯ä»¥é¢¤é¢¤å·å·åœ°æ‰¶ç€æ’‘æ¡Œå­èµ·èº«ï¼Œä¸€ç˜¸ä¸€æ‹åœ°èµ°èµ·è·¯æ¥â€¦</p><blockquote><p>æ„Ÿè§‰æ„Ÿè§‰ï¼Œèº«ä½“å‘Šè¯‰æˆ‘ï¼Œè‡ªå·±ä¸å†å¹´è½»æ´‹æº¢ï¼Œä¸å†åƒå°çŒ«èˆ¬åˆ°å¤„è¹¦è¹¦è·³è·³æ‘”è·¤æ‰“æ»šï¼Œè¿™å„¿é‚£å„¿ç£•ç£•ç¢°ç¢°ï¼Œä¹Ÿå°±å“­ä¸€å“­ç¡ä¸€è§‰é†’æ¥ç¬¬äºŒå¤©èº«ä½“å°±æ¢å¤å¦‚åˆã€‚å¿ƒé‡Œå§‹ç»ˆä»¥ä¸ºè‡ªå·±è¿˜æ˜¯å°å­©ï¼Œå”¯ç‹¬çœŸæ­£åˆ°ç—…ç—›å…¥ä¾µçš„æ—¶åˆ»ï¼å¥½æ— å¥ˆç°å¿ƒï¼Œè†ç›–ï¼Œä½ ä»€ä¹ˆæ—¶å€™æ‰èƒ½é‡è¿”å¥åº·ï¼Ÿ â€‹â€‹â€‹</p></blockquote><blockquote><p>å°±åƒæ˜¯åˆ°äº†æ¯ä¸ªé˜´é›¨å¤©æ‚£å¤„è¦å¼€å§‹éšéšä½œç—›ï¼Œèµ°è·¯ä¸€ç˜¸ä¸€æ‹çš„æ—¶å€™äº‘æ·¡é£è½»åœ°è§£é‡Šï¼šâ€œè€æ¯›ç—…å•¦ï¼â€ æˆ–è€…ï¼Œå½“æˆ‘æ‰¾å¼ æ¤…å­åä¸‹ï¼Œè¦æ…¢æ…¢åååœ°æ‰¶ç€æŠŠæ‰‹æ™ƒæ™ƒæ‚ æ‚ åœ°æ”¯æ’‘ç€å¼¯è…¿ï¼Œå¾…åˆ°ç»“å®åœ°è§¦åº•ï¼Œå˜´é‡Œè¿˜è¦é•¿èˆ’å£æ°”ï¼šå”‰å‘€â€¦ æˆ‘æ›¾å‡ ä½•æ—¶æƒ³è¿‡â€œå”‰å‘€â€è¿™ç§è¯­æ°”è¯ä¼šè½®åˆ°æˆ‘å‘å‡ºæ¥å“ˆå“ˆå“ˆï¼Œåƒä¸ªå°è€å¤´å°è€å¤ªã€‚<code>from my Weibos --2024-8-8</code></p></blockquote><p>æœæ–­åœ°ï¼Œæˆ‘å¼€å§‹ä¸Šç½‘æœç´¢æŸ¥è¯¢ç›¸å…³çš„ç—…ç—‡ï¼Œç™¾åº¦ä¸Šè¯´ï¼Œæˆ‘è¿™æ˜¯å†…ä¾§åŠæœˆæ¿æŸä¼¤â€¦åŠä¿¡åŠç–‘ï¼Œæˆ‘é¢„æƒ³æˆ‘çš„ä¸‹åŠç”Ÿä¼šä¸ä¼šååœ¨è½®æ¤…ä¸Šåº¦æ—¥hhhï¼Œå½“ç„¶äº‹å®ä¸Šå¹¶æ²¡æœ‰è¿™ä¹ˆä¸¥é‡ï¼Œæœ€åé€šè¿‡ç—‡çŠ¶å¯¹æ¯”ï¼Œè¿™ä¼¼ä¹æ›´åŠ ç¬¦åˆé¹…è¶³è‚Œè…±ç‚çš„è¡¨å¾ï¼šè†ç›–å†…ä¾§é«Œéª¨å’Œè‚¡éª¨çš„äº¤ç•Œå¤„ï¼ŒæŒ‰å‹æ—¶ç–¼ç—›ï¼ŒåŒæ—¶å¼¯è…¿ç›´è…¿çš„æ—¶å€™è¿™ä¸ªä½ç½®ä¼šæœ‰è‚Œè‚‰æ‹‰ä¼¸çš„ç–¼ç—›ï¼ŒåŒæ—¶åœ¨èµ°è·¯æ—¶ï¼Œä¼šä»¿ä½›æ„Ÿè§‰è†ç›–å†…ä¾§æ€»ä¼šæœ‰å‘å¤–ç¿»çš„è¶‹åŠ¿ã€‚</p><p>ä¸‹é¢æˆ‘æ¥è®²è®²æˆ‘æ˜¯æ€ä¹ˆæ²»å¥½é¹…è¶³è‚Œè…±ç‚çš„ï¼š</p><p>é¦–å…ˆï¼Œæˆ‘ç«‹é©¬åœ¨æŸå›¢ä¸‹å•äº†äº‘å—ç™½è¯å–·é›¾ï¼Œç„¶åå½“å¤©ä¸­åˆç”¨ä¸Šï¼Œç¡å‰å†å–·äº†è¯æ‰ç¡ï¼Œé‚£æ—¶å€™è¿˜æ˜¯éå¸¸çš„éš¾ï¼Œæˆ‘ä¹ æƒ¯ä¾§ç¡ï¼Œç¡è§‰ä¸æ€ä¹ˆå®‰åˆ†ï¼Œæ€»ä¼šæœ‰ç¿»æ¥è¦†å»çš„æ—¶å€™ï¼Œäºæ˜¯å‰å‡ ä¸ªå¤œæ™šæ€»æ˜¯ç¡æ¢¦ä¸­è¢«è…¿ä¼¤ç–¼é†’ã€‚ä½†ä¸å¾—ä¸è¯´ï¼Œäº‘å—ç™½è¯ç¡®å®å¾ˆå‰å®³ï¼Œåœ¨ç¬¬äºŒå¤©ç™½å¤©ï¼Œç–¼ç—›çš„ç—‡çŠ¶å°±å‡è½»äº†è®¸å¤šï¼Œè™½ç„¶è¿˜æ˜¯åªèƒ½æ…¢æ…¢æ™ƒæ‚ åœ°èµ°è·¯ï¼Œä½†è‡³å°‘å¯ä»¥ç›´è¡Œäº†ã€‚</p><p>ç„¶åå‘¢ï¼Œæˆ‘æ˜¯å¤§æ¦‚å…»ä¼¤ä¸€ä¸ªå¤šç¤¼æ‹œæ‰å¼€å§‹è±¡å¾æ€§åœ°åšä¸€äº›åº·å¤è¿åŠ¨ï¼Œå¯¹è…¿éƒ¨çš„è‚Œè‚‰åšæ‹‰ä¼¸ï¼Œç–è§£ã€‚å°½é‡é¿å…ä¸Šä¸‹æ¥¼æ¢¯è¿™ç§éœ€è¦å¼¯è…¿çš„åŠ¨ä½œã€‚è¿˜æœ‰ï¼Œæœ€å¥½åä¸‹çš„æ—¶å€™è…¿æ‰“ç›´ä¸è¦å¼¯æ›²ï¼Œè¿™æ ·åœ¨ä¸‹ä¸€æ¬¡éœ€è¦ç«™èµ·æ¥çš„æ—¶å€™ï¼Œå¯ä»¥é¿å…å¤§é‡çš„ç–¼ç—›ï¼Œéƒ½æ˜¯ç»éªŒä¹‹è°ˆï¼</p><p>ç›®å‰åˆ°ä»Šå¤©ä¸ºæ­¢ï¼Œæˆ‘çš„è†ç›–å·²ç»æ¢å¤å¾—ä¸ƒä¸ƒå…«å…«ï¼Œä½†ä¾ç„¶åœ¨é¿å…é«˜å¼ºåº¦çš„è¿åŠ¨ï¼Œæ¯•ç«Ÿæ¢å¤çš„å‘¨æœŸæ¼«é•¿â€¦</p><h3 id="ã€2024-8-24ã€‘é¢†å¯¼åœ¨PUAï¼Œæ— éå°±æ˜¯æƒ³è°ˆä¸ªå¥½ä»·"><a href="#ã€2024-8-24ã€‘é¢†å¯¼åœ¨PUAï¼Œæ— éå°±æ˜¯æƒ³è°ˆä¸ªå¥½ä»·" class="headerlink" title="ã€2024&#x2F;8&#x2F;24ã€‘é¢†å¯¼åœ¨PUAï¼Œæ— éå°±æ˜¯æƒ³è°ˆä¸ªå¥½ä»·"></a>ã€2024&#x2F;8&#x2F;24ã€‘é¢†å¯¼åœ¨PUAï¼Œæ— éå°±æ˜¯æƒ³è°ˆä¸ªå¥½ä»·</h3><p>çœ‹å‘¼å…°çš„è„±å£ç§€ï¼Œæœ‰æ„Ÿæ‘˜æŠ„!!!</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow1.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow2.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow3.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow4.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow5.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow6.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow7.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow8.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow9.jpg"></div><div class="group-image-wrap"><img src="/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow10.jpg"></div></div></div><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow1.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow2.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow3.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow4.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow5.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow6.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow7.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow8.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow9.jpg"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/8%E6%9C%88/talkshow10.jpg"></div></div></div> --><hr><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><ul><li>ç­‰å¾…æ–½å·¥â€¦</li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Life Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>record</tag>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•ğŸ¶</title>
    <link href="/2024/08/11/STM32F405%E7%9A%84DCMI%E5%A4%96%E8%AE%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%B0%9D%E8%AF%95/README/"/>
    <url>/2024/08/11/STM32F405%E7%9A%84DCMI%E5%A4%96%E8%AE%BE%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%B0%9D%E8%AF%95/README/</url>
    
    <content type="html"><![CDATA[<h3 id="STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•ğŸ¶"><a href="#STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•ğŸ¶" class="headerlink" title="STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•ğŸ¶"></a>STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•ğŸ¶</h3><h3 id="Use-STM32F405-DCMI-peripheral-to-do-some-small-projects"><a href="#Use-STM32F405-DCMI-peripheral-to-do-some-small-projects" class="headerlink" title="Use STM32F405 DCMI peripheral to do some small projects!!!"></a>Use STM32F405 DCMI peripheral to do some small projects!!!</h3><h3 id="Project-nameï¼šColor-Tracer"><a href="#Project-nameï¼šColor-Tracer" class="headerlink" title="Project nameï¼šColor-Tracer"></a>Project nameï¼šColor-Tracer</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><p class="note note-warning">æœ¬æ–‡ç”±äºGifå›¾ç‰‡å­˜å‚¨è¾ƒå¤§ï¼Œè¯·è€å¿ƒç­‰å¾…å›¾ç‰‡åŠ è½½ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™‚ï¸...</p><hr><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic2.jpg" alt="exhibition" width="75%;"></div><div class="group-image-wrap"><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic3.jpg" alt="exhibition" width="100%;"></div></div></div> --><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic2.jpg" alt="exhibition" width="75%;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic3.jpg" alt="exhibition" width="100%;"></div></div></div><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><p>è¿™äº›ä¸ªé¡¹ç›®Demoséƒ½æ˜¯åŸºäºå…ˆå‰è®¾è®¡çš„åŸºäºSTM32F405çš„HMIå¼€å‘æ¿LUMOSè¿›è¡Œçš„å¼€å‘ã€‚å½“æ—¶ä¸çŸ¥é“æ˜¯ä»å“ªé‡Œå¬æ¥çš„STM32F405ä¹Ÿå¯ä»¥ä½¿ç”¨DCMIå¤–è®¾çš„è¿™ä¸ªè¯´æ³•ï¼Œæˆ‘åå¤ç¿»é˜…äº†æ„æ³•åŠå¯¼ä½“çš„èŠ¯ç‰‡æ‰‹å†Œï¼Œä¸Šé¢æ˜ç¡®æŒ‡å‡ºSTM32F405æ˜¯æ²¡æœ‰DCMIè¿™ä¸ªå¤–è®¾çš„ã€‚</p><p>ä½†æ˜¯å‡ºäºå¥½å¥‡ï¼Œä¹Ÿç®—æ˜¯æœºç¼˜å·§åˆä¹‹ä¸‹ï¼Œåœ¨Bilibilçœ‹è§æœ‰åŒå­¦æ‹¿F405ç»“åˆæ‘„åƒå¤´å®ç°äº†ç”µèµ›é€è¯å°è½¦é¢˜ç›®çš„æ•°å­—è¯†åˆ«ï¼Œæ ¹æ®é‚£ä½åŒå­¦çš„æè¿°ï¼ŒF405å…¶å®æ˜¯æœ‰DCMIå¤–è®¾çš„ï¼Œä½¿ç”¨æ ‡å‡†åº“å¯ä»¥é©±åŠ¨ï¼Œä½†æ˜¯åœ¨HALåº“å°†è¿™ä¸ªå¤–è®¾é˜‰å‰²æ‰äº†hhhï¼Œå½“ç„¶ç°åœ¨ä½¿ç”¨HALåº“æ˜¯è¶‹åŠ¿ï¼Œä½†éš¾å…è¿˜æ˜¯ä¸ºè¿™æ ·çš„æŸå¤±è€Œæ„Ÿåˆ°å¯æƒœã€‚</p><p>äºæ˜¯ä¹ï¼Œæˆ‘å°±æƒ³è¦äº²èº«å¤ç°ä¸€ä¸‹è¿™ä½åŒå­¦åˆ©ç”¨STM32F405å’Œæ‘„åƒå¤´å®ç°çš„æ•°å­—è¯†åˆ«åŠŸèƒ½ï¼Œæ‰€ä»¥å°±æœ‰äº†ä¸‹é¢ä¸€ç³»åˆ—çš„æŠ˜è…¾â€¦</p><p class="note note-info">å½“ç„¶ï¼Œè¿™äº›DEMOséƒ½æ¯”è¾ƒè¿œå¤ï¼ŒåŒ…æ‹¬ä»£ç å’Œç¡¬ä»¶è®¾è®¡éƒ½æ¯”è¾ƒç¨šå«©ï¼Œä»…ä»…åªåšæä¾›æ€è·¯å’Œå‚è€ƒçš„ä½œç”¨ï¼ä»…ä»¥æ­¤åšå®¢ï¼Œçºªå¿µè¿™ä¸ªæœ‰è¶£çš„å°è¯•hhhğŸ˜</p><h2 id="å…³äºç¨‹åº"><a href="#å…³äºç¨‹åº" class="headerlink" title="å…³äºç¨‹åº"></a>å…³äºç¨‹åº</h2><h3 id="åœ¨LCDå±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´ç”»é¢"><a href="#åœ¨LCDå±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´ç”»é¢" class="headerlink" title="åœ¨LCDå±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´ç”»é¢"></a>åœ¨LCDå±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´ç”»é¢</h3><blockquote><ol><li>å…¨å±æ˜¾ç¤º(240x240)</li></ol></blockquote><center><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic1.jpg" width="80%;" style="border-radius: 15px;"></center><!-- <center><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/pic1.jpg" width="80%;" style="border-radius: 15px;"></center> --><h3 id="å¯¹ç‰¹å®šçš„é¢œè‰²è¿›è¡Œè¯†åˆ«ä¸è·Ÿè¸ª"><a href="#å¯¹ç‰¹å®šçš„é¢œè‰²è¿›è¡Œè¯†åˆ«ä¸è·Ÿè¸ª" class="headerlink" title="å¯¹ç‰¹å®šçš„é¢œè‰²è¿›è¡Œè¯†åˆ«ä¸è·Ÿè¸ª"></a>å¯¹ç‰¹å®šçš„é¢œè‰²è¿›è¡Œè¯†åˆ«ä¸è·Ÿè¸ª</h3><blockquote><ol start="2"><li>é¢œè‰²è¯†åˆ«(ç™½ã€çº¢ã€ç»¿)</li></ol></blockquote><p>é»˜è®¤çƒ§å½•ä¸ºè¯†åˆ«è¿½è¸ªæµ…ç»¿è‰²ï¼ˆè‰ç»¿è‰²ï¼‰ï¼Œå¯ä»¥å‰å¾€<code>dcmi.c</code>æ–‡ä»¶å½“ä¸­ä¿®æ”¹<code>TARGET_CONDI Conditionred</code>å˜é‡ä¸ºå…¶ä»–è‰²å½©é˜ˆå€¼ã€‚</p><p>æ¼”ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p><center><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio1_converted.gif" width="100%;" style="border-radius: 15px;"></center><!-- <center><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio1_converted.gif" width="90%;" style="border-radius: 15px;"></center> --><h3 id="è¯†åˆ«æ ‡å‡†æ•°å­—-0-9"><a href="#è¯†åˆ«æ ‡å‡†æ•°å­—-0-9" class="headerlink" title="è¯†åˆ«æ ‡å‡†æ•°å­—(0-9)"></a>è¯†åˆ«æ ‡å‡†æ•°å­—(0-9)</h3><blockquote><ol start="3"><li>æ•°å­—è¯†åˆ«(æ¨¡æ¿åŒ¹é…)</li></ol></blockquote><center><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio2_converted.gif" width="50%;" style="border-radius: 15px;"></center><!-- <center><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio2_converted.gif" width="50%;" style="border-radius: 15px;"></center> --><h2 id="å…³äºç¡¬ä»¶"><a href="#å…³äºç¡¬ä»¶" class="headerlink" title="å…³äºç¡¬ä»¶"></a>å…³äºç¡¬ä»¶</h2><p>ç¡¬ä»¶æ˜¯æˆ‘è‡ªå·±åˆ¶ä½œçš„åŸºäºSTM32F405çš„HMIå¼€å‘æ¿LUMOSï¼Œä½†ä¸æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œ<a href="https://oshwhub.com/hugego/lumos-stm32f405-based-hmi-core-board">æœ€æ–°ç‰ˆæœ¬æˆ³è¿™é‡Œ:p</a>.</p><p>æ‚¨å¯ä»¥åˆ°å…³è”ä»“åº“å½“ä¸­çš„<code>2.Hardware</code>å½“ä¸­è·å–æ—§ç‰ˆæœ¬çš„PCBæ‰“æ ·æ–‡ä»¶ï¼Œtopä¸ºé¡¶æ¿ï¼Œbaseä¸ºåº•æ¿ï¼Œä½†æ˜¯æœ¬é¡¹ç›®ä¸å»ºè®®å¤åˆ»ã€‚</p><p>å¤–è§‚å±•ç¤ºå¦‚ä¸‹ï¼š</p><img src="/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio3_converted.gif" width="100%;" style="border-radius: 15px;"><p><br></br></p><!-- <div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio3_converted.gif" width="99.5%;"></div><div class="group-image-wrap"><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/STM32F405çš„DCMIå¤–è®¾çš„ä¸€äº›å°çš„é¡¹ç›®å°è¯•/vedio4_converted.gif" width="100%;"></div></div></div> --><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>å…³è”çš„ä»“åº“<a href="https://github.com/ZhangKeLiang0627/Color-Tracer">è¯·æˆ³è¿™é‡Œ;P</a>ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥ä»“åº“ä¸­è·å–é¡¹ç›®æºç å’ŒPCBæ‰“æ ·æ–‡ä»¶ï¼Œä½†ï¼Œ<strong>å› ä¸ºå†å²è¿‡äºæ‚ ä¹…ä¸æ¨èå¤åˆ»æœ¬é¡¹ç›®ã€‚</strong></li></ul>]]></content>
    
    
    <categories>
      
      <category>Project Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MCU</tag>
      
      <tag>STM32</tag>
      
      <tag>Project</tag>
      
      <tag>Camera</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºHexo&#39;s Fluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®ğŸ‘¾</title>
    <link href="/2024/07/31/%E5%85%B3%E4%BA%8EFluid%E4%B8%BB%E9%A2%98%E6%8B%93%E5%B1%95%E7%9A%84N%E7%A7%8D%E9%85%8D%E7%BD%AE/README/"/>
    <url>/2024/07/31/%E5%85%B3%E4%BA%8EFluid%E4%B8%BB%E9%A2%98%E6%8B%93%E5%B1%95%E7%9A%84N%E7%A7%8D%E9%85%8D%E7%BD%AE/README/</url>
    
    <content type="html"><![CDATA[<h3 id="å…³äºHexoâ€™s-Fluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®ğŸ‘¾"><a href="#å…³äºHexoâ€™s-Fluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®ğŸ‘¾" class="headerlink" title="å…³äºHexoâ€™s Fluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®ğŸ‘¾"></a>å…³äºHexoâ€™s Fluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®ğŸ‘¾</h3><h3 id="make-your-Hexoâ€™s-theme-more-graceful"><a href="#make-your-Hexoâ€™s-theme-more-graceful" class="headerlink" title="make your Hexoâ€™s theme more graceful!!!"></a>make your Hexoâ€™s theme more graceful!!!</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h2 id="ç»™Fluidä¸»é¢˜æ·»åŠ MACé£æ ¼ä»£ç å—"><a href="#ç»™Fluidä¸»é¢˜æ·»åŠ MACé£æ ¼ä»£ç å—" class="headerlink" title="ç»™Fluidä¸»é¢˜æ·»åŠ MACé£æ ¼ä»£ç å—"></a>ç»™Fluidä¸»é¢˜æ·»åŠ MACé£æ ¼ä»£ç å—</h2><blockquote><p>å®Œæ•´è·¯å¾„: <code>blog_root_path/themes/fluid/source/css</code></p></blockquote><ul><li>é¦–å…ˆï¼Œåˆ°<code>hexo-theme-fluid</code>ä¸»é¢˜æ ¹ç›®å½•ä¸‹<code>source/css</code>åˆ›å»ºåä¸º<code>macpanel.styl</code>çš„æ–‡ä»¶å¹¶å¾€è¯¥æ–‡ä»¶å½“ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.highlight</span><br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#21252b</span><br>    border-radius: <span class="hljs-number">10px</span><br>    box-shadow: <span class="hljs-number">0</span> <span class="hljs-number">0px</span> <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>)<br>    padding-top: <span class="hljs-number">30px</span><br><br>    &amp;::before<br>      background: <span class="hljs-number">#fc625d</span><br>      border-radius: <span class="hljs-number">50%</span><br>      box-shadow: <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-number">#fdbc40</span>, <span class="hljs-number">40px</span> <span class="hljs-number">0</span> <span class="hljs-number">#35cd4b</span><br>      content: <span class="hljs-string">&#x27; &#x27;</span><br>      height: <span class="hljs-number">12px</span><br>      left: <span class="hljs-number">12px</span><br>      margin-top: -<span class="hljs-number">20px</span><br>      position: absolute<br>      width: <span class="hljs-number">12px</span><br></code></pre></td></tr></table></figure><ul><li>åˆ°ç®¡ç†ä¸»é¢˜çš„<code>_config.fluid.yml</code>é…ç½®æ–‡ä»¶å½“ä¸­æ·»åŠ æ–°å»ºçš„<code>macpanel.styl</code>æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">custom_css:</span>    <br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/macpanel</span><br></code></pre></td></tr></table></figure><ul><li>éšåï¼Œé‡æ–°<code>hexo g</code>åå°±å¯ä»¥çœ‹åˆ°æ•ˆæœå•¦ã€‚ä¸è¿‡å¯èƒ½ä¼šå‡ºç°MACæ æ˜¯é»‘è‰²çš„ï¼Œä½†æ˜¯ä»£ç å—èƒŒæ™¯æ˜¯ç™½è‰²çš„æƒ…å†µï¼ˆå› ä¸ºä»£ç å—é£æ ¼é»˜è®¤ä¸ºç™½è‰²ã€‚æ­¤æ—¶å¦‚æœä½ ä¸æ»¡æ„ï¼Œå¯ä»¥ç»§ç»­åœ¨<code>_config.fluid.yml</code>é…ç½®æ–‡ä»¶å½“ä¸­ä¿®æ”¹ä»£ç å—é£æ ¼ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">highlightjs:</span><br><br>  <span class="hljs-comment"># style: &quot;github gist&quot;</span><br><br>  <span class="hljs-attr">style:</span> <span class="hljs-string">&quot;github dark dimmed&quot;</span><br>  <span class="hljs-attr">style_dark:</span> <span class="hljs-string">&quot;dark&quot;</span><br></code></pre></td></tr></table></figure><p>å…¶å®å‘¢ï¼Œå»ºè®®ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªé»˜è®¤çš„ä»£ç å—èƒŒæ™¯é¢œè‰²çš„é£æ ¼ï¼Œå› ä¸ºä½ é€‰æ‹©ä½¿ç”¨å¤œé—´æ¨¡å¼ï¼Œç”»é¢å°±å¯ä»¥å¯¹çš„ä¸Šäº†å“ˆå“ˆå“ˆå“ˆå“ˆï¼</p><h2 id="ç»™Fluidä¸»é¢˜æ·»åŠ é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»"><a href="#ç»™Fluidä¸»é¢˜æ·»åŠ é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»" class="headerlink" title="ç»™Fluidä¸»é¢˜æ·»åŠ é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»"></a>ç»™Fluidä¸»é¢˜æ·»åŠ é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»</h2><!-- ![é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»](images/å…³äºFluidä¸»é¢˜æ‹“å±•çš„Nç§é…ç½®/Wos2i6.gif) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%85%B3%E4%BA%8EFluid%E4%B8%BB%E9%A2%98%E6%8B%93%E5%B1%95%E7%9A%84N%E7%A7%8D%E9%85%8D%E7%BD%AE/Wos2i6.gif" alt="é¦–é¡µå›¾ç‰‡ç¼©æ”¾åŠ¨ç”»"></p><blockquote><p>å®Œæ•´è·¯å¾„ï¼š<code>blog_root_path/themes/fluid/source/css</code></p></blockquote><ul><li>åœ¨<code>blog_root_path/themes/fluid/source/css</code>ä¸­æ–°å»º<code>indeximg-hover.css</code>ï¼Œå¹¶å¾€è¯¥æ–‡ä»¶å†…å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.index-img</span> &#123;<br>  <span class="hljs-comment">/* åŠ¨ç”»æ—¶é—´ */</span><br>  <span class="hljs-attribute">transition</span>: .<span class="hljs-number">4s</span>;           <br>&#125;<br><span class="hljs-selector-class">.index-card</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.index-img</span> &#123;<br>  <span class="hljs-comment">/* æ”¾å¤§å€æ•° */</span><br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.05</span>);    <br>&#125;<br></code></pre></td></tr></table></figure><ul><li>åœ¨Fluidä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.fluid.yml</code>ä¸­æ·»åŠ è‡ªå®šä¹‰CSSï¼Œæ“ä½œå¦‚ä¸‹ï¼š</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/indeximg-hover.css</span><br></code></pre></td></tr></table></figure><h2 id="ç»™Fluidä¸»é¢˜æ·»åŠ çƒ­åŠ›å›¾"><a href="#ç»™Fluidä¸»é¢˜æ·»åŠ çƒ­åŠ›å›¾" class="headerlink" title="ç»™Fluidä¸»é¢˜æ·»åŠ çƒ­åŠ›å›¾"></a>ç»™Fluidä¸»é¢˜æ·»åŠ çƒ­åŠ›å›¾</h2><p>è¿™é‡Œéå¸¸æ„Ÿè°¢åšä¸»é‚“å¸ƒåˆ©å¤šçš„å†¥æƒ³ç›†åˆ†äº«çš„<a href="https://pensieve.wangxindi.org/2024/06/18/2024-06-18-blogfurnish2/">å®ç°æ–¹æ³•</a>ğŸ‘ğŸ‘ğŸ‘!!!</p><h3 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h3><ol><li><p>å°†<code>heatmap.js</code>æ”¾å…¥<code>fluid/scripts/helpers/</code>æ–‡ä»¶å¤¹ä¸‹ã€‚</p></li><li><p>åœ¨<code>Markdown</code>å½“ä¸­æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œä»£ç å³å¯è¿›è¡Œè°ƒç”¨ï¼š</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;posts-chart&quot;</span><span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border-radius: 8px; height: 190px; padding: 10px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-738764b7" role="button" aria-expanded="false" aria-controls="collapse-738764b7">        <div class="fold-arrow">â–¶</div>å®Œæ•´çš„ heatmap.js ä»£ç       </div>      <div class="fold-collapse collapse" id="collapse-738764b7">        <div class="fold-content">          <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> cheerio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;cheerio&#x27;</span>)<br><span class="hljs-keyword">const</span> moment = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;moment&#x27;</span>)<br><span class="hljs-keyword">const</span> &#123; stripHTML &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;hexo-util&#x27;</span>);<br><br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">filter</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;after_render:html&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">locals</span>) &#123;<br>  <span class="hljs-keyword">const</span> $ = cheerio.<span class="hljs-title function_">load</span>(locals)<br>  <span class="hljs-keyword">const</span> post = $(<span class="hljs-string">&#x27;#posts-chart&#x27;</span>)<br>  <span class="hljs-keyword">const</span> htmlEncode = <span class="hljs-literal">false</span><br><br>  <span class="hljs-keyword">if</span> (post.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">if</span> (post.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; $(<span class="hljs-string">&#x27;#postsChart&#x27;</span>).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">if</span> (post.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;data-encode&#x27;</span>) === <span class="hljs-string">&#x27;true&#x27;</span>) htmlEncode = <span class="hljs-literal">true</span><br>      post.<span class="hljs-title function_">after</span>(<span class="hljs-title function_">postsChart</span>())<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (htmlEncode) &#123;<br>      <span class="hljs-keyword">return</span> $.<span class="hljs-title function_">root</span>().<span class="hljs-title function_">html</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&amp;amp;#/g</span>, <span class="hljs-string">&#x27;&amp;#&#x27;</span>)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> $.<span class="hljs-title function_">root</span>().<span class="hljs-title function_">html</span>()<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> locals<br>  &#125;<br>&#125;, <span class="hljs-number">15</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getWordCount</span>(<span class="hljs-params">contentString</span>)&#123;<br>  <span class="hljs-comment">// post.origin is the original post content of hexo-blog-encrypt</span><br>  <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">stripHTML</span>(<span class="hljs-title class_">String</span>(contentString)).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\r?\n|\r/g</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>  <span class="hljs-keyword">const</span> zhCount = (content.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[\u4E00-\u9FA5]/g</span>) || []).<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">const</span> enCount = (content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[\u4E00-\u9FA5]/g</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[a-zA-Z0-9_\u0392-\u03c9\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|[\u00E4\u00C4\u00E5\u00C5\u00F6\u00D6]+|\w+/g</span>) || []).<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">var</span> wordcount = zhCount + enCount<br>  <span class="hljs-keyword">return</span> wordcount;<br>&#125;;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">postsChart</span> () &#123;<br>    <span class="hljs-keyword">const</span> postArr = [];<br>    <span class="hljs-keyword">const</span> dataArr = [];<br>    hexo.<span class="hljs-property">locals</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;posts&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">post</span>) &#123;<br>    postArr.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">title</span>: post.<span class="hljs-property">title</span>,<br>                   <span class="hljs-attr">date</span>: post.<span class="hljs-property">date</span>.<span class="hljs-title function_">format</span>(<span class="hljs-string">&#x27;YYYY-MM-DD&#x27;</span>),<br>                   <span class="hljs-attr">wordcount</span>: (<span class="hljs-title function_">getWordCount</span>(post.<span class="hljs-property">content</span>)/<span class="hljs-number">1000</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>),<br>                   <span class="hljs-attr">path</span>: post.<span class="hljs-property">path</span> &#125;)<br>    dataArr.<span class="hljs-title function_">push</span>([post.<span class="hljs-property">date</span>.<span class="hljs-title function_">format</span>(<span class="hljs-string">&#x27;YYYY-MM-DD&#x27;</span>), <span class="hljs-title function_">getWordCount</span>(post.<span class="hljs-property">content</span>)/<span class="hljs-number">1000</span>])<br>                &#125;)<br><br>    <span class="hljs-keyword">var</span> dataCalendar = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(dataArr)<br>    <span class="hljs-keyword">var</span> dataPosts = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(postArr)<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`</span><br><span class="hljs-string">  &lt;script id=&quot;postsChart&quot; type=&quot;text/javascript&quot;&gt;</span><br><span class="hljs-string">    var postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), document.documentElement.getAttribute(&#x27;data-user-color-scheme&#x27;));</span><br><span class="hljs-string">    window.onresize = function() &#123;</span><br><span class="hljs-string">      postsChart.resize();</span><br><span class="hljs-string">      &#125;;</span><br><span class="hljs-string">    let dataPosts = <span class="hljs-subst">$&#123;dataPosts&#125;</span></span><br><span class="hljs-string">    const dataMap = new Map(dataPosts.map((obj) =&gt; [obj.date, &#123;title: obj.title, wordCount: obj.wordcount, path: obj.path&#125;]));</span><br><span class="hljs-string"></span><br><span class="hljs-string">    function heatmap_width(months)&#123;</span><br><span class="hljs-string">        var startDate = new Date();</span><br><span class="hljs-string">        var mill = startDate.setMonth((startDate.getMonth() - months));</span><br><span class="hljs-string">        var endDate = +new Date();</span><br><span class="hljs-string">        startDate = +new Date(mill);</span><br><span class="hljs-string">        endDate = echarts.format.formatTime(&#x27;yyyy-MM-dd&#x27;, endDate);</span><br><span class="hljs-string">        startDate = echarts.format.formatTime(&#x27;yyyy-MM-dd&#x27;, startDate);</span><br><span class="hljs-string">        var showmonth = [];</span><br><span class="hljs-string">        showmonth.push([</span><br><span class="hljs-string">            startDate,</span><br><span class="hljs-string">            endDate</span><br><span class="hljs-string">        ]);</span><br><span class="hljs-string">        return showmonth</span><br><span class="hljs-string">    &#125;;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    function getRangeArr() &#123;</span><br><span class="hljs-string">        const windowWidth = window.innerWidth;</span><br><span class="hljs-string">        if (windowWidth &gt;= 600) &#123;</span><br><span class="hljs-string">          return heatmap_width(12);</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">        else if (windowWidth &gt;= 400) &#123;</span><br><span class="hljs-string">          return heatmap_width(9);</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">        else &#123;</span><br><span class="hljs-string">          return heatmap_width(6);</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    var postsOption = &#123;</span><br><span class="hljs-string">    title: &#123;</span><br><span class="hljs-string">        top: 0,</span><br><span class="hljs-string">        left: &#x27;center&#x27;,</span><br><span class="hljs-string">        text: &#x27;åšå®¢çƒ­åŠ›å›¾&#x27;</span><br><span class="hljs-string">    &#125;,</span><br><span class="hljs-string">    tooltip: &#123;</span><br><span class="hljs-string">      formatter: function (p) &#123;</span><br><span class="hljs-string">        const post = dataMap.get(p.data[0]);</span><br><span class="hljs-string">        return post.title + &#x27; | &#x27; + post.wordCount + &#x27; åƒå­—&#x27;;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string">    &#125;,</span><br><span class="hljs-string">    visualMap: &#123;</span><br><span class="hljs-string">        min: 0,</span><br><span class="hljs-string">        max: 10,</span><br><span class="hljs-string">        type: &#x27;piecewise&#x27;,</span><br><span class="hljs-string">        orient: &#x27;horizontal&#x27;,</span><br><span class="hljs-string">        left: &#x27;center&#x27;,</span><br><span class="hljs-string">        top: 30,</span><br><span class="hljs-string">        inRange: &#123;</span><br><span class="hljs-string">          //  [floor color, ceiling color]</span><br><span class="hljs-string">          color: [&#x27;#cde1ae&#x27;, &#x27;#778f3d&#x27; ]</span><br><span class="hljs-string">        &#125;,</span><br><span class="hljs-string">        splitNumber: 4,</span><br><span class="hljs-string">        text: [&#x27;åƒå­—&#x27;, &#x27;&#x27;],</span><br><span class="hljs-string">        showLabel: true,</span><br><span class="hljs-string">        itemGap: 20,</span><br><span class="hljs-string">    &#125;,</span><br><span class="hljs-string">    calendar: &#123;</span><br><span class="hljs-string">        top: 80,</span><br><span class="hljs-string">        left: 20,</span><br><span class="hljs-string">        right: 4,</span><br><span class="hljs-string">        cellSize: [&#x27;auto&#x27;, 12],</span><br><span class="hljs-string">        range: getRangeArr(),</span><br><span class="hljs-string">        itemStyle: &#123;</span><br><span class="hljs-string">            color: &#x27;#F1F1F1&#x27;,</span><br><span class="hljs-string">            borderWidth: 2.5,</span><br><span class="hljs-string">            borderColor: &#x27;#fff&#x27;,</span><br><span class="hljs-string">        &#125;,</span><br><span class="hljs-string">        yearLabel: &#123; show: false &#125;,</span><br><span class="hljs-string">        // the splitline between months</span><br><span class="hljs-string">        splitLine: &#123;</span><br><span class="hljs-string">          lineStyle: &#123;</span><br><span class="hljs-string">            color: &quot;#000&quot;,</span><br><span class="hljs-string">            width: 1,</span><br><span class="hljs-string">            type: &quot;solid&quot;,</span><br><span class="hljs-string">          &#125;</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;,</span><br><span class="hljs-string">    series: &#123;</span><br><span class="hljs-string">        type: &#x27;heatmap&#x27;,</span><br><span class="hljs-string">        coordinateSystem: &#x27;calendar&#x27;,</span><br><span class="hljs-string">        data: <span class="hljs-subst">$&#123;dataCalendar&#125;</span></span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">  &#125;;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    postsChart.setOption(postsOption);</span><br><span class="hljs-string">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123;</span><br><span class="hljs-string">      postsChart.resize();</span><br><span class="hljs-string">    &#125;);</span><br><span class="hljs-string">    postsChart.on(&#x27;click&#x27;, function(params) &#123;</span><br><span class="hljs-string">      const post = dataMap.get(params.data[0]);</span><br><span class="hljs-string">      const link = window.location.origin + &quot;/&quot; + post.path;</span><br><span class="hljs-string">      window.open(link, &#x27;_blank&#x27;).focus();</span><br><span class="hljs-string">&#125;);</span><br><span class="hljs-string">    document.body.addEventListener(&#x27;click&#x27;, function(e) &#123;</span><br><span class="hljs-string">        if (document.documentElement.getAttribute(&#x27;data-user-color-scheme&#x27;)===&#x27;dark&#x27;) &#123;</span><br><span class="hljs-string">            postsChart.dispose();</span><br><span class="hljs-string">            postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), &#x27;dark&#x27;);</span><br><span class="hljs-string">            postsChart.setOption(postsOption);</span><br><span class="hljs-string">            postsChart.on(&#x27;click&#x27;, function(params) &#123;</span><br><span class="hljs-string">                  const post = dataMap.get(params.data[0]);</span><br><span class="hljs-string">                  const link = window.location.origin + &quot;/&quot; + post.path;</span><br><span class="hljs-string">                  window.open(link, &#x27;_blank&#x27;).focus();</span><br><span class="hljs-string">            &#125;);</span><br><span class="hljs-string">        &#125; else &#123;</span><br><span class="hljs-string">            postsChart.dispose();</span><br><span class="hljs-string">            postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), &#x27;light&#x27;);</span><br><span class="hljs-string">            postsChart.setOption(postsOption);</span><br><span class="hljs-string">            postsChart.on(&#x27;click&#x27;, function(params) &#123;</span><br><span class="hljs-string">              const post = dataMap.get(params.data[0]);</span><br><span class="hljs-string">              const link = window.location.origin + &quot;/&quot; + post.path;</span><br><span class="hljs-string">              window.open(link, &#x27;_blank&#x27;).focus();</span><br><span class="hljs-string">        &#125;);</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;);</span><br><span class="hljs-string">  &lt;/script&gt;`</span><br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><p>çƒ­åŠ›å›¾æ•ˆæœå±•ç¤ºå¦‚ä¸‹ï¼š</p><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script><div id="posts-chart"style="border-radius: 8px; height: 190px; padding: 10px;"></div><div class="note note-warning">            <p>åœ¨å®è·µåšä¸»åˆ†äº«çš„æ–¹æ³•æ—¶ï¼Œé‡åˆ°äº†ä»¥ä¸‹é—®é¢˜ï¼šæœªæ‰¾åˆ°<code>cheerio</code>ï¼Œè§£å†³æ–¹æ³•ï¼š<code>npm install cheerio</code>.</p>          </div><h2 id="ç»™Fluidä¸»é¢˜æ›´æ¢è‡ªå®šä¹‰é¡µè„š-footer"><a href="#ç»™Fluidä¸»é¢˜æ›´æ¢è‡ªå®šä¹‰é¡µè„š-footer" class="headerlink" title="ç»™Fluidä¸»é¢˜æ›´æ¢è‡ªå®šä¹‰é¡µè„š(footer)"></a>ç»™Fluidä¸»é¢˜æ›´æ¢è‡ªå®šä¹‰é¡µè„š(footer)</h2><p>è‡ªå®šä¹‰é¡µè„šæ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="/images/%E5%85%B3%E4%BA%8EFluid%E4%B8%BB%E9%A2%98%E6%8B%93%E5%B1%95%E7%9A%84N%E7%A7%8D%E9%85%8D%E7%BD%AE/image-0.png" alt="è‡ªå®šä¹‰é¡µè„šæ•ˆæœå›¾"></p>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dfb167e8" role="button" aria-expanded="false" aria-controls="collapse-dfb167e8">        <div class="fold-arrow">â–¶</div>è‡ªå®šä¹‰é¡µè„šçš„ä»£ç æ®µ      </div>      <div class="fold-collapse collapse" id="collapse-dfb167e8">        <div class="fold-content">          <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center py-1&quot;</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;img-circle rotate&quot;</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/sys/myimg.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Image&quot;</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span># Carpe diem <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Framework<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://hexo.io&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;nofollow noopener&quot;</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hexo<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-switch-fill&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/fluid-dev/hexo-theme-fluid&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;nofollow noopener&quot;</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>fluid<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>  <br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Copyright Â© 2023-2024<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://zhangkeliang0627.github.io/&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;nofollow noopener&quot;</span>&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hugo@kkl<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">  </span><br><span class="language-css">    <span class="hljs-selector-class">.img-circle</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">display</span>: block;  </span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;  </span><br><span class="language-css">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;  </span><br><span class="language-css">        <span class="hljs-attribute">overflow</span>: hidden;  </span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;  </span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.img-circle</span> <span class="hljs-selector-tag">img</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">display</span>: block;  </span><br><span class="language-css">        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;  </span><br><span class="language-css">        <span class="hljs-attribute">height</span>: auto;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.text-center</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">text-align</span>: center;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.py-1</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">1rem</span>;  </span><br><span class="language-css">        <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">1rem</span>;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rotate</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.8s</span>;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-class">.rotate</span><span class="hljs-selector-pseudo">:hover</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">div</span> &#123;  </span><br><span class="language-css">        <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>;  </span><br><span class="language-css">    &#125;  </span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="ç»™Fluidä¸»é¢˜æ·»åŠ -tabs-åˆ†æ å®¹å™¨"><a href="#ç»™Fluidä¸»é¢˜æ·»åŠ -tabs-åˆ†æ å®¹å™¨" class="headerlink" title="ç»™Fluidä¸»é¢˜æ·»åŠ  tabs åˆ†æ å®¹å™¨"></a>ç»™Fluidä¸»é¢˜æ·»åŠ  tabs åˆ†æ å®¹å™¨</h2><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install hexo-tag-common<br></code></pre></td></tr></table></figure><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><p>Reference: <a href="https://theme-next.js.org/docs/tag-plugins/tabs">plugins-tabs | next</a></p><div class="tag-common tabs" id="first-unique-name"><ul class="nav-tabs"><li class="tab active"><a data-target="first-unique-name-1">first unique name 1</a></li><li class="tab"><a data-target="first-unique-name-2">first unique name 2</a></li><li class="tab"><a data-target="first-unique-name-3">first unique name 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="first-unique-name-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-pane" id="first-unique-name-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-pane" id="first-unique-name-3"><p><strong>This is Tab 3.</strong></p></div></div></div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-727a9372" role="button" aria-expanded="false" aria-controls="collapse-727a9372">        <div class="fold-arrow">â–¶</div>è¿˜å¯ä»¥æ‰“å‡ºç»„åˆå‡»ï¼      </div>      <div class="fold-collapse collapse" id="collapse-727a9372">        <div class="fold-content">          <p>ä½†æ˜¯åè¿‡æ¥ç»„åˆå´ä¸è¡Œï¼Œç•¥sadğŸ˜¥</p><div class="tag-common tabs" id="second-unique-name"><ul class="nav-tabs"><li class="tab active"><a data-target="second-unique-name-1">second unique name 1</a></li><li class="tab"><a data-target="second-unique-name-2">second unique name 2</a></li><li class="tab"><a data-target="second-unique-name-3">second unique name 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="second-unique-name-1"><p><strong>This is Tab 1.</strong></p></div><div class="tab-pane" id="second-unique-name-2"><p><strong>This is Tab 2.</strong></p></div><div class="tab-pane" id="second-unique-name-3"><p><strong>This is Tab 3.</strong></p></div></div></div>        </div>      </div>    </div><h2 id="ä¸€äº›æˆ‘å¸¸ç”¨åˆ°çš„Fluidç‰¹æ€§ï¼ˆè®°æ€§ä¸å¥½ï¼Œè¿™é‡Œå†è®°ä¸€è®°ğŸ“–âœï¸"><a href="#ä¸€äº›æˆ‘å¸¸ç”¨åˆ°çš„Fluidç‰¹æ€§ï¼ˆè®°æ€§ä¸å¥½ï¼Œè¿™é‡Œå†è®°ä¸€è®°ğŸ“–âœï¸" class="headerlink" title="ä¸€äº›æˆ‘å¸¸ç”¨åˆ°çš„Fluidç‰¹æ€§ï¼ˆè®°æ€§ä¸å¥½ï¼Œè¿™é‡Œå†è®°ä¸€è®°ğŸ“–âœï¸"></a>ä¸€äº›æˆ‘å¸¸ç”¨åˆ°çš„Fluidç‰¹æ€§ï¼ˆè®°æ€§ä¸å¥½ï¼Œè¿™é‡Œå†è®°ä¸€è®°ğŸ“–âœï¸</h2><h3 id="æŠ˜å å—"><a href="#æŠ˜å å—" class="headerlink" title="æŠ˜å å—"></a>æŠ˜å å—</h3>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-554d8661" role="button" aria-expanded="false" aria-controls="collapse-554d8661">        <div class="fold-arrow">â–¶</div>ä½ ç¡®å®šè¦æ‰“å¼€çœ‹çœ‹ä¹ˆï¼Ÿ      </div>      <div class="fold-collapse collapse" id="collapse-554d8661">        <div class="fold-content">          <p>å¥½å§ï¼Œæ—¢ç„¶ä½ çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ç¥ä½ ä»Šå¤©æ„‰å¿«ğŸ¤—</p>        </div>      </div>    </div><p>ä½¿ç”¨æŠ˜å å—ï¼Œå¯ä»¥æŠ˜å ä»£ç ã€å›¾ç‰‡ã€æ–‡å­—ç­‰ä»»ä½•å†…å®¹ï¼Œä½ å¯ä»¥åœ¨ markdown ä¸­æŒ‰å¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% fold info @title %&#125;<br>éœ€è¦æŠ˜å çš„ä¸€æ®µå†…å®¹ï¼Œæ”¯æŒ markdown<br>&#123;% endfold %&#125;<br><br>example:<br><br>&#123;% fold info @ä½ ç¡®å®šè¦æ‰“å¼€çœ‹çœ‹ä¹ˆï¼Ÿ %&#125;<br>å¥½å§ï¼Œæ—¢ç„¶ä½ çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ç¥ä½ ä»Šå¤©æ„‰å¿«ğŸ¤—<br>&#123;% endfold %&#125;<br></code></pre></td></tr></table></figure><h3 id="ç»„å›¾"><a href="#ç»„å›¾" class="headerlink" title="ç»„å›¾"></a>ç»„å›¾</h3><p>å¦‚æœæƒ³æŠŠå¤šå¼ å›¾ç‰‡æŒ‰ä¸€å®šå¸ƒå±€ç»„åˆæ˜¾ç¤ºï¼Œä½ å¯ä»¥åœ¨ markdown ä¸­æŒ‰å¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% gi total n1-n2-... %&#125;<br>  ![](<span class="hljs-link">url</span>)<br>  ![](<span class="hljs-link">url</span>)<br>  ![](<span class="hljs-link">url</span>)<br>  ![](<span class="hljs-link">url</span>)<br>  ![](<span class="hljs-link">url</span>)<br>&#123;% endgi %&#125;<br></code></pre></td></tr></table></figure><p>totalï¼šå›¾ç‰‡æ€»æ•°é‡ï¼Œå¯¹åº”ä¸­é—´åŒ…å«çš„å›¾ç‰‡ url æ•°é‡<br>n1-n2-â€¦ï¼šæ¯è¡Œçš„å›¾ç‰‡æ•°é‡ï¼Œå¯ä»¥çœç•¥ï¼Œé»˜è®¤å•è¡Œæœ€å¤š 3 å¼ å›¾ï¼Œæ±‚å’Œå¿…é¡»ç›¸ç­‰äº totalï¼Œå¦åˆ™æŒ‰é»˜è®¤æ ·å¼</p><h3 id="ä¾¿ç­¾"><a href="#ä¾¿ç­¾" class="headerlink" title="ä¾¿ç­¾"></a>ä¾¿ç­¾</h3><p>åœ¨ markdown ä¸­åŠ å…¥å¦‚ä¸‹çš„ä»£ç æ¥ä½¿ç”¨ä¾¿ç­¾ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% note success %&#125;<br>æ–‡å­— æˆ–è€… <span class="hljs-code">`markdown`</span> å‡å¯<br>&#123;% endnote %&#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ HTML å½¢å¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;note note-primary&quot;</span>&gt;</span>æ ‡ç­¾<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯é€‰ä¾¿ç­¾ï¼š</p><div class="note note-primary">            <p>primary</p>          </div><div class="note note-secondary">            <p>secondary</p>          </div><div class="note note-success">            <p>success</p>          </div><div class="note note-danger">            <p>danger</p>          </div><div class="note note-warning">            <p>warning</p>          </div><div class="note note-info">            <p>info</p>          </div><div class="note note-light">            <p>light</p>          </div><h3 id="è¡Œå†…æ ‡ç­¾"><a href="#è¡Œå†…æ ‡ç­¾" class="headerlink" title="è¡Œå†…æ ‡ç­¾"></a>è¡Œå†…æ ‡ç­¾</h3><p>åœ¨markdownä¸­åŠ å…¥å¦‚ä¸‹ä»£ç æ¥ä½¿ç”¨Labelï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% label primary @text %&#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨HTMLå½¢å¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;label label-primary&quot;</span>&gt;</span>Label<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯å¯é€‰Labelï¼š</p><span class="label label-primary">primary</span> <span class="label label-default">default</span> <span class="label label-info">info</span> <span class="label label-success">success</span> <span class="label label-warning">warning</span> <span class="label label-danger">danger</span><h3 id="å›¾ç‰‡è„šæ³¨"><a href="#å›¾ç‰‡è„šæ³¨" class="headerlink" title="å›¾ç‰‡è„šæ³¨"></a>å›¾ç‰‡è„šæ³¨</h3><p>ç»ˆäºæ‰¾åˆ°å¯ä»¥åœ¨markdowné‡Œå†™htmlæ³¨å…¥å›¾ç‰‡å¯ä»¥æ·»åŠ è„šæ³¨çš„æ–¹æ³•å•¦ï¼Œå› ä¸ºmarkdownæ³¨å…¥å›¾ç‰‡çš„å†™æ³•æœ‰æ—¶å€™ä¸èƒ½æ”¹å˜å›¾ç‰‡çš„å¤§å°æ¯”ä¾‹ï¼Œè¿™å°±éå¸¸ä»¤äººæŠ“ç‹‚ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">figure</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">[img_source]</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;50%&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">figcaption</span>&gt;</span>[Your awesome caption]<span class="hljs-tag">&lt;/<span class="hljs-name">figcaption</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li><p>å¦‚æœæŸäº›é…ç½®æ²¡æœ‰æˆåŠŸï¼Œå¯ä»¥å°è¯•å…ˆ<code>hexo clean</code>ï¼Œå†<code>hexo g &amp;&amp; hexo d</code>ï¼Œå› ä¸ºæˆ‘æœ‰é‡åˆ°è¿‡ä¿®æ”¹nav-bg-colorå¤±è´¥çš„ç»å†ï¼Œå°±æ˜¯æ²¡æœ‰<code>hexo clean</code>ï¼Œæ£é¼“äº†åŠå¤©â€¦</p></li><li><p>å‰ç«¯éº»ç“œä¹Ÿèƒ½æœ‰å‡ºå¤´çš„ä¸€å¤©ğŸ˜ï¼</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Fluid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT</title>
    <link href="/2024/07/20/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/README/"/>
    <url>/2024/07/20/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/README/</url>
    
    <content type="html"><![CDATA[<h3 id="åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT"><a href="#åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT" class="headerlink" title="åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT"></a>åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT</h3><h3 id="The-Usage-of-the-MQTT-protocol-in-ESP32-Arduino"><a href="#The-Usage-of-the-MQTT-protocol-in-ESP32-Arduino" class="headerlink" title="The Usage of the MQTT protocol in ESP32-Arduino"></a>The Usage of the MQTT protocol in ESP32-Arduino</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h2 id="MQTTåè®®æ¦‚è¿°"><a href="#MQTTåè®®æ¦‚è¿°" class="headerlink" title="MQTTåè®®æ¦‚è¿°"></a>MQTTåè®®æ¦‚è¿°</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><blockquote><p><strong>MQTTçš„ç‰¹ç‚¹ï¼š</strong></p></blockquote><ul><li>å¼€æ”¾æ¶ˆæ¯åè®®ï¼Œç®€å•æ˜“å®ç°</li><li>è½»é‡çº§ã€å ç”¨å¸¦å®½ä½ï¼ˆ1å­—èŠ‚å›ºå®šæŠ¥å¤´ï¼Œ2å­—èŠ‚å¿ƒè·³æŠ¥æ–‡ï¼Œæœ€å°åŒ–ä¼ è¾“å¼€é”€å’Œåè®®äº¤æ¢ï¼Œæœ‰æ•ˆå‡å°‘ç½‘ç»œæµé‡</li><li>å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ï¼Œä¸€å¯¹å¤šæ¶ˆæ¯å‘å¸ƒï¼Œè§£é™¤åº”ç”¨ç¨‹åºè€¦åˆ</li><li>åŸºäºTCP&#x2F;IPç½‘ç»œè¿æ¥ï¼Œæä¾›æœ‰åºï¼Œæ— æŸï¼ŒåŒå‘è¿æ¥</li><li>æ¶ˆæ¯QoSï¼ˆQuality of Serviceï¼‰æ”¯æŒï¼Œå¯é ä¼ è¾“ä¿è¯ï¼ˆ0-è‡³å¤šå‘ä¸€æ¬¡ã€1-æœ€å°‘å‘ä¸€æ¬¡ã€2-ä¿è¯æ”¶ä¸€æ¬¡ï¼‰</li><li>å¯ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®</li><li>æ”¶å‘æ¶ˆæ¯éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå‘é€æ–¹ä¸éœ€è¦ç­‰å¾…æ¥æ”¶æ–¹åº”ç­”</li></ul><p>æ€»çš„æ¥è¯´ï¼ŒMQTTï¼ˆMessage Queuing Telemetry Transportï¼‰æ˜¯ä¸€ç§<strong>è½»é‡çº§ã€åŸºäºå‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯ä¼ è¾“åè®®</strong>ï¼Œ<strong>é€‚ç”¨äºèµ„æºå—é™çš„è®¾å¤‡å’Œä½å¸¦å®½ã€é«˜å»¶è¿Ÿæˆ–ä¸ç¨³å®šçš„ç½‘ç»œç¯å¢ƒ</strong>ã€‚å®ƒåœ¨ç‰©è”ç½‘åº”ç”¨ä¸­å¹¿å—æ¬¢è¿ï¼Œèƒ½å¤Ÿå®ç°ä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨å’Œå…¶å®ƒè®¾å¤‡ä¹‹é—´çš„é«˜æ•ˆé€šä¿¡ã€‚</p><h3 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h3><h4 id="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼</h4><p>ç›¸ä¿¡è¿™ä¸ª<code>å‘å¸ƒ/è®¢é˜…</code>çš„æ¦‚å¿µå¯¹äºäº’è”ç½‘å¤§èˆªæµ·æ—¶ä»£çš„æˆ‘ä»¬æ¥è¯´åº”è¯¥éƒ½ä¸é™Œç”Ÿäº†ã€‚</p><p>ç©è¿‡ç¤¾äº¤å¹³å°ï¼ˆå¦‚ï¼šå…¬ä¼—å·ã€å¾®åšã€Bilibilã€æŠ–éŸ³ç­‰ï¼‰çš„åŒå­¦éƒ½çŸ¥é“ï¼Œä½ æƒ³è¦æ¥æ”¶æŸä½åšä¸»çš„çš„æ¨é€ï¼Œä½ é¦–å…ˆè¦å…³æ³¨è¿™ä½åšä¸»æ‰å¯ä»¥ï¼Œè¿™å°±æ˜¯<strong>è®¢é˜…</strong>ã€‚</p><p>å¦‚æœåœ¨æŸä¸ªæ—¶é—´ç‚¹è¿™ä¸ªåšä¸»æ›´æ–°äº†æ–°æ¶ˆæ¯ï¼Œç¤¾äº¤å¹³å°å°±ä¼šå°†è®¢é˜…çš„æ¶ˆæ¯è‡ªåŠ¨æ¨é€åˆ°ä½ çš„è®¾å¤‡å½“ä¸­ï¼Œè¿™å°±å¯ä»¥ç±»æ¯”æˆ<strong>å‘å¸ƒ</strong>ã€‚</p><p>è€Œç¤¾äº¤å¹³å°åœ¨è¿™å½“ä¸­å°±æ˜¯å……å½“Brokerçš„ä½œç”¨ã€‚</p><p>å½“ç„¶ï¼Œä½ ä»¬ä¹‹é—´çš„è®¢é˜…å’Œå‘å¸ƒä¹Ÿä¸æ˜¯å•æ–¹é¢çš„ï¼Œä½ ä»¬ä¹Ÿå¯ä»¥äº’ç›¸è®¢é˜…ï¼Œäº’ç›¸å‘å¸ƒï¼è€Œè¿™å°±æ˜¯å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ã€‚</p><p>å½“ä½ éœ€è¦æŸä¸ªè¯é¢˜(Topic)çš„æ•°æ®æ—¶ï¼Œä½ å°±å¯ä»¥å»è®¢é˜…è¿™ä¸ªè¯é¢˜è·å–æ¶ˆæ¯ã€‚åŒæ—¶ä½ è‡ªèº«ä¹Ÿå¯ä»¥æˆä¸ºè¯é¢˜çš„å‘å¸ƒè€…ï¼Œå‘å¸ƒæ¶ˆæ¯ã€‚</p><h4 id="MQTTå®¢æˆ·ç«¯-MQTT-Client"><a href="#MQTTå®¢æˆ·ç«¯-MQTT-Client" class="headerlink" title="MQTTå®¢æˆ·ç«¯(MQTT Client)"></a>MQTTå®¢æˆ·ç«¯(MQTT Client)</h4><p>ä»»ä½•è¿è¡ŒMQTTå®¢æˆ·ç«¯åº“çš„åº”ç”¨æˆ–è®¾å¤‡éƒ½æ˜¯MQTTå®¢æˆ·ç«¯ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨MQTTçš„å³æ—¶é€šè®¯åº”ç”¨æ˜¯å®¢æˆ·ç«¯ï¼Œä½¿ç”¨MQTTä¸ŠæŠ¥æ•°æ®çš„å„ç§ä¼ æ„Ÿå™¨æ˜¯å®¢æˆ·ç«¯ï¼Œå„ç§MQTTæµ‹è¯•å·¥å…·ä¹Ÿæ˜¯å®¢æˆ·ç«¯ã€‚</p><p>æˆ‘ä»¬ä»¥ç¤¾äº¤å¹³å°ä¸ºä¾‹ï¼Œå¯ä»¥æŠŠæ¯ä¸€ä½ç”¨æˆ·éƒ½çœ‹åšæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯(Client)ï¼Œç”¨æˆ·å½¼æ­¤ä¹‹é—´å¯ä»¥äº’ç›¸è®¢é˜…ã€‚</p><h4 id="MQTTä»£ç†-MQTT-Broker"><a href="#MQTTä»£ç†-MQTT-Broker" class="headerlink" title="MQTTä»£ç†(MQTT Broker)"></a>MQTTä»£ç†(MQTT Broker)</h4><p>MQTT Brokeræ˜¯è´Ÿè´£å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„å…³é”®ç»„ä»¶ï¼ŒåŒ…æ‹¬å»ºç«‹è¿æ¥ã€æ–­å¼€è¿æ¥ã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ç­‰æ“ä½œï¼ŒåŒæ—¶è¿˜è´Ÿè´£æ¶ˆæ¯çš„è½¬å‘ã€‚ä¸€ä¸ªé«˜æ•ˆå¼ºå¤§çš„MQTT Brokerèƒ½å¤Ÿè½»æ¾åº”å¯¹æµ·é‡è¿æ¥å’Œç™¾ä¸‡çº§æ¶ˆæ¯ååé‡ï¼Œä»è€Œå¸®åŠ©ç‰©è”ç½‘æœåŠ¡æä¾›å•†ä¸“æ³¨äºä¸šåŠ¡å‘å±•ï¼Œå¿«é€Ÿæ„å»ºå¯é çš„MQTTåº”ç”¨ã€‚</p><p>å¯ä»¥æŠŠBrokerç±»æ¯”æˆç¤¾äº¤å¹³å°ï¼Œä¾‹å¦‚ï¼šä½ å‘å¸ƒæ¶ˆæ¯åˆ°å¾®åšä¸Šï¼Œå¾®åšè¿™ä¸ªç¤¾äº¤å¹³å°å°±ä½œä¸ºä¸­è½¬ç«™æŠŠä½ çš„æ¶ˆæ¯è½¬å‘ç»™å·²ç»è®¢é˜…äº†ä½ çš„ç”¨æˆ·ã€‚</p><h3 id="æŠ¥æ–‡å†…å®¹ï¼ˆè¯·æ±‚è¿æ¥ä¸ç¡®è®¤ï¼‰"><a href="#æŠ¥æ–‡å†…å®¹ï¼ˆè¯·æ±‚è¿æ¥ä¸ç¡®è®¤ï¼‰" class="headerlink" title="æŠ¥æ–‡å†…å®¹ï¼ˆè¯·æ±‚è¿æ¥ä¸ç¡®è®¤ï¼‰"></a>æŠ¥æ–‡å†…å®¹ï¼ˆè¯·æ±‚è¿æ¥ä¸ç¡®è®¤ï¼‰</h3><p>ä¸‹é¢ï¼Œæˆ‘ä¼šç®€æ˜æ‰¼è¦åœ°è§£é‡ŠMQTTè¿æ¥æ—¶çš„æŠ¥æ–‡çš„æ¯ä¸€ä¸ªå‚æ•°çš„å«ä¹‰ä¸ä½œç”¨ï¼š</p><h4 id="CONNECT-è¿æ¥æœåŠ¡ç«¯"><a href="#CONNECT-è¿æ¥æœåŠ¡ç«¯" class="headerlink" title="CONNECT - è¿æ¥æœåŠ¡ç«¯"></a>CONNECT - è¿æ¥æœåŠ¡ç«¯</h4><p>ä¸‹å›¾æ˜¯CONNECTæŠ¥æ–‡æ‰€åŒ…å«çš„ä¿¡æ¯å†…å®¹ï¼š</p><!-- ![CONNECTæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹](images/åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/image.png" alt="CONNECTæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹"></p><ul><li><strong>clientIdï¼ˆå®¢æˆ·ç«¯IDï¼‰</strong></li></ul><p>ClientIdæ˜¯MQTTå®¢æˆ·ç«¯çš„æ ‡è¯†ã€‚MQTTæœåŠ¡ç«¯ç”¨è¯¥æ ‡è¯†æ¥è¯†åˆ«å®¢æˆ·ç«¯ã€‚å› æ­¤ClientIdå¿…é¡»æ˜¯<strong>ç‹¬ç«‹çš„ã€ç‹¬æœ‰çš„</strong>ã€‚é€šå¸¸ClientIdæ˜¯<strong>ç”±ä¸€ä¸²å­—ç¬¦æ‰€æ„æˆçš„</strong>ã€‚</p> <p class="note note-warning">æ³¨ï¼šå¦‚æœä¸¤ä¸ªMQTTå®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒClientIdæ ‡è¯†ï¼ŒæœåŠ¡ç«¯ä¼šæŠŠå®ƒä»¬å½“æˆåŒä¸€ä¸ªå®¢æˆ·ç«¯æ¥å¤„ç†ã€‚</p><ul><li><strong>cleanSessionï¼ˆæ¸…é™¤ä¼šè¯ï¼‰</strong></li></ul><p>cleanSessionè®¾ç½®ä¸º<code>true</code>æ—¶ï¼ŒMQTT Brokerï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ä¸ä¼šè®°å¿†ä»¥åŠç¼“å­˜ä»»ä½•æŠ¥æ–‡ä¿¡æ¯ï¼Œå®æ—¶è½¬å‘æŠ¥æ–‡åå³åˆ»æ¸…é™¤ä¼šè¯ã€‚</p><p>cleanSessionè®¾ç½®ä¸º<code>false</code>æ—¶ï¼ŒMQTT Brokerï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ä¼šè®°å¿†ä¿å­˜é‚£äº›æ²¡æœ‰å¾—åˆ°å®¢æˆ·ç«¯æ¥æ”¶ç¡®è®¤çš„ä¿¡æ¯ã€‚</p> <p class="note note-warning">æ³¨ï¼šå¦‚æœéœ€è¦æœåŠ¡ç«¯ä¿å­˜é‡è¦æŠ¥æ–‡ï¼Œå…‰è®¾ç½®cleanSessionä¸ºfalseæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦ä¼ é€’çš„MQTTä¿¡æ¯QoSçº§åˆ«å¤§äº0ï¼</p><ul><li><strong>keepAliveï¼ˆå¿ƒè·³æ—¶é—´é—´éš”ï¼‰</strong></li></ul><p>keepAliveç”¨äºæœåŠ¡ç«¯å®æ—¶äº†è§£å®¢æˆ·ç«¯æ˜¯å¦ä¸å…¶ä¿æŒè¿æ¥çš„æƒ…å†µã€‚</p><p>ä¾‹å¦‚ï¼škeepAliveè®¾ç½®ä¸º60ï¼Œå³ä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯çº¦å®šï¼šæ¯60ç§’å®¢æˆ·ç«¯å¿…é¡»è¦å‘æœåŠ¡å™¨ç«¯å‘é€ä¸€æ¬¡å¿ƒè·³(PINGREQ)ã€‚</p><p>å¿ƒè·³å¯ä»¥æ˜¯éœ€è¦ä¼ è¾“çš„æ•°æ®ï¼Œå¦‚æœ60ç§’å†…å®¢æˆ·ç«¯éƒ½å¤„äºç©ºé—²çŠ¶æ€æ²¡æœ‰å‘é€æ•°æ®ï¼Œåˆ™ä¼šè‡ªåŠ¨å‘é€ä¸€ä¸ªå¿ƒè·³æ•°æ®åŒ…ï¼Œè¯æ˜è‡ªå·±è¿˜åœ¨çº¿ã€‚</p> <p class="note note-warning">å¦å¤–ï¼Œåœ¨å®é™…è¿è¡Œä¸­ï¼Œå¦‚æœæœåŠ¡ç«¯æ²¡æœ‰åœ¨1.5å€å¿ƒè·³æ—¶é—´é—´éš”å†…æ”¶åˆ°å®¢æˆ·ç«¯å‘å¸ƒæ¶ˆæ¯(PUBLISH)æˆ–å‘æ¥å¿ƒè·³è¯·æ±‚(PINGREQ)ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°±ä¼šè®¤ä¸ºè¿™ä¸ªå®¢æˆ·ç«¯å·²ç»æ‰çº¿ã€‚</p><ul><li><strong>lastWillï¼ˆé—å˜±ï¼‰</strong></li></ul> <p class="note note-success">å®¢æˆ·ç«¯ç¡®è®¤æ„å¤–æ‰çº¿æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¼šæ ¹æ®å®¢æˆ·ç«¯å‘é€çš„CONNECTæ•°æ®åŒ…ä¸­çš„é—å˜±è®¾ç½®ï¼Œå¾€é—å˜±ä¸»é¢˜ä¸­å‘é€é—å˜±æ¶ˆæ¯ã€‚</p><blockquote><ul><li><strong>lastWillTopicï¼ˆé—å˜±ä¸»é¢˜ï¼‰</strong></li><li><strong>lastWillMessageï¼ˆé—å˜±æ¶ˆæ¯ï¼‰</strong></li><li><strong>lastWillQosï¼ˆé—å˜±QoSï¼‰</strong></li><li><strong>lastWillRetainï¼ˆé—å˜±ä¿ç•™ï¼‰</strong>ï¼š<br>é—å˜±æ¶ˆæ¯ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºä¿ç•™æ¶ˆæ¯ã€‚</li></ul></blockquote><ul><li><strong>å®¢æˆ·ç«¯ç”¨æˆ·å¯†ç è®¤è¯</strong></li></ul> <p class="note note-success">æœ‰äº›æœåŠ¡ç«¯å¼€å¯äº†å®¢æˆ·ç«¯ç”¨æˆ·å¯†ç è®¤è¯ï¼Œè¿™ç§æœåŠ¡ç«¯éœ€è¦å®¢æˆ·ç«¯åœ¨è¿æ¥æ—¶æ­£ç¡®æä¾›è®¤è¯ä¿¡æ¯æ‰èƒ½è¿æ¥ã€‚<br>å½“ç„¶ï¼Œé‚£äº›æ²¡æœ‰å¼€å¯ç”¨æˆ·å¯†ç è®¤è¯çš„æœåŠ¡ç«¯æ— éœ€å®¢æˆ·ç«¯æä¾›ç”¨æˆ·åå’Œå¯†ç è®¤è¯ä¿¡æ¯ã€‚</p><blockquote><ul><li><strong>usernameï¼ˆç”¨æˆ·åï¼‰</strong></li><li><strong>passwordï¼ˆç”¨æˆ·å¯†ç ï¼‰</strong></li></ul></blockquote><h4 id="CONNACK-â€“-ç¡®è®¤è¿æ¥è¯·æ±‚"><a href="#CONNACK-â€“-ç¡®è®¤è¿æ¥è¯·æ±‚" class="headerlink" title="CONNACK â€“ ç¡®è®¤è¿æ¥è¯·æ±‚"></a>CONNACK â€“ ç¡®è®¤è¿æ¥è¯·æ±‚</h4><p>ä¸‹å›¾æ˜¯CONNACKæŠ¥æ–‡æ‰€åŒ…å«çš„ä¿¡æ¯å†…å®¹ï¼š</p><!-- ![CONNACKæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹](images/åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/image-1.png" alt="CONNACKæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹"></p><ul><li><strong>sessionPresentï¼ˆå½“å‰ä¼šè¯ï¼‰</strong></li></ul><p>sessionPresentè¿”å›ä¸º<code>true</code>æ—¶ï¼Œè¯´æ˜MQTT Brokerï¼ˆæœåŠ¡å™¨ç«¯ï¼‰è®°å¿†äº†æœªè¢«ç¡®è®¤çš„ä¼šè¯ä¿¡æ¯ã€‚</p><p>sessionPresentè¿”å›ä¸º<code>false</code>æ—¶ï¼ŒMQTT Brokerï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ä¸ä¼šè®°å¿†ä»¥åŠç¼“å­˜ä»»ä½•æŠ¥æ–‡ä¿¡æ¯ï¼Œå®æ—¶è½¬å‘æŠ¥æ–‡åå³åˆ»æ¸…é™¤ä¼šè¯ã€‚</p><ul><li><strong>returnCodeï¼ˆè¿æ¥è¿”å›ç ï¼‰</strong></li></ul><table><thead><tr><th align="center"><strong>è¿”å›ç </strong></th><th align="left"><strong>è¿”å›ç æè¿°</strong></th></tr></thead><tbody><tr><td align="center">0</td><td align="left">æˆåŠŸè¿æ¥</td></tr><tr><td align="center">1</td><td align="left">è¿æ¥è¢«æœåŠ¡ç«¯æ‹’ç»ï¼ŒåŸå› æ˜¯<strong>ä¸æ”¯æŒå®¢æˆ·ç«¯çš„MQTTåè®®ç‰ˆæœ¬</strong>ã€‚</td></tr><tr><td align="center">2</td><td align="left">è¿æ¥è¢«æœåŠ¡ç«¯æ‹’ç»ï¼ŒåŸå› æ˜¯<strong>ä¸æ”¯æŒå®¢æˆ·ç«¯æ ‡è¯†ç¬¦çš„ç¼–ç </strong>ã€‚</td></tr><tr><td align="center">3</td><td align="left">è¿æ¥è¢«æœåŠ¡ç«¯æ‹’ç»ï¼ŒåŸå› æ˜¯<strong>æœåŠ¡ç«¯ä¸å¯ç”¨</strong>ã€‚</td></tr><tr><td align="center">4</td><td align="left">è¿æ¥è¢«æœåŠ¡ç«¯æ‹’ç»ï¼ŒåŸå› æ˜¯<strong>ç”¨æˆ·åæˆ–å¯†ç æ— æ•ˆ</strong>ã€‚</td></tr><tr><td align="center">5</td><td align="left">è¿æ¥è¢«æœåŠ¡ç«¯æ‹’ç»ï¼ŒåŸå› æ˜¯<strong>å®¢æˆ·ç«¯æœªè¢«æˆæƒè¿æ¥åˆ°æ­¤æœåŠ¡ç«¯</strong>ã€‚</td></tr></tbody></table><h3 id="æŠ¥æ–‡å†…å®¹ï¼ˆå‘å¸ƒã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰"><a href="#æŠ¥æ–‡å†…å®¹ï¼ˆå‘å¸ƒã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰" class="headerlink" title="æŠ¥æ–‡å†…å®¹ï¼ˆå‘å¸ƒã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰"></a>æŠ¥æ–‡å†…å®¹ï¼ˆå‘å¸ƒã€è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰</h3><h4 id="PUBLISH-â€“-å‘å¸ƒæ¶ˆæ¯"><a href="#PUBLISH-â€“-å‘å¸ƒæ¶ˆæ¯" class="headerlink" title="PUBLISH â€“ å‘å¸ƒæ¶ˆæ¯"></a>PUBLISH â€“ å‘å¸ƒæ¶ˆæ¯</h4><p>MQTTå®¢æˆ·ç«¯å‘å¸ƒæ¶ˆæ¯æ—¶ï¼Œä¼šå‘æœåŠ¡ç«¯å‘é€PUBLISHæŠ¥æ–‡ã€‚ä»¥ä¸‹æ˜¯PUBLISHæŠ¥æ–‡çš„è¯¦ç»†ä¿¡æ¯ï¼š</p><!-- ![PUBLISHæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹](images/åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT/image-3.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/image-3.png" alt="PUBLISHæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹"></p><blockquote><ul><li><strong>topicNameï¼ˆä¸»é¢˜åï¼‰</strong>ï¼š<br>ä¸»é¢˜åç”¨äºè¯†åˆ«æ­¤ä¿¡æ¯åº”å‘å¸ƒåˆ°å“ªä¸€ä¸ªä¸»é¢˜ã€‚ä¾‹å¦‚ï¼š<code>topic/1</code></li><li><strong>QoSï¼ˆæœåŠ¡è´¨é‡ç­‰çº§ï¼‰</strong>ï¼š<br>QoSæœ‰ä¸‰ä¸ªçº§åˆ«ï¼š0ã€1å’Œ2ã€‚QoSå†³å®šMQTTé€šè®¯æœ‰ä»€ä¹ˆæ ·çš„æœåŠ¡ä¿è¯ã€‚</li><li><strong>packetIdï¼ˆæŠ¥æ–‡æ ‡è¯†ç¬¦ï¼‰</strong>ï¼š<br>æŠ¥æ–‡æ ‡è¯†ç¬¦å¯ç”¨äºå¯¹MQTTæŠ¥æ–‡è¿›è¡Œæ ‡è¯†ã€‚å¦‚æœQoSç­‰äº0ï¼ŒæŠ¥æ–‡æ ‡è¯†ç¬¦ä¸º0ï¼›åªæœ‰QoSçº§åˆ«å¤§äº0æ—¶ï¼ŒæŠ¥æ–‡æ ‡è¯†ç¬¦æ‰æ˜¯éé›¶æ•°å€¼ã€‚</li><li><strong>retainFlagï¼ˆä¿ç•™æ ‡å¿—ï¼‰</strong>ï¼š<br>ä¸º<code>false</code>æ—¶å®¢æˆ·ç«¯è®¢é˜…äº†æŸä¸€ä¸»é¢˜åï¼Œå¹¶ä¸ä¼šé©¬ä¸Šæ¥æ”¶åˆ°è¯¥ä¸»é¢˜çš„ä¿¡æ¯ã€‚ä¸º<code>true</code>æ—¶ï¼Œå®¢æˆ·ç«¯åœ¨è®¢é˜…äº†æŸä¸€ä¸»é¢˜åï¼Œé©¬ä¸Šæ¥æ”¶åˆ°ä¸€æ¡è¯¥ä¸»é¢˜çš„ä¿ç•™ä¿¡æ¯ã€‚</li><li><strong>Payloadï¼ˆæœ‰æ•ˆè½½è·ï¼‰</strong>ï¼š<br>æœ‰æ•ˆè¼‰è·æ˜¯æˆ‘ä»¬å¸Œæœ›é€šè¿‡MQTTæ‰€å‘é€çš„å®é™…å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MQTTåè®®å‘é€æ–‡æœ¬ï¼Œå›¾åƒç­‰æ ¼å¼çš„å†…å®¹ã€‚</li><li><strong>dupFlagï¼ˆé‡å‘æ ‡å¿—ï¼‰</strong>ï¼š<br>å½“MQTTæŠ¥æ–‡çš„æ¥æ”¶æ–¹æ²¡æœ‰åŠæ—¶ç¡®è®¤æ”¶åˆ°æŠ¥æ–‡æ—¶ï¼Œå‘é€æ–¹ä¼šé‡å¤å‘é€MQTTæŠ¥æ–‡ã€‚åœ¨é‡å¤å‘é€MQTTæŠ¥æ–‡æ—¶ï¼Œå‘é€æ–¹ä¼šå°†æ­¤â€œé‡å‘æ ‡å¿—â€è®¾ç½®ä¸ºtrueã€‚è¯·æ³¨æ„ï¼Œé‡å‘æ ‡å¿—åªåœ¨QoSçº§åˆ«å¤§äº0æ—¶ä½¿ç”¨ã€‚</li></ul></blockquote><h4 id="SUBSCRIBE-â€“-è®¢é˜…ä¸»é¢˜"><a href="#SUBSCRIBE-â€“-è®¢é˜…ä¸»é¢˜" class="headerlink" title="SUBSCRIBE â€“ è®¢é˜…ä¸»é¢˜"></a>SUBSCRIBE â€“ è®¢é˜…ä¸»é¢˜</h4><p>å®¢æˆ·ç«¯è¦æƒ³è®¢é˜…ä¸»é¢˜ï¼Œé¦–å…ˆè¦å‘æœåŠ¡ç«¯å‘é€ä¸»é¢˜è®¢é˜…è¯·æ±‚ã€‚å®¢æˆ·ç«¯æ˜¯é€šè¿‡å‘æœåŠ¡ç«¯å‘é€SUBSCRIBEæŠ¥æ–‡æ¥å®ç°è¿™ä¸€è¯·æ±‚çš„ã€‚</p><blockquote><ul><li><strong>topicNameï¼ˆä¸»é¢˜åï¼‰</strong></li><li><strong>QoSï¼ˆæœåŠ¡è´¨é‡ç­‰çº§ï¼‰</strong></li><li><strong>packetIdï¼ˆæŠ¥æ–‡æ ‡è¯†ç¬¦ï¼‰</strong></li></ul></blockquote><h4 id="SUBACK-â€“-è®¢é˜…ç¡®è®¤"><a href="#SUBACK-â€“-è®¢é˜…ç¡®è®¤" class="headerlink" title="SUBACK â€“ è®¢é˜…ç¡®è®¤"></a>SUBACK â€“ è®¢é˜…ç¡®è®¤</h4><p>æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è®¢é˜…æŠ¥æ–‡åï¼Œä¼šå‘å®¢æˆ·ç«¯å‘é€SUBACKæŠ¥æ–‡ç¡®è®¤è®¢é˜…ã€‚</p><p>SUBACKæŠ¥æ–‡åŒ…å«æœ‰â€œè®¢é˜…è¿”å›ç â€å’Œâ€œæŠ¥æ–‡æ ‡è¯†ç¬¦â€è¿™ä¸¤ä¸ªä¿¡æ¯ã€‚</p><ul><li><strong>returnCodeï¼ˆè®¢é˜…è¿”å›ç ï¼‰</strong></li></ul><p>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è®¢é˜…è¯·æ±‚åï¼ŒæœåŠ¡ç«¯ä¼šç»™å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ªè®¢é˜…è¿”å›ç ã€‚</p><p>è¿™ä¸ªè¿”å›ç çš„ä½œç”¨æ˜¯å‘ŠçŸ¥å®¢æˆ·ç«¯æ˜¯å¦æˆåŠŸè®¢é˜…äº†ä¸»é¢˜ã€‚ä»¥ä¸‹æ˜¯è¿”å›ç çš„è¯¦ç»†è¯´æ˜ï¼š</p><table><thead><tr><th align="center"><strong>è¿”å›ç </strong></th><th align="left"><strong>è¿”å›ç æè¿°</strong></th></tr></thead><tbody><tr><td align="center">0</td><td align="left">è®¢é˜…æˆåŠŸ â€“ QoS 0</td></tr><tr><td align="center">1</td><td align="left">è®¢é˜…æˆåŠŸ- QoS 1</td></tr><tr><td align="center">2</td><td align="left">è®¢é˜…æˆåŠŸ- QoS 2</td></tr><tr><td align="center">3</td><td align="left">è®¢é˜…å¤±è´¥</td></tr></tbody></table><h4 id="UNSUBSCRIBE-â€“-å–æ¶ˆè®¢é˜…"><a href="#UNSUBSCRIBE-â€“-å–æ¶ˆè®¢é˜…" class="headerlink" title="UNSUBSCRIBE â€“ å–æ¶ˆè®¢é˜…"></a>UNSUBSCRIBE â€“ å–æ¶ˆè®¢é˜…</h4><p>é¡¾åæ€ä¹‰ï¼Œå½“å®¢æˆ·ç«¯è¦å–æ¶ˆè®¢é˜…æŸä¸»é¢˜æ—¶ï¼Œå¯é€šè¿‡å‘æœåŠ¡ç«¯å‘é€UNSUBSCRIBE â€“ å–æ¶ˆè®¢é˜…æŠ¥æ–‡æ¥å®ç°ã€‚</p><!-- ![PUBLISHæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹](images/åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT/image-4.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/image-4.png" alt="PUBLISHæ•°æ®åŒ…æŠ¥æ–‡å†…å®¹"></p><p>æŠ¥æ–‡å†…å®¹è¯¦ç»†çš„è§£è¯»å’Œç†è§£å¯èƒ½ä¼šå¯¼è‡´æœ¬ç¯‡æ–‡ç« çš„ç¯‡å¹…è¿‡é•¿ï¼Œè¿™é‡ŒæŒ‡è·¯å¤ªæåˆ›å®¢å…³äºMQTTæŠ¥æ–‡å†…å®¹çš„è¯¦ç»†ä»‹ç»ï¼š<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-tuttorial/mqtt-tutorial/">æˆ³æˆ‘çœ‹:D</a></p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="æœ¬åœ°ç¯å¢ƒ"><a href="#æœ¬åœ°ç¯å¢ƒ" class="headerlink" title="æœ¬åœ°ç¯å¢ƒ"></a>æœ¬åœ°ç¯å¢ƒ</h3><blockquote><p>PCç«¯ï¼šWindows11<br>ä¸»æ§ï¼šESP32S3-R8ï¼ˆå¸¸è§çš„æ¨¡ç»„å’Œå¼€å‘æ¿éƒ½å¯ä»¥ï¼‰<br>æ¡†æ¶ï¼šArduino</p></blockquote><blockquote><p>MQTTåº“ï¼šPubSubClient<br>ä½œè€…åï¼šNick Oâ€™Leary<br>å®˜ç½‘åœ°å€ï¼š<a href="https://pubsubclient.knolleary.net/">https://pubsubclient.knolleary.net/</a><br>GitHubï¼š<a href="https://github.com/knolleary/pubsubclient/">https://github.com/knolleary/pubsubclient/</a></p></blockquote><h3 id="è½¯ä»¶å®‰è£…"><a href="#è½¯ä»¶å®‰è£…" class="headerlink" title="è½¯ä»¶å®‰è£…"></a>è½¯ä»¶å®‰è£…</h3><p>åœ¨PCç«¯å®‰è£…ç›¸å…³çš„è½¯ä»¶å¯ä»¥æ›´åŠ æ–¹ä¾¿æµ‹è¯•å•ç‰‡æœºçš„ç¨‹åºè¿è¡Œæƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªMQTTåè®®è½¯ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ‰®æ¼”å‘å¸ƒç«¯&#x2F;è®¢é˜…ç«¯ï¼Œæ¥æ¥æ”¶æˆ–è€…å‘å¸ƒæ¶ˆæ¯ã€‚è¿™é‡Œæ¨èä¸‹è½½<code>MQTT.fx</code>ï¼</p><ul><li><p>å¯ä»¥å‰å¾€ MQTT.fx çš„<a href="http://www.mqttfx.org/">å®˜ç½‘</a>è¿›è¡Œä¸‹è½½ã€‚</p></li><li><p>æˆ–è€…å‰å¾€ å¤ªæåˆ›å®¢ å®˜ç½‘çš„ä¸‹è½½é¡µé¢è¿›è¡Œä¸‹è½½<a href="http://www.taichi-maker.com/homepage/download/#mqtt">æˆ³è¿™é‡Œ:P</a>ï¼ˆé˜¿é‡Œå˜å¤šå¤ªæåˆ›å®¢ï¼</p></li><li><p><strong>æ³¨ï¼š</strong>æœ€æ–°ç‰ˆæœ¬çš„<code>MQTT.fx</code>å¯èƒ½éœ€è¦æ”¶è´¹ï¼Œå­¦ç”Ÿå…šå¯ä»¥ä½¿ç”¨<code>MQTT.fx 1.7.1</code>ç‰ˆæœ¬ï¼Œå…è´¹ä½†æ˜¯åŠŸèƒ½ç¨æœ‰é˜‰å‰²ã€‚</p></li><li><p>é™„ï¼šå…¬ç”¨MQTTæœåŠ¡å™¨åˆ—è¡¨ï¼ˆ2024&#x2F;7&#x2F;21</p></li></ul><!-- ![çƒ­é—¨çš„å…¬ç”¨MQTTæœåŠ¡å™¨åˆ—è¡¨](images/åœ¨ESP32-Arduinoä¸­ä½¿ç”¨MQTT/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E5%9C%A8ESP32-Arduino%E4%B8%AD%E4%BD%BF%E7%94%A8MQTT/image-2.png" alt="çƒ­é—¨çš„å…¬ç”¨MQTTæœåŠ¡å™¨åˆ—è¡¨"></p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><h3 id="å‘å¸ƒè¯é¢˜-ä¼ è¾“å­—ç¬¦ä¸²"><a href="#å‘å¸ƒè¯é¢˜-ä¼ è¾“å­—ç¬¦ä¸²" class="headerlink" title="å‘å¸ƒè¯é¢˜&amp;ä¼ è¾“å­—ç¬¦ä¸²"></a>å‘å¸ƒè¯é¢˜&amp;ä¼ è¾“å­—ç¬¦ä¸²</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;Arduino.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;WiFi.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;PubSubClient.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;Ticker.h&gt;</span></span><br><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *id = <span class="hljs-string">&quot;HUGO&quot;</span>;    <span class="hljs-comment">// WIFIåç§°</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *pswd = <span class="hljs-string">&quot;xxxxxxxx&quot;</span>; <span class="hljs-comment">// WIFIå¯†ç </span><br><br><span class="hljs-comment">// broker-cn.emqx.io</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *mqttServer = <span class="hljs-string">&quot;broker-cn.emqx.io&quot;</span>;<br><br><span class="hljs-comment">// Tickerçš„è®¡æ•°å˜é‡</span><br><span class="hljs-type">int</span> count;<br><br>Ticker ticker;<br>WiFiClient wifiClient;<br><span class="hljs-function">PubSubClient <span class="hljs-title">mqttClient</span><span class="hljs-params">(wifiClient)</span></span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">connectMQTTServer</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// æ ¹æ®ESP32çš„MACåœ°å€ç”Ÿæˆå®¢æˆ·ç«¯IDï¼ˆé¿å…ä¸å…¶å®ƒESP32çš„å®¢æˆ·ç«¯IDé‡åï¼‰</span><br>  String clientId = <span class="hljs-string">&quot;esp32s3-&quot;</span> + WiFi.<span class="hljs-built_in">macAddress</span>();<br><br>  <span class="hljs-comment">// è¿æ¥MQTTæœåŠ¡å™¨</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">connect</span>(clientId.<span class="hljs-built_in">c_str</span>()))<br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MQTT Server Connected.&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Server Address: &quot;</span>);<br>    <span class="hljs-built_in">printf</span>(mqttServer);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ClientId:&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, clientId.<span class="hljs-built_in">c_str</span>());<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    Serial.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;MQTT Server Connect Failed. Client State:&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, mqttClient.<span class="hljs-built_in">state</span>());<br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// å‘å¸ƒä¿¡æ¯</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pubMQTTmsg</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-type">static</span> <span class="hljs-type">int</span> value; <span class="hljs-comment">// å®¢æˆ·ç«¯å‘å¸ƒä¿¡æ¯ç”¨æ•°å­—</span><br><br>  <span class="hljs-comment">// å»ºç«‹å‘å¸ƒä¸»é¢˜ã€‚ä¸»é¢˜åç§°ä»¥Taichi-Maker-ä¸ºå‰ç¼€ï¼Œåé¢æ·»åŠ è®¾å¤‡çš„MACåœ°å€ã€‚</span><br>  <span class="hljs-comment">// è¿™ä¹ˆåšæ˜¯ä¸ºç¡®ä¿ä¸åŒç”¨æˆ·è¿›è¡ŒMQTTä¿¡æ¯å‘å¸ƒæ—¶ï¼ŒESP8266å®¢æˆ·ç«¯åç§°å„ä¸ç›¸åŒï¼Œ</span><br>  String topicString = <span class="hljs-string">&quot;Taichi-Maker-Pub-&quot;</span> + WiFi.<span class="hljs-built_in">macAddress</span>();<br>  <span class="hljs-type">char</span> publishTopic[topicString.<span class="hljs-built_in">length</span>() + <span class="hljs-number">1</span>];<br>  <span class="hljs-built_in">strcpy</span>(publishTopic, topicString.<span class="hljs-built_in">c_str</span>());<br><br>  <span class="hljs-comment">// å»ºç«‹å‘å¸ƒä¿¡æ¯ã€‚ä¿¡æ¯å†…å®¹ä»¥Hello Worldä¸ºèµ·å§‹ï¼Œåé¢æ·»åŠ å‘å¸ƒæ¬¡æ•°ã€‚</span><br>  String messageString = <span class="hljs-string">&quot;Hello World &quot;</span> + <span class="hljs-built_in">String</span>(value++);<br>  <span class="hljs-type">char</span> publishMsg[messageString.<span class="hljs-built_in">length</span>() + <span class="hljs-number">1</span>];<br>  <span class="hljs-built_in">strcpy</span>(publishMsg, messageString.<span class="hljs-built_in">c_str</span>());<br><br>  <span class="hljs-comment">// å®ç°ESP8266å‘ä¸»é¢˜å‘å¸ƒä¿¡æ¯</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">publish</span>(publishTopic, publishMsg))<br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Publish Topic: %s\n&quot;</span>, publishTopic);<br>    <span class="hljs-comment">// printf(publishTopic);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Publish message: %s\n&quot;</span>, publishMsg);<br>    <span class="hljs-comment">// printf(publishMsg);</span><br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Message Publish Failed.\n&quot;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–ä¸²å£</span><br>  Serial.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);<br>  <span class="hljs-comment">// åˆå§‹åŒ–WIFI</span><br>  WiFi.<span class="hljs-built_in">begin</span>(id, pswd);<br>  <span class="hljs-comment">// åˆ¤æ–­wifiæ˜¯å¦è¿æ¥æˆåŠŸ</span><br>  <span class="hljs-keyword">while</span> (WiFi.<span class="hljs-built_in">status</span>() != WL_CONNECTED)<br>  &#123;<br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ­£åœ¨è¿æ¥...\n&quot;</span>);<br>  &#125;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;è¿æ¥æˆåŠŸï¼\n&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;IP address: %s\n&quot;</span>, WiFi.<span class="hljs-built_in">localIP</span>().<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>()); <span class="hljs-comment">// æ‰“å°æœ¬åœ°IPåœ°å€</span><br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;dns: %s\n&quot;</span>, WiFi.<span class="hljs-built_in">dnsIP</span>().<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>());          <span class="hljs-comment">// æ‰“å°dnsåœ°å€</span><br><br>  <span class="hljs-comment">// è®¾ç½®MQTTæœåŠ¡å™¨å’Œç«¯å£å·</span><br>  mqttClient.<span class="hljs-built_in">setServer</span>(mqttServer, <span class="hljs-number">1883</span>);<br><br>  <span class="hljs-comment">// è¿æ¥MQTTæœåŠ¡å™¨</span><br>  <span class="hljs-built_in">connectMQTTServer</span>();<br><br>  <span class="hljs-comment">// Tickerå®šæ—¶å¯¹è±¡</span><br>  ticker.<span class="hljs-built_in">attach</span>(<span class="hljs-number">1</span>, []()<br>                &#123; count++; &#125;);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// åˆ¤æ–­å¼€å‘æ¿æ˜¯å¦æˆåŠŸè¿æ¥æœåŠ¡å™¨</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">connected</span>())<br>  &#123;<br>    <span class="hljs-comment">// æ¯éš”ä¸‰ç§’å‘å¸ƒä¸€æ¬¡ä¿¡æ¯</span><br>    <span class="hljs-keyword">if</span> (count &gt;= <span class="hljs-number">3</span>)<br>    &#123;<br>      <span class="hljs-built_in">pubMQTTmsg</span>();<br>      count = <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// ä¿æŒå®¢æˆ·ç«¯å¿ƒè·³</span><br>    mqttClient.<span class="hljs-built_in">loop</span>();<br>    <span class="hljs-comment">// printf(&quot;Okk\n&quot;);</span><br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-comment">// é‡æ–°å°è¯•è¿æ¥æœåŠ¡å™¨</span><br>    <span class="hljs-built_in">connectMQTTServer</span>();<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Err\n&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è®¢é˜…å•ä¸ªè¯é¢˜"><a href="#è®¢é˜…å•ä¸ªè¯é¢˜" class="headerlink" title="è®¢é˜…å•ä¸ªè¯é¢˜"></a>è®¢é˜…å•ä¸ªè¯é¢˜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;Arduino.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;WiFi.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;PubSubClient.h&gt;</span></span><br><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *id = <span class="hljs-string">&quot;MagicEyes&quot;</span>;    <span class="hljs-comment">// WIFIåç§°</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *pswd = <span class="hljs-string">&quot;Zkl2002627&quot;</span>; <span class="hljs-comment">// WIFIå¯†ç </span><br><br><span class="hljs-comment">// broker-cn.emqx.io</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> *mqttServer = <span class="hljs-string">&quot;broker-cn.emqx.io&quot;</span>;<br><br>WiFiClient wifiClient;<br><span class="hljs-function">PubSubClient <span class="hljs-title">mqttClient</span><span class="hljs-params">(wifiClient)</span></span>;<br><br><span class="hljs-comment">// è®¢é˜…æŒ‡å®šä¸»é¢˜</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">subscribeTopic</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// å»ºç«‹è®¢é˜…ä¸»é¢˜ã€‚ä¸»é¢˜åç§°ä»¥Taichi-Maker-Subä¸ºå‰ç¼€ï¼Œåé¢æ·»åŠ è®¾å¤‡çš„MACåœ°å€ã€‚</span><br>  <span class="hljs-comment">// è¿™ä¹ˆåšæ˜¯ä¸ºç¡®ä¿ä¸åŒè®¾å¤‡ä½¿ç”¨åŒä¸€ä¸ªMQTTæœåŠ¡å™¨æµ‹è¯•æ¶ˆæ¯è®¢é˜…æ—¶ï¼Œæ‰€è®¢é˜…çš„ä¸»é¢˜åç§°ä¸åŒ</span><br>  String topicString = <span class="hljs-string">&quot;Taichi-Maker-Sub-&quot;</span> + WiFi.<span class="hljs-built_in">macAddress</span>();<br>  <span class="hljs-type">char</span> subTopic[topicString.<span class="hljs-built_in">length</span>() + <span class="hljs-number">1</span>];<br>  <span class="hljs-built_in">strcpy</span>(subTopic, topicString.<span class="hljs-built_in">c_str</span>());<br><br>  <span class="hljs-comment">// é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºæ˜¯å¦æˆåŠŸè®¢é˜…ä¸»é¢˜ä»¥åŠè®¢é˜…çš„ä¸»é¢˜åç§°</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">subscribe</span>(subTopic))<br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Subscrib Topic: %s\n&quot;</span>, subTopic);<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Subscribe Fail...\n&quot;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">connectMQTTServer</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// æ ¹æ®ESP32çš„MACåœ°å€ç”Ÿæˆå®¢æˆ·ç«¯IDï¼ˆé¿å…ä¸å…¶å®ƒESP32çš„å®¢æˆ·ç«¯IDé‡åï¼‰</span><br>  String clientId = <span class="hljs-string">&quot;esp32s3-&quot;</span> + WiFi.<span class="hljs-built_in">macAddress</span>();<br><br>  <span class="hljs-comment">// è¿æ¥MQTTæœåŠ¡å™¨</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">connect</span>(clientId.<span class="hljs-built_in">c_str</span>()))<br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MQTT Server Connected.&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Server Address: &quot;</span>);<br>    <span class="hljs-built_in">printf</span>(mqttServer);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ClientId:&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, clientId.<span class="hljs-built_in">c_str</span>());<br>    <span class="hljs-built_in">subscribeTopic</span>(); <span class="hljs-comment">// è®¢é˜…æŒ‡å®šä¸»é¢˜</span><br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;MQTT Server Connect Failed. Client State:&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, mqttClient.<span class="hljs-built_in">state</span>());<br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// æ”¶åˆ°ä¿¡æ¯åçš„å›è°ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">receiveCallback</span><span class="hljs-params">(<span class="hljs-type">char</span> *topic, byte *payload, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length)</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Message Received [%d]&quot;</span>, topic);<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++)<br>  &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, (<span class="hljs-type">char</span>)payload[i]);<br>  &#125;<br><br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Message Length(Bytes) %d\n&quot;</span>, length);<br><br>  <span class="hljs-keyword">if</span> ((<span class="hljs-type">char</span>)payload[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;1&#x27;</span>)<br>  &#123; <span class="hljs-comment">// å¦‚æœæ”¶åˆ°çš„ä¿¡æ¯ä»¥â€œ1â€ä¸ºå¼€å§‹</span><br>    <span class="hljs-comment">// digitalWrite(BUILTIN_LED, LOW); // åˆ™ç‚¹äº®LEDã€‚</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;LED ON\n&quot;</span>);<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-comment">// digitalWrite(BUILTIN_LED, HIGH); // å¦åˆ™ç†„ç­LEDã€‚</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;LED OFF\n&quot;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–ä¸²å£</span><br>  Serial.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);<br>  <span class="hljs-comment">// åˆå§‹åŒ–WIFI</span><br>  WiFi.<span class="hljs-built_in">begin</span>(id, pswd);<br>  <span class="hljs-comment">// åˆ¤æ–­wifiæ˜¯å¦è¿æ¥æˆåŠŸ</span><br>  <span class="hljs-keyword">while</span> (WiFi.<span class="hljs-built_in">status</span>() != WL_CONNECTED)<br>  &#123;<br>    <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ­£åœ¨è¿æ¥...\n&quot;</span>);<br>  &#125;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;è¿æ¥æˆåŠŸï¼\n&quot;</span>);<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;IP address: %s\n&quot;</span>, WiFi.<span class="hljs-built_in">localIP</span>().<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>()); <span class="hljs-comment">// æ‰“å°æœ¬åœ°IPåœ°å€</span><br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;dns: %s\n&quot;</span>, WiFi.<span class="hljs-built_in">dnsIP</span>().<span class="hljs-built_in">toString</span>().<span class="hljs-built_in">c_str</span>());          <span class="hljs-comment">// æ‰“å°dnsåœ°å€</span><br><br>  <span class="hljs-comment">// è®¾ç½®MQTTæœåŠ¡å™¨å’Œç«¯å£å·</span><br>  mqttClient.<span class="hljs-built_in">setServer</span>(mqttServer, <span class="hljs-number">1883</span>);<br>  <span class="hljs-comment">// è®¾ç½®MQTTè®¢é˜…å›è°ƒå‡½æ•°</span><br>  mqttClient.<span class="hljs-built_in">setCallback</span>(receiveCallback);<br>  <span class="hljs-comment">// è¿æ¥MQTTæœåŠ¡å™¨</span><br>  <span class="hljs-built_in">connectMQTTServer</span>();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-comment">// åˆ¤æ–­å¼€å‘æ¿æ˜¯å¦æˆåŠŸè¿æ¥æœåŠ¡å™¨</span><br>  <span class="hljs-keyword">if</span> (mqttClient.<span class="hljs-built_in">connected</span>())<br>  &#123;<br>    <span class="hljs-comment">// ä¿æŒå®¢æˆ·ç«¯å¿ƒè·³</span><br>    mqttClient.<span class="hljs-built_in">loop</span>();<br>    <span class="hljs-comment">// printf(&quot;Okk\n&quot;);</span><br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    <span class="hljs-comment">// é‡æ–°å°è¯•è¿æ¥æœåŠ¡å™¨</span><br>    <span class="hljs-built_in">connectMQTTServer</span>();<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Err\n&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ul><li>å†æ¬¡æ„Ÿè°¢å¤ªæåˆ›å®¢å›¢é˜Ÿçš„å¼€æºæ•™ç¨‹ï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ESP32</tag>
      
      <tag>Arduino</tag>
      
      <tag>MQTT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‚è®°ä¸¨7æœˆï¼šæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œç¼–ç¨‹...</title>
    <link href="/2024/07/14/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/7%E6%9C%88/README/"/>
    <url>/2024/07/14/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/7%E6%9C%88/README/</url>
    
    <content type="html"><![CDATA[<h3 id="æ‚è®°ä¸¨7æœˆï¼šæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œç¼–ç¨‹â€¦"><a href="#æ‚è®°ä¸¨7æœˆï¼šæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œç¼–ç¨‹â€¦" class="headerlink" title="æ‚è®°ä¸¨7æœˆï¼šæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œç¼–ç¨‹â€¦"></a>æ‚è®°ä¸¨7æœˆï¼šæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œç¼–ç¨‹â€¦</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h3 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h3><p>ä¸€ç›´æœ‰ä¸€ä¸ªæœºå™¨äººæ¢¦å•Šï¼Œè¿™å›ä¸èƒ½å†gugubirdå•¦ã€‚åªä¸è¿‡åˆšå¥½ç¢°ä¸Šå¿™æ—¶ï¼ŒçŸ¥è¯†ç‚¹é›¶æ•£ï¼Œä¸€ç‚¹ç‚¹æ…¢æ…¢ç§¯ç´¯å§ã€‚</p><hr><h3 id="ã€2024-07-14ã€‘æ‰¾åˆ°ä¸€ä¸ªæœ‰è¶£ä¸”å¼ºå¤§çš„ç½‘ç»œå·¥å…·Socat"><a href="#ã€2024-07-14ã€‘æ‰¾åˆ°ä¸€ä¸ªæœ‰è¶£ä¸”å¼ºå¤§çš„ç½‘ç»œå·¥å…·Socat" class="headerlink" title="ã€2024&#x2F;07&#x2F;14ã€‘æ‰¾åˆ°ä¸€ä¸ªæœ‰è¶£ä¸”å¼ºå¤§çš„ç½‘ç»œå·¥å…·Socat"></a>ã€2024&#x2F;07&#x2F;14ã€‘æ‰¾åˆ°ä¸€ä¸ªæœ‰è¶£ä¸”å¼ºå¤§çš„ç½‘ç»œå·¥å…·<code>Socat</code></h3><p><strong>Socat</strong>æˆ–<strong>SOcket CAT</strong>æ˜¯ä¸€ä¸ªåŸºäº Linux å‘½ä»¤è¡Œ&#x2F;ç»ˆç«¯çš„å®ç”¨ç¨‹åºï¼Œç”¨äºåœ¨ä¸¤ä¸ªåŒå‘å­—èŠ‚æµä¹‹é—´å»ºç«‹å’Œä¼ è¾“æ•°æ®ã€‚</p><p>åœ¨linuxç¯å¢ƒ<code>(Debian/Ubuntu)</code>ä¸‹å®‰è£…socat</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># sudo apt-get update</span><br><br>sudo apt-get install socat<br></code></pre></td></tr></table></figure><ul><li><strong>1.æ¥ç€å¯ä»¥å°è¯•ä¸€ä¸ªç®€å•çš„TCPé€šä¿¡æµ‹è¯•</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># åˆ†åˆ«æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£</span><br><br><span class="hljs-comment"># çª—å£1è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç›‘å¬ç«¯å£5555</span><br>socat -d -d TCP-LISTEN:5555 -<br><br><span class="hljs-comment"># çª—å£2è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè¿æ¥ç«¯å£5555</span><br><span class="hljs-comment"># ipåœ°å€å¯ä»¥ä½¿ç”¨ifconfigæŒ‡ä»¤æŸ¥è¯¢</span><br><br><span class="hljs-comment"># è¿™æ¡æŒ‡ä»¤æ˜¯å…¨åŒå·¥çš„</span><br><span class="hljs-comment"># è¿æ¥æˆåŠŸä»¥åï¼Œå¯ä»¥åœ¨å„è‡ªçš„çª—å£å‘è¨€ï¼Œä¿¡æ¯ä¼šä¼ é€åˆ°å¯¹æ–¹çš„çª—å£ï¼</span><br>socat -d -d TCP-CONNECT:192.168.26.163:5555 -<br><br><span class="hljs-comment"># è¿™æ¡æŒ‡ä»¤æ˜¯å•å·¥çš„</span><br><span class="hljs-comment"># è¿æ¥æˆåŠŸä»¥åï¼Œç›‘å¬çª—å£åªèƒ½å¬ä¸èƒ½å‘ï¼Œåªæœ‰å‘é€çª—å£å¯ä»¥å‘ï¼</span><br>socat - TCP:192.168.26.163:5555<br><br><span class="hljs-comment"># ä¸Šè¿°çš„æ‰€æœ‰TCPå¯ä»¥æ›´æ¢ä¸ºUDPï¼Œå°±ä¼šå¾—åˆ°UDPé€šä¿¡ï¼</span><br></code></pre></td></tr></table></figure><!-- ![socat-TCP](images/æ‚è®°/2024å¹´/7æœˆ/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/7%E6%9C%88/image.png" alt="socat-TCP"></p><ul><li><strong>2.åˆ›å»ºä¸¤ä¸ªè™šæ‹Ÿä¸²å£å¹¶è½¬å‘æ•°æ®</strong></li></ul><p>æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯çª—å£ï¼Œè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">socat -d -d pty,raw,<span class="hljs-built_in">echo</span>=0 pty,raw,<span class="hljs-built_in">echo</span>=0<br></code></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">2024/07/14 20:39:00 socat[2297] N PTY is /dev/pts/1<br>2024/07/14 20:39:00 socat[2297] N PTY is /dev/pts/2<br>2024/07/14 20:39:00 socat[2297] N starting data transfer loop with FDs [5,5] and [7,7]<br></code></pre></td></tr></table></figure><p>åˆ›å»ºäº†<code>/dev/pts/1</code>å’Œ<code>/dev/pts/2</code>ä¸¤ä¸ªä¸²å£ï¼Œå¹¶ä¸”å°†ä¸¤ä¸ªä¸²å£è¿æ¥èµ·æ¥ï¼Œæ­¤æ—¶æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯ï¼Œåœ¨ç»ˆç«¯1è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å»åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹</span><br><span class="hljs-built_in">cd</span> /dev/pts/<br><span class="hljs-built_in">cat</span> &lt; 1<br></code></pre></td></tr></table></figure><p>åœ¨å¦ä¸€ä¸ªæ–°ç»ˆç«¯ï¼Œç»ˆç«¯2ä¸­è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å»åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹</span><br><span class="hljs-built_in">cd</span> /dev/pts/<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;abc&quot;</span> &gt; 2<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶åœ¨ç»ˆç«¯1ä¸Šå°±ä¼šæ˜¾ç¤º<code>abc</code>æ•°æ®ï¼Œæ­¤æ—¶è¯´æ˜<code>/dev/pts/2</code>æŠŠæ•°æ®ä¼ è¾“åˆ°äº†<code>/dev/pts/1</code>.</p><!-- ![socat-UART](images/æ‚è®°/2024å¹´/7æœˆ/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/7%E6%9C%88/image-1.png" alt="socat-UART"></p><p><strong>ä¸Šé¢åˆ›å»ºçš„ä¸²å£ï¼Œåœ¨ä¸åŒçš„æœºå™¨ä¸Šåç§°å¯èƒ½ä¸ä¸€è‡´ï¼Œå¯¹äºè°ƒè¯•ã€æµ‹è¯•æ¥è®²å¾ˆéº»çƒ¦ï¼Œä¸‹é¢ç»™å‡ºè§£å†³æ–¹æ³•ï¼</strong></p><ul><li><strong>3.åˆ›å»ºâ€œå›ºå®šåç§°â€çš„ä¸²å£</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#ä½¿ç”¨linkå³å¯æŠŠåˆ›å»ºçš„è™šæ‹Ÿçš„ä¸²å£æ˜ å°„åˆ°ä»»ä½•ä½ æœ‰æƒé™çš„ä½ç½®ï¼ˆè¿™é‡Œæ˜¯homeç›®å½•ï¼‰</span><br> socat -d -d pty,raw,<span class="hljs-built_in">echo</span>=0,<span class="hljs-built_in">link</span>=<span class="hljs-variable">$HOME</span>/socatpty1 pty,raw,<span class="hljs-built_in">echo</span>=0,<span class="hljs-built_in">link</span>=<span class="hljs-variable">$HOME</span>/socatpty2 <br></code></pre></td></tr></table></figure><p>è¿”å›å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">2024/07/14 20:57:47 socat[3041] N PTY is /dev/pts/1<br>2024/07/14 20:57:47 socat[3041] N PTY is /dev/pts/2<br>2024/07/14 20:57:47 socat[3041] N starting data transfer loop with FDs [5,5] and [7,7]<br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸²å£å¹¶è®¾ç½®ä¸²å£å‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">socat -d -d pty,raw,b19200,csize=3,cstopb=1,parenb=1,parodd=1,<span class="hljs-built_in">echo</span>=0,<span class="hljs-built_in">link</span>=<span class="hljs-variable">$HOME</span>/socatpty1 pty,raw,b19200,csize=3,cstopb=1,parenb=1,parodd=1,<span class="hljs-built_in">echo</span>=0,<span class="hljs-built_in">link</span>=<span class="hljs-variable">$HOME</span>/socatpty2<br></code></pre></td></tr></table></figure><p>è§£é‡Šå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">1. b19200 <span class="hljs-comment"># è®¾ç½®æ³¢ç‰¹ç‡ä¸º19200</span><br>2. csize3 <span class="hljs-comment"># è®¾ç½®character sizeä¸º8</span><br>3. cstopb=1 <span class="hljs-comment"># è®¾ç½®ä¸¤ä¸ªåœæ­¢ä½</span><br>4. parenb=1 <span class="hljs-comment"># ä¸è¿›è¡Œå¥‡å¶æ£€æµ‹</span><br>5. parodd=1 <span class="hljs-comment"># å¥‡æ ¡éªŒ</span><br></code></pre></td></tr></table></figure><p>ç±»ä¼¼å‚æ•°è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œè¯·æŸ¥é˜…ç›¸å…³çš„å¸®åŠ©<a href="http://www.dest-unreach.org/socat/doc/socat.html">æ–‡æ¡£</a></p><!-- ![socat-UART](images/æ‚è®°/2024å¹´/7æœˆ/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/%E6%9D%82%E8%AE%B0/2024%E5%B9%B4/7%E6%9C%88/image-2.png" alt="socat-UART"></p><hr><h3 id="ã€2024-07-16ã€‘æµ…è–„åœ°äº†è§£Cmake"><a href="#ã€2024-07-16ã€‘æµ…è–„åœ°äº†è§£Cmake" class="headerlink" title="ã€2024&#x2F;07&#x2F;16ã€‘æµ…è–„åœ°äº†è§£Cmake"></a>ã€2024&#x2F;07&#x2F;16ã€‘æµ…è–„åœ°äº†è§£<code>Cmake</code></h3><blockquote><p>æœ€è¿‘è¦å­¦ä¹ çš„ä¸œè¥¿ç”¨åˆ°å¾ˆå¤šmakefileçš„çŸ¥è¯†ï¼Œä½†æ˜¯æˆ‘æ¨ªç«–æ€ä¹ˆå†™éƒ½ä¸å¾—å¿ƒåº”æ‰‹ã€‚é‚£ä¸å¦‚å­¦å­¦Cmakeå·¥å…·å¥½äº†ï¼ˆå…¶å®æ˜¯ä¿¡å·ä¸ç³»ç»Ÿå­¦ç´¯äº†åœ¨æ‘¸é±¼â€¦</p></blockquote><p>æ‰¾åˆ°ä¸€ä¸ªå…³äº<code>Cmake</code>çš„ä¼˜è‰¯æ•™ç¨‹ï¼Œé˜¿é‡Œå˜å¤šè¿™ä½ä½œè€…ï¼š<a href="https://subingwen.cn/cmake/CMake-primer/">æ•™ç¨‹æˆ³æˆ‘:)</a></p><hr><h3 id="ã€2024-7-27ã€‘tarï¼šå¸¸ç”¨çš„æ–‡ä»¶æ‰“åŒ…å’Œå‹ç¼©å·¥å…·"><a href="#ã€2024-7-27ã€‘tarï¼šå¸¸ç”¨çš„æ–‡ä»¶æ‰“åŒ…å’Œå‹ç¼©å·¥å…·" class="headerlink" title="ã€2024&#x2F;7&#x2F;27ã€‘tarï¼šå¸¸ç”¨çš„æ–‡ä»¶æ‰“åŒ…å’Œå‹ç¼©å·¥å…·"></a>ã€2024&#x2F;7&#x2F;27ã€‘tarï¼šå¸¸ç”¨çš„æ–‡ä»¶æ‰“åŒ…å’Œå‹ç¼©å·¥å…·</h3><blockquote><p>æœ€è¿‘é‡åˆ°é•œåƒå‹ç¼©ã€è§£å‹ç¼©çš„å°é—®é¢˜ï¼Œæ‰¾åˆ°è¿™äº›tarå¸¸ç”¨çš„å‘½ä»¤ï¼Œè¿™é‡Œç»Ÿä¸€æ”¶é›†ä¸€ä¸‹ã€‚</p></blockquote><p>å½“ç„¶è¿˜æœ‰å…¶ä»–çš„å·¥å…·æ¯”å¦‚zipã€unzipç­‰ï¼Œè¿™é‡Œåªè®²è§£tarï¼Œå…¶ä»–è‡ªè¡Œç™¾åº¦å§ï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar [é€‰é¡¹] [å‹ç¼©æ–‡ä»¶å] [æ–‡ä»¶æˆ–ç›®å½•...]<br></code></pre></td></tr></table></figure><p>å¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬ï¼š</p><ul><li><code>-c</code>ï¼šåˆ›å»ºå‹ç¼©æ–‡ä»¶</li><li><code>-x</code>ï¼šæå–å‹ç¼©æ–‡ä»¶</li><li><code>-z</code>ï¼šä½¿ç”¨<code>gzip</code>ç®—æ³•å‹ç¼©æ–‡ä»¶</li><li><code>-j</code>ï¼šä½¿ç”¨<code>bzip2</code>ç®—æ³•å‹ç¼©æ–‡ä»¶</li><li><code>-J</code>ï¼šä½¿ç”¨<code>xz</code>ç®—æ³•å‹ç¼©æ–‡ä»¶</li><li><code>-f</code>ï¼šæŒ‡å®šå½’æ¡£æ–‡ä»¶çš„åç§°</li><li><code>-v</code>ï¼šæ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯</li></ul><p><code>-z -j -J</code>è¿™ä¸‰ç§å‚æ•°å¦‚ä½•é€‰æ‹©ï¼Ÿ<br>å¦‚æœå¯¹æ—¶é—´æ¯”è¾ƒæ•æ„Ÿï¼Œå¯ä»¥ä½¿ç”¨<code>-z</code>å‚æ•°è¿›è¡Œ<code>gzip</code>å‹ç¼©ï¼Œè™½ç„¶å‹ç¼©ç‡æ¯”è¾ƒä½ï¼Œä½†æ˜¯é€Ÿåº¦è¾ƒå¿«ã€‚<br>è€Œå¦‚æœæ‚¨å¯¹å‹ç¼©ç‡æ¯”è¾ƒçœ‹é‡ï¼Œå¯ä»¥é€‰æ‹©<code>-j</code>å‚æ•°è¿›è¡Œ<code>bzip2</code>å‹ç¼©ï¼Œå°½ç®¡é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†å‹ç¼©ç‡æ¯”è¾ƒé«˜ã€‚<br>å¦‚æœæ‚¨å¯¹å‹ç¼©ç‡è¦æ±‚éå¸¸é«˜ï¼Œå¯ä»¥é€‰æ‹©<code>-J</code>å‚æ•°è¿›è¡Œ<code>xz</code>å‹ç¼©ï¼Œè¿™éœ€è¦æ›´é•¿çš„æ—¶é—´ã€‚</p><p><br></br></p><p>ä¸‹é¢æä¾›å‡ ä¸ªå¸¸è§çš„åç¼€åå’Œå¯¹åº”çš„å‹ç¼©å’Œè§£å‹å‘½ä»¤ï¼Œå¤§å®¶ä¸ç”¨è¿‡äºçº ç»“å‘½ä»¤ç»„åˆï¼Œä»¥åçœ‹è§ç›¸åº”çš„åç¼€ç›´æ¥ç”¨å¯¹åº”çš„å‘½ä»¤å°±è¡Œã€‚</p><ol><li><code>.tar.gz æˆ– .tgz</code>ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">1 å‹ç¼©ï¼štar -czf package.tar.gz file1.txt file.txt directory<br>2 è§£å‹ç¼©ï¼štar -xzf package.tar.gz<br></code></pre></td></tr></table></figure><ol start="2"><li><code>.tar.bz2 æˆ– .tbz2</code>ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">1 å‹ç¼©ï¼štar -cjf package.tar.bz2 file1.txt file.txt directory<br>2 è§£å‹ç¼©ï¼štar -xjf package.tar.bz2<br></code></pre></td></tr></table></figure><ol start="3"><li><code>.tar.xz</code>ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">1 å‹ç¼©ï¼štar -cJf package.tar.xz file1.txt file.txt directory<br>2 è§£å‹ç¼©ï¼štar -xJf package.tar.xz<br></code></pre></td></tr></table></figure><hr><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><ul><li>é¸£è°¢æ–‡ç« çš„æ€è·¯ï¼š<a href="https://blog.csdn.net/hitgavin/article/details/116162329">https://blog.csdn.net/hitgavin/article/details/116162329</a></li><li>é¸£è°¢æ–‡ç« ç­”ç–‘è§£æƒ‘ï¼Œæˆ‘å¯¹æ­¤å†…å®¹åšäº†æ¬è¿ï¼š<a href="https://lianshaohua.blog.csdn.net/article/details/135709779">https://lianshaohua.blog.csdn.net/article/details/135709779</a></li><li>é¸£è°¢æ–‡æ¡£ï¼š<a href="https://lceda001.feishu.cn/wiki/WXwJw77ZRitCiYkimVGcO5q5nGh">https://lceda001.feishu.cn/wiki/WXwJw77ZRitCiYkimVGcO5q5nGh</a></li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Web</tag>
      
      <tag>Socat</tag>
      
      <tag>Cmake</tag>
      
      <tag>tar</tag>
      
      <tag>record</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ROSã€‘ROSçš„æ­å»ºä¸å®‰è£…</title>
    <link href="/2024/06/24/%E6%88%91%E7%9A%84ROS%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/ROS%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%AE%89%E8%A3%85/README/"/>
    <url>/2024/06/24/%E6%88%91%E7%9A%84ROS%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/ROS%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%8E%E5%AE%89%E8%A3%85/README/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€ROSã€‘ROSçš„æ­å»ºä¸å®‰è£…"><a href="#ã€ROSã€‘ROSçš„æ­å»ºä¸å®‰è£…" class="headerlink" title="ã€ROSã€‘ROSçš„æ­å»ºä¸å®‰è£…"></a>ã€ROSã€‘ROSçš„æ­å»ºä¸å®‰è£…</h3><h3 id="ã€ROSã€‘Setup-and-Installation"><a href="#ã€ROSã€‘Setup-and-Installation" class="headerlink" title="ã€ROSã€‘Setup and Installation"></a>ã€ROSã€‘Setup and Installation</h3><h3 id="Authorï¼š-kkl"><a href="#Authorï¼š-kkl" class="headerlink" title="Authorï¼š@kkl"></a>Authorï¼š@kkl</h3><hr><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="æœ¬åœ°ç¯å¢ƒ"><a href="#æœ¬åœ°ç¯å¢ƒ" class="headerlink" title="æœ¬åœ°ç¯å¢ƒ"></a>æœ¬åœ°ç¯å¢ƒ</h3><blockquote><p>PCç«¯ï¼šWin11</p></blockquote><blockquote><p>è™šæ‹Ÿæœºï¼šVirturalBox<br>Ubuntuç‰ˆæœ¬ï¼š20.04.6<br>ROSç‰ˆæœ¬ï¼šnoetic</p></blockquote><h3 id="è™šæ‹Ÿæœºçš„å‡†å¤‡"><a href="#è™šæ‹Ÿæœºçš„å‡†å¤‡" class="headerlink" title="è™šæ‹Ÿæœºçš„å‡†å¤‡"></a>è™šæ‹Ÿæœºçš„å‡†å¤‡</h3><p>virturalBoxå®‰è£…Ubuntu20.04çš„æµç¨‹æ­¥éª¤ï¼š<a href="https://blog.csdn.net/xiangbing911/article/details/108614181">æˆ³è¿™é‡Œ:)</a></p><p>virtualBoxå®‰è£…Ubuntuæ—¶çœ‹ä¸åˆ°ç»§ç»­æŒ‰é’®çš„è§£å†³åŠæ³•ï¼š<a href="https://blog.csdn.net/Ratib/article/details/128167397">æˆ³è¿™é‡Œ:P</a></p><p>virtualBoxå…±äº«æ–‡ä»¶å¤¹è§£å†³æ–¹æ³•ï¼š<a href="https://blog.csdn.net/qq_57209192/article/details/124697935">æˆ³è¿™å„¿:-0</a></p><ul><li>æœ€æœ€å…³é”®çš„å°±æ˜¯åœ¨äºå¢å¼ºåŠŸèƒ½åŒ…çš„å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰å®ç°å…±äº«æ–‡ä»¶å¤¹åŠŸèƒ½ï¼Œè¯·æ‰‹åŠ¨ä½¿ç”¨è¯¥å‘½ä»¤é‡æ–°å®‰è£…å¢å¼ºåŠŸèƒ½åŒ…ï¼š<code>sudo apt-get install virtualbox-guest-dkms</code></li></ul><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="1-ROSå¸¸è§„å®‰è£…æ–¹æ³•"><a href="#1-ROSå¸¸è§„å®‰è£…æ–¹æ³•" class="headerlink" title="1. ROSå¸¸è§„å®‰è£…æ–¹æ³•"></a>1. ROSå¸¸è§„å®‰è£…æ–¹æ³•</h3><p>ROSçš„å®‰è£…ä¸»è¦æ˜¯ç½‘ç»œé—®é¢˜å±…å¤šï¼Œä»¥ä¸‹æ‰¾åˆ°ä¸€ä¸ªæ‰‹æŠŠæ‰‹å®‰è£…ROSçš„æ•™ç¨‹<a href="https://blog.csdn.net/qq_64671439/article/details/135287166">æˆ³è¿™é‡Œ:)</a></p><p>è§£å†³<code>rosdep</code>å®‰è£…æ—¶é‡åˆ°çš„å„ç§é—®é¢˜çš„æ–¹æ³•<a href="https://blog.csdn.net/luoluonuoyasuolong/article/details/128999527">æˆ³è¿™é‡Œ:0</a></p><h3 id="2-ROSå®‰è£…çš„è¶…å¿«é€Ÿæ–¹æ³•-é±¼é¦™ROS"><a href="#2-ROSå®‰è£…çš„è¶…å¿«é€Ÿæ–¹æ³•-é±¼é¦™ROS" class="headerlink" title="2. ROSå®‰è£…çš„è¶…å¿«é€Ÿæ–¹æ³• -&gt; é±¼é¦™ROS"></a>2. ROSå®‰è£…çš„è¶…å¿«é€Ÿæ–¹æ³• -&gt; é±¼é¦™ROS</h3><p>è¿™ä¸ªæ˜¯æœ€æ‡’äººçš„å®‰è£…æ–¹æ³•äº†ï¼Œè®©æˆ‘ä»¬é½è¯´æ„Ÿè°¢å¤§ä½¬-&gt;<a href="https://blog.csdn.net/m0_73745340/article/details/135281023">æ•™ç¨‹æˆ³è¿™é‡Œ:)</a></p><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><ul><li>æ„Ÿè°¢ä»¥ä¸Šæ•™ç¨‹çš„å„ä½å‘å¸ƒè€…ï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>ROS</tag>
      
      <tag>SLAM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ ‘è“æ´¾ã€‘YOLOv5å®æ—¶è¯†åˆ«loopyå…¨æµç¨‹ğŸ˜’</title>
    <link href="/2024/06/19/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/"/>
    <url>/2024/06/19/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€æ ‘è“æ´¾ã€‘YOLOv5å®æ—¶è¯†åˆ«loopyå…¨æµç¨‹ğŸ˜’"><a href="#ã€æ ‘è“æ´¾ã€‘YOLOv5å®æ—¶è¯†åˆ«loopyå…¨æµç¨‹ğŸ˜’" class="headerlink" title="ã€æ ‘è“æ´¾ã€‘YOLOv5å®æ—¶è¯†åˆ«loopyå…¨æµç¨‹ğŸ˜’"></a>ã€æ ‘è“æ´¾ã€‘YOLOv5å®æ—¶è¯†åˆ«loopyå…¨æµç¨‹ğŸ˜’</h3><h3 id="ã€Raspberry-PIã€‘-YOLOv5-identifies-the-loopy-in-real-time"><a href="#ã€Raspberry-PIã€‘-YOLOv5-identifies-the-loopy-in-real-time" class="headerlink" title="ã€Raspberry PIã€‘ YOLOv5 identifies the loopy in real time"></a>ã€Raspberry PIã€‘ YOLOv5 identifies the loopy in real time</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/loopy1.jpg"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8YOLOv5%E5%AE%9E%E6%97%B6%E8%AF%86%E5%88%ABloopy%E5%85%A8%E6%B5%81%E7%A8%8B/loopy2.jpg"></p><hr><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><blockquote><ul><li>PCï¼šWin11, GTX3060(4GB)</li><li>ç¡¬ä»¶ï¼šRaspberry Pi 4B</li><li>æ‘„åƒå¤´ï¼šä¸­æ˜Ÿå¾®æ‘„åƒå¤´ï¼ˆå‹å·ï¼šUSB301PLï¼‰</li><li>é•œåƒç‰ˆæœ¬ï¼š2022-09-22-raspios-bullseye-arm64.img</li><li>æ ‘è“æ´¾Pythonç‰ˆæœ¬ï¼š<code>3.9.2</code></li></ul></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯·æå‰ç¡®è®¤æ‘„åƒå¤´å’ŒOpenCVæ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹æˆ‘ä»å‰çš„æ–‡ç« <code>ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨</code>ã€‚</p><h2 id="æ–‡ä»¶æ ‘"><a href="#æ–‡ä»¶æ ‘" class="headerlink" title="æ–‡ä»¶æ ‘"></a>æ–‡ä»¶æ ‘</h2><ul><li>å…³è”çš„Githubä»“åº“<a href="https://github.com/ZhangKeLiang0627/YOLOv5-loopy-RaspberryPi">æˆ³è¿™é‡Œ</a>ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">RaspberryPiDeployYOLOv5/<br>â”œâ”€1.yolov5ForTrain <span class="hljs-comment"># ç”¨äºPCç«¯è¿›è¡Œæ¨¡å‹è®­ç»ƒ</span><br>â””â”€2.yolov5ForDetect <span class="hljs-comment"># ç”¨äºæ ‘è“æ´¾è¿›è¡Œå®æ—¶æ¨ç†</span><br></code></pre></td></tr></table></figure></li></ul><hr><h2 id="ä¸€ã€å‡†å¤‡è¿åŠ¨"><a href="#ä¸€ã€å‡†å¤‡è¿åŠ¨" class="headerlink" title="ä¸€ã€å‡†å¤‡è¿åŠ¨"></a>ä¸€ã€å‡†å¤‡è¿åŠ¨</h2><h2 id="1-å¯¹æ ‘è“æ´¾"><a href="#1-å¯¹æ ‘è“æ´¾" class="headerlink" title="1. å¯¹æ ‘è“æ´¾"></a>1. å¯¹æ ‘è“æ´¾</h2><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><ol><li><p>Pytorch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…torch</span><br>pip install torch==1.8.1<br><span class="hljs-comment"># å®‰è£…torchvision</span><br>pip install torchvision==0.9.1<br></code></pre></td></tr></table></figure></li><li><p>YOLOv5</p></li></ol><ul><li><a href="https://github.com/ZhangKeLiang0627/YOLOv5-loopy-RaspberryPi">æˆ³è¿™é‡Œ:)</a>ä¸‹è½½YOLOv5çš„ä¾èµ–ï¼Œè¿™æ˜¯å·²ç»æ•´ç†å¥½é€‚é…æ­¤Pythonç‰ˆæœ¬æ ‘è“æ´¾çš„åŒ…ã€‚</li><li>å°†ä¸‹è½½å®Œçš„<code>yolov5-master.zip</code>æ”¾åˆ°æ ‘è“æ´¾æ–‡ä»¶è·¯å¾„<code>home/pi/Download/</code>ä¸­ï¼Œå¹¶è¾“å…¥å‘½ä»¤<code>unzip yolov5-master.zip</code>å°†å‹ç¼©åŒ…è§£å‹åˆ°å½“å‰ç›®å½•ã€‚</li><li>è§£å‹å®Œæˆåï¼Œ<code>cd yolov5-master/</code>è¿›å…¥æ–‡ä»¶å¤¹ã€‚</li><li>ä½¿ç”¨å‘½ä»¤<code>pip install -r requirement.txt</code>å®‰è£…ä¾èµ–ï¼Œæ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œæœ€ç»ˆçœ‹è§<code>Successfully</code>ç±»ä¼¼å­—æ ·åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</li></ul><h3 id="è¿è¡Œç¤ºä¾‹"><a href="#è¿è¡Œç¤ºä¾‹" class="headerlink" title="è¿è¡Œç¤ºä¾‹"></a>è¿è¡Œç¤ºä¾‹</h3><ul><li>ä¸‹è½½ï¼š<a href="https://github.com/ZhangKeLiang0627/YOLOv5-loopy-RaspberryPi">æˆ³è¿™é‡Œ:)</a>ä¸‹è½½<code>yolov5s.pt</code>ï¼Œè¿™æ˜¯YOLOv5çš„é¢„è®­ç»ƒæƒé‡æ–‡ä»¶ï¼Œåç»­å°†ä½¿ç”¨æ­¤æ¨¡å‹æ¥è¿›è¡Œç¤ºä¾‹æµ‹è¯•ã€‚</li><li>æ–‡ä»¶ä¼ è¾“ï¼šå°†æ­¤æ¨¡å‹å¤åˆ¶åˆ°ä¹‹å‰è§£å‹å¥½çš„<code>yolov5-master</code>æ–‡ä»¶å¤¹å½“ä¸­ã€‚</li><li>è¿è¡Œä»£ç ï¼šåœ¨<code>yolov5-master</code>æ–‡ä»¶å¤¹ä¸­ï¼Œè¿è¡Œå‘½ä»¤<code>python detect.py</code>ï¼Œå€˜è‹¥å‡ºç°<code>Results saved to run/detect/expX</code>ï¼Œä»£è¡¨ä»£ç æ‰§è¡ŒæˆåŠŸï¼Œä½ å¯ä»¥å‰å¾€æ­¤è·¯å¾„æŸ¥çœ‹é¢„æµ‹ç»“æœå›¾ç‰‡ã€‚</li></ul><h2 id="2-å¯¹Windowsç«¯PC"><a href="#2-å¯¹Windowsç«¯PC" class="headerlink" title="2. å¯¹Windowsç«¯PC"></a>2. å¯¹Windowsç«¯PC</h2><h3 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda create -n yolov5_60 python=3.8<br><br>conda activate yolov5_60<br></code></pre></td></tr></table></figure><h3 id="å®‰è£…ä¾èµ–-1"><a href="#å®‰è£…ä¾èµ–-1" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><ol><li><p>Pytorch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118<br></code></pre></td></tr></table></figure></li><li><p>YOLOv5</p></li></ol><ul><li><a href="https://github.com/ZhangKeLiang0627/YOLOv5-loopy-RaspberryPi">æˆ³è¿™é‡Œ:)</a>ä¸‹è½½YOLOv5çš„ä¾èµ–ï¼Œè¿™æ˜¯åœ¨PCç«¯è®­ç»ƒä½¿ç”¨çš„åŒ…ï¼Œæ­¤åŒ…ä¸­å·²ç»å«æœ‰<code>yolov5s.pt</code>ã€‚</li><li>è§£å‹å®Œæˆåï¼Œè¿›å…¥æ–‡ä»¶å¤¹ã€‚</li><li>ä½¿ç”¨å‘½ä»¤<code>pip install -r requirement.txt</code>å®‰è£…ä¾èµ–ï¼Œæ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œæœ€ç»ˆçœ‹è§<code>Successfully</code>ç±»ä¼¼å­—æ ·åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚å‘ç”ŸæŠ¥é”™ä¸è¦ç´§ï¼Œè¦æ˜¯æ¨¡å—æ²¡æœ‰å½“å‰çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°±æŒ‘ä¸€ä¸ªç¨å¾®é è¿‘çš„ç‰ˆæœ¬å°±è¡Œã€‚</li><li>è®­ç»ƒæ¨¡å‹ï¼š<code>train.py</code>ä¸­çš„å‚æ•°å·²ç»æ‰‹åŠ¨è¿›è¡Œä¿®æ”¹ï¼Œä½¿ç”¨å‘½ä»¤<code>python train.py</code>ï¼Œè®­ç»ƒå®Œæˆä¼šåœ¨<code>runs/train/expX/weight</code>ä¸­ç”Ÿæˆè®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å°†<code>test.pt</code>æ‰”åˆ°æ ‘è“æ´¾è§£å‹åçš„æ–‡ä»¶å¤¹ä¸­å³å¯ã€‚</li></ul><blockquote><p>å¸¸è§æŠ¥é”™</p><ul><li>æŠ¥é”™ï¼šRuntimeError: result type Float canâ€™t be cast to the desired output type __int64 -&gt; <a href="https://blog.csdn.net/qq_43573527/article/details/132963466">è§£å†³æ–¹æ³•</a></li><li>æŠ¥é”™ï¼šcacheæ–‡ä»¶å·²å­˜åœ¨ -&gt; è§£å†³æ–¹æ³•ï¼šå‰å¾€<code>data/loopy/labels</code>åˆ é™¤æ‰€æœ‰æ–‡ä»¶åç¼€<code>.cache</code>çš„æ–‡ä»¶å³å¯ã€‚</li></ul></blockquote><hr><h2 id="äºŒã€æ¨ç†è¿åŠ¨"><a href="#äºŒã€æ¨ç†è¿åŠ¨" class="headerlink" title="äºŒã€æ¨ç†è¿åŠ¨"></a>äºŒã€æ¨ç†è¿åŠ¨</h2><h3 id="1-å¯¹æ ‘è“æ´¾-1"><a href="#1-å¯¹æ ‘è“æ´¾-1" class="headerlink" title="1. å¯¹æ ‘è“æ´¾"></a>1. å¯¹æ ‘è“æ´¾</h3><p><code>cd home/pi/Download/yolov5-master/</code>ï¼Œè¾“å…¥å‘½ä»¤<code>python3 detect.py --weight best_loopy.pt --source 0</code>ï¼Œæ³¨æ„<code>best_loopy.pt</code>å³ä¸ºæˆ‘ä»¬åœ¨PCç«¯è®­ç»ƒå¥½çš„æ¨¡å‹ï¼<code>--source 0</code>è¡¨ç¤ºä½¿ç”¨æ‘„åƒå¤´å®æ—¶è¿›è¡Œè¯†åˆ«ã€‚</p><h3 id="2-å¯¹PCç«¯"><a href="#2-å¯¹PCç«¯" class="headerlink" title="2. å¯¹PCç«¯"></a>2. å¯¹PCç«¯</h3><p><code>python detect.py --weight best_loopy.pt --source 0</code></p><hr><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><ul><li>å¯å¯çˆ±çˆ±çš„loopyæ¥è‡ªè¿™é‡Œ<a href="https://github.com/ZhangKeLiang0627/YOLOv8-loopy">æ•°æ®é›†æ¥æº</a>ã€‚</li><li>å…³è”çš„Githubä»“åº“<a href="https://github.com/ZhangKeLiang0627/YOLOv5-loopy-RaspberryPi">æˆ³è¿™é‡Œ</a>ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>RaspberryPi</tag>
      
      <tag>OpenCV</tag>
      
      <tag>YOLOv5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨</title>
    <link href="/2024/06/17/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84OpenCV%E7%9A%84%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84OpenCV%E7%9A%84%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/06/17/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84OpenCV%E7%9A%84%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84OpenCV%E7%9A%84%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨"><a href="#ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨"></a>ã€æ ‘è“æ´¾ã€‘OpenCVçš„ç¯å¢ƒå®‰è£…ä¸åŸºæœ¬ä½¿ç”¨</h3><h3 id="ã€Raspberry-PIã€‘-OpenCV-environment-installation-and-basical-usage"><a href="#ã€Raspberry-PIã€‘-OpenCV-environment-installation-and-basical-usage" class="headerlink" title="ã€Raspberry PIã€‘ OpenCV environment installation and basical usage"></a>ã€Raspberry PIã€‘ OpenCV environment installation and basical usage</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><hr><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><blockquote><ul><li>ç¡¬ä»¶ï¼šRaspberry Pi 4B</li><li>æ‘„åƒå¤´ï¼šä¸­æ˜Ÿå¾®æ‘„åƒå¤´ï¼ˆå‹å·ï¼šUSB301PLï¼‰</li><li>é•œåƒç‰ˆæœ¬ï¼š2022-09-22-raspios-bullseye-arm64.img</li><li>Pythonç‰ˆæœ¬ï¼š<code>3.9.2</code></li></ul></blockquote><hr><h2 id="æ‘„åƒå¤´å®‰è£…"><a href="#æ‘„åƒå¤´å®‰è£…" class="headerlink" title="æ‘„åƒå¤´å®‰è£…"></a>æ‘„åƒå¤´å®‰è£…</h2><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯æŸå®éšä¾¿æ·˜æ¥çš„<strong>linuxå…é©±åŠ¨USBæ‘„åƒå¤´</strong>ï¼Œä¸‹é¢è®²è§£å‡ ä¸ªå®‰è£…æ‘„åƒå¤´æ—¶çš„æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å…ˆå°†æ‘„åƒå¤´è¿æ¥ä¸Šæ ‘è“æ´¾ï¼Œå†å°†æ ‘è“æ´¾ä¸Šç”µå¼€æœºï¼Œä¸ç„¶æ ‘è“æ´¾æ— æ³•è¯†åˆ«è®¾å¤‡ã€‚</li><li>è¾“å…¥<code>lsusb</code>å‘½ä»¤æŸ¥çœ‹å½“å‰çš„USBæ€»çº¿ä¸Šé¢æœ‰æ²¡æœ‰æŒ‚è½½Cameraå­—æ ·çš„è®¾å¤‡ï¼Œå¦‚æœæœ‰å°±è¯´æ˜æ‘„åƒå¤´è¿æ¥æˆåŠŸäº†ã€‚</li><li>å¦‚æœä¸æ˜¯USBæ‘„åƒå¤´ï¼Œå¯ä»¥è¾“å…¥<code>ls /dev/video*</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰<code>/dev/video0</code>è®¾å¤‡ã€‚å¦‚æœè®¾å¤‡å­˜åœ¨ï¼Œåˆ™è¯´æ˜æ‘„åƒå¤´æŒ‚è½½æˆåŠŸã€‚</li></ul><h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a>ç¯å¢ƒå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å®‰è£…opencv</span><br>pip install opencv-python<br><br><span class="hljs-comment"># ç”±äºopencvåªæ”¯æŒ numpy v1.x ç‰ˆæœ¬</span><br><span class="hljs-comment"># è¿™é‡Œè¿›è¡Œnumpyç‰ˆæœ¬çš„ç»Ÿä¸€</span><br>pip install numpy==1.19.3<br></code></pre></td></tr></table></figure><h2 id="ç¯å¢ƒéªŒè¯"><a href="#ç¯å¢ƒéªŒè¯" class="headerlink" title="ç¯å¢ƒéªŒè¯"></a>ç¯å¢ƒéªŒè¯</h2><ol><li><p>ä½¿ç”¨å‘½ä»¤è¡Œ<code>python3</code>ï¼Œæ‰“å¼€Pythonäº¤äº’æ¨¡å¼ã€‚</p></li><li><p>åœ¨Pythonäº¤äº’æ¨¡å¼ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¯¹cv2æ¨¡å—è¿›è¡ŒéªŒè¯ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™å¹¶æ˜¾ç¤ºå‡ºå½“å‰çš„cv2ç‰ˆæœ¬åˆ™ç¯å¢ƒå·²ç»å®‰è£…æˆåŠŸã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2<br><br>cv2.__version__<br></code></pre></td></tr></table></figure></li><li><p>åœ¨è·¯å¾„ <code>/home/pi/Downloads</code> åˆ›å»ºä¸€ä¸ª<code>testCV2.py</code>æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä¸‹æ–¹ä»£ç ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2<br>cap = cv2.VideoCapture(<span class="hljs-number">0</span>)  <span class="hljs-comment"># è°ƒç”¨æ‘„åƒå¤´â€˜0â€™ä¸€èˆ¬æ˜¯æ‰“å¼€ç”µè„‘è‡ªå¸¦æ‘„åƒå¤´ï¼Œâ€˜1â€™æ˜¯æ‰“å¼€å¤–éƒ¨æ‘„åƒå¤´ï¼ˆåªæœ‰ä¸€ä¸ªæ‘„åƒå¤´çš„æƒ…å†µï¼‰</span><br>width = <span class="hljs-number">1280</span><br>height = <span class="hljs-number">960</span><br>cap.<span class="hljs-built_in">set</span>(cv2.CAP_PROP_FRAME_WIDTH, width)  <span class="hljs-comment"># è®¾ç½®å›¾åƒå®½åº¦</span><br>cap.<span class="hljs-built_in">set</span>(cv2.CAP_PROP_FRAME_HEIGHT, height)  <span class="hljs-comment"># è®¾ç½®å›¾åƒé«˜åº¦</span><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾åƒ</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>: <br>    ret, frame = cap.read()  <span class="hljs-comment"># è¯»å–å›¾åƒ(frameå°±æ˜¯è¯»å–çš„è§†é¢‘å¸§ï¼Œå¯¹frameå¤„ç†å°±æ˜¯å¯¹æ•´ä¸ªè§†é¢‘çš„å¤„ç†)</span><br>    <span class="hljs-comment"># print(ret)</span><br>    <span class="hljs-comment"># ä¾‹å¦‚å°†å›¾åƒç°åº¦åŒ–å¤„ç†</span><br>    img=cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)  <span class="hljs-comment"># è½¬ç°åº¦å›¾</span><br>    <br>    cv2.imshow(<span class="hljs-string">&quot;img&quot;</span>, img)<br>    <span class="hljs-comment"># å›¾åƒä¸å¤„ç†çš„æƒ…å†µ</span><br>    cv2.imshow(<span class="hljs-string">&quot;frame&quot;</span>, frame)    <br> <br>    input_str = cv2.waitKey(<span class="hljs-number">20</span>)<br>    <span class="hljs-keyword">if</span> input_str == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;q&#x27;</span>):  <span class="hljs-comment"># å¦‚è¿‡è¾“å…¥çš„æ˜¯qå°±breakï¼Œç»“æŸå›¾åƒæ˜¾ç¤ºï¼Œé¼ æ ‡ç‚¹å‡»è§†é¢‘ç”»é¢è¾“å…¥å­—ç¬¦</span><br>        <span class="hljs-keyword">break</span><br>    <br>cap.release()  <span class="hljs-comment"># é‡Šæ”¾æ‘„åƒå¤´</span><br>cv2.destroyAllWindows()  <span class="hljs-comment"># é”€æ¯çª—å£</span><br></code></pre></td></tr></table></figure></li><li><p>æœ€ååœ¨<strong>VNCè¿œç¨‹ç™»å½•æ¨¡å¼</strong>æˆ–è€…åœ¨<strong>æ ‘è“æ´¾å›¾å½¢ç•Œé¢æ“ä½œç³»ç»Ÿ</strong>ä¸‹ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æŒ‡ä»¤<code>cd /home/pi/Downloads/</code>ï¼Œæ¥ç€æ‰§è¡ŒæŒ‡ä»¤<code>python3 testCV2.py</code>ã€‚å¹¸è¿çš„è¯ï¼Œä½ ä¼šçœ‹åˆ°æ‘„åƒå¤´æ•æ‰åˆ°çš„åŸç”»é¢å’Œç»è¿‡å¤„ç†çš„ç°åº¦ç”»é¢ä¸¤ä¸ªçª—å£ï¼ŒæŒ‰ä¸‹<code>q</code>é”®å³å¯é€€å‡ºä»£ç ç¨‹åºã€‚åˆ°è¿™é‡ŒOpenCVçš„ç¯å¢ƒå®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨å°±å®Œæˆå•¦ï¼</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>RaspberryPi</tag>
      
      <tag>OpenCV</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ</title>
    <link href="/2024/03/26/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/README/"/>
    <url>/2024/03/26/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/README/</url>
    
    <content type="html"><![CDATA[<h1 id="ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ"><a href="#ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ" class="headerlink" title="ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ"></a>ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ</h1><h2 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h2><hr><h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><p>ä½¿ç”¨ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆï¼Œå…¶å®æ˜¯ä¸ºæˆ‘åé¢çš„æŸä¸ªå°é¡¹ç›®åšé“ºå«å•¦ï¼è¿™é‡Œè®°å½•ä¸€ä¸‹å®ç°çš„è¿‡ç¨‹ã€‚</p><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>ä¸»æ§ï¼šESP32S3N16R8</li><li>å¹³å°ï¼šArduino + PlatformIO + VScode</li></ul><h2 id="äºŒã€æ­¥éª¤"><a href="#äºŒã€æ­¥éª¤" class="headerlink" title="äºŒã€æ­¥éª¤"></a>äºŒã€æ­¥éª¤</h2><blockquote><p>å¤§éƒ¨åˆ†å†…å®¹éƒ½å’Œè¯­éŸ³è¯†åˆ«é‚£è¶´å·®ä¸å¤šï¼Œç™¾åº¦çš„è¯­éŸ³è¯†åˆ«å’Œè¯­éŸ³åˆæˆæ˜¯å…±ç”¨åŒä¸€ä¸ªåº”ç”¨çš„ï¼Œå¦‚æœåˆ›å»ºè¿‡äº†å°±ç›´æ¥ä½¿ç”¨ç›¸åŒçš„å°±è¡Œï¼Œå¯†é’¥å’Œtokenéƒ½æ˜¯å…±ç”¨çš„ï¼Œæˆ‘å°±ç›´æ¥æ¬è¿‡æ¥äº†ï¼Œåªæœ‰åœ¨POSTçš„æ—¶å€™ç¨å¾®æœ‰äº›åŒºåˆ«ï¼Œæˆ‘ä¹Ÿè´´å‡ºäº†å…·ä½“çš„ä»£ç å’Œç¤ºä¾‹ã€‚</p></blockquote><ol><li>åœ¨ç™¾åº¦æ™ºèƒ½äº‘æ§åˆ¶ç«¯é€‰æ‹©<code>è¯­éŸ³æŠ€æœ¯</code>å¹¶åˆ›å»ºåº”ç”¨è·å–<code>API Key</code>å’Œ<code>Secret Key</code></li><li>æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„<code>API Key</code>å’Œ<code>Secret Key</code>æ¥è·å–<code>access_token</code></li><li>åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API</li></ol><h2 id="ä¸‰ã€å®ç°"><a href="#ä¸‰ã€å®ç°" class="headerlink" title="ä¸‰ã€å®ç°"></a>ä¸‰ã€å®ç°</h2><h3 id="1-åˆ›å»ºè¯­éŸ³åˆæˆåº”ç”¨"><a href="#1-åˆ›å»ºè¯­éŸ³åˆæˆåº”ç”¨" class="headerlink" title="1. åˆ›å»ºè¯­éŸ³åˆæˆåº”ç”¨"></a>1. åˆ›å»ºè¯­éŸ³åˆæˆåº”ç”¨</h3><p>ç™»å½•ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘è´¦å·ï¼Œé€‰æ‹©è¯­éŸ³è¯†åˆ«ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚<strong>ï¼ˆæ³¨æ„ï¼šåˆ†æ¸…æ¥šç™¾åº¦è´¦å·è¿˜æ˜¯äº‘è´¦å·ï¼Œè¿™ä¸¤ä¸ªä¸ä¸€æ ·çš„ï¼‰</strong><br>ç™¾åº¦æ™ºèƒ½äº‘ï¼š<a href="https://login.bce.baidu.com/?redirect=https://console.bce.baidu.com/ai/#/ai/speech/app/list">https://login.bce.baidu.com/?redirect=https%3A%2F%2Fconsole.bce.baidu.com%2Fai%2F#/ai/speech/app/list</a></p><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ/image.png) --><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ/image-1.png) --><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/image.png"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/image-1.png"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/image-2.png"></p><h3 id="2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token"><a href="#2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token" class="headerlink" title="2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API Keyå’ŒSecret Keyæ¥è·å–access_token"></a>2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API Keyå’ŒSecret Keyæ¥è·å–access_token</h3><p>åˆ›å»ºå¥½åº”ç”¨ï¼Œåœ¨åº”ç”¨åˆ—è¡¨é‡Œä¼šå‡ºç°ä½ åˆšåˆšåˆ›å»ºçš„åº”ç”¨ï¼Œå½“ç„¶<code>API Key</code>å’Œ<code>Secret Key</code>ä¹Ÿæœ‰å•¦</p><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ/image-3.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/image-3.png"></p><p>æœ‰äº†<code>API Key</code>å’Œ<code>Secret Key</code>ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥åœ¨ESP32S3ä¸Šè¿›è¡ŒGETè¯·æ±‚å¾—åˆ°access_tokençš„ä»£ç ï¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/* è·å–token */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">gainToken</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>   </span><br><span class="hljs-function"></span>&#123;<br>    HTTPClient http_client; <span class="hljs-comment">// #include &lt;HTTPClient.h&gt;</span><br>    <span class="hljs-comment">//æ³¨æ„ï¼Œè¦æŠŠä¸‹é¢ç½‘å€ä¸­çš„your_apikeyå’Œyour_secretkeyæ›¿æ¢æˆè‡ªå·±çš„API Keyå’ŒSecret Key</span><br>    http_client.<span class="hljs-built_in">begin</span>(<span class="hljs-string">&quot;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id=your_apikey&amp;client_secret=your_secretkey&quot;</span>);<br>    <span class="hljs-type">int</span> httpResponseCode = http_client.<span class="hljs-built_in">GET</span>();<br><br>    <span class="hljs-keyword">if</span>(httpResponseCode == HTTP_CODE_OK)<br>    &#123;<br>        String response = http_client.<span class="hljs-built_in">getString</span>();<br>        Serial.<span class="hljs-built_in">println</span>(response);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[HTTP] GET... failed, error: %s\n&quot;</span>, http_client.<span class="hljs-built_in">errorToString</span>(httpResponseCode).<span class="hljs-built_in">c_str</span>());<br>    &#125;<br>    http_client.<span class="hljs-built_in">end</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯·æ±‚æˆåŠŸä¼šè¿”å›å¦‚ä¸‹æ•°æ®ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨<code>access_token</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;refresh_token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;25.b55fe1d287227ca97aab219bb249b8ab.315360000.1798284651.282335-8574074&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;expires_in&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2592000</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;public wise_adapt&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;session_key&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9mzdDZXu3dENdFZQurfg0Vz8slgSgvvOAUebNFzyzcpQ5EnbxbF+hfG9DQkpUVQdh4p6HbQcAiz5RmuBAja1JJGgIdJI&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;access_token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;24.6c5e1ff107f0e8bcef8c46d3424a0e78.2592000.1485516651.282335-8574074&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;session_secret&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dfac94a3489fe9fca7c3221cbf7525ff&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li><code>access_token</code>å¯¹åº”çš„å€¼å°±æ˜¯å¯ç”¨çš„tokenï¼Œæ¯æ¬¡ç”³è¯·çš„<code>token</code>æœ‰æ•ˆæœŸé™ä¸º30å¤©ï¼Œè¿‡æœŸå°±éœ€è¦é‡æ–°ç”³è¯·ã€‚æ‰€ä»¥å’±å®šæ—¶æ›´æ–°<code>access_token</code>å°±è¡Œï¼Œä¸ç”¨æ¯æ¬¡è°ƒç”¨è¯­éŸ³è¯†åˆ«æˆ–åˆæˆéƒ½ç”³è¯·ä¸€éã€‚</li></ul><h3 id="3-å‘é€æ–‡æœ¬æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³åˆæˆAPIä¸Š"><a href="#3-å‘é€æ–‡æœ¬æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³åˆæˆAPIä¸Š" class="headerlink" title="3. å‘é€æ–‡æœ¬æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³åˆæˆAPIä¸Š"></a>3. å‘é€æ–‡æœ¬æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³åˆæˆAPIä¸Š</h3><p>ä¸‹é¢æ˜¯æ•°æ®ä¸Šä¼ çš„æ ¼å¼è¯´æ˜ï¼š</p><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³åˆæˆ/image-4.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/image-4.png"></p><p>ä¸‹é¢æ˜¯ESP32S3çš„å…·ä½“å®ç°ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">char</span> payload[<span class="hljs-number">8000</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-comment">/* åœ¨çº¿è¯­éŸ³åˆæˆ */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">speechSynthesis</span><span class="hljs-params">(String inputText)</span></span><br><span class="hljs-function"></span>&#123;<br>  HTTPClient http_client;<br><br>  _LOG(<span class="hljs-string">&quot;[Synthesis] Start Synthesis!\r\n&quot;</span>);<br><br>  <span class="hljs-built_in">memset</span>(payload, <span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-built_in">strlen</span>(payload)); <span class="hljs-comment">// å°†æ•°ç»„æ¸…ç©º</span><br><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;tex=&quot;</span>); <span class="hljs-comment">// åˆæˆçš„æ–‡æœ¬ï¼ŒUTF-8ç¼–ç æ ¼å¼</span><br>  <span class="hljs-built_in">strcat</span>(payload, inputText.<span class="hljs-built_in">c_str</span>()); <span class="hljs-comment">// åˆæˆçš„æ–‡æœ¬ï¼ŒUTF-8ç¼–ç æ ¼å¼</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;lan=zh&quot;</span>); <span class="hljs-comment">// è¯­è¨€é€‰æ‹©ï¼Œç›®å‰åªæœ‰ä¸­è‹±æ–‡æ··åˆæ¨¡å¼ï¼Œå¡«å†™å›ºå®šå€¼zh</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;cuid=hugokkl&quot;</span>); <span class="hljs-comment">// è¯†åˆ«ç ï¼Œéšä¾¿å‡ ä¸ªå­—ç¬¦ï¼Œä½†æœ€å¥½å”¯ä¸€</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;ctp=1&quot;</span>); <span class="hljs-comment">// å®¢æˆ·ç«¯ç±»å‹é€‰æ‹©ï¼Œwebç«¯å¡«å†™å›ºå®šå€¼1</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;spd=7&quot;</span>); <span class="hljs-comment">// è¯­é€Ÿï¼Œå–å€¼0-15ï¼Œé»˜è®¤ä¸º5ä¸­è¯­é€Ÿ</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;pit=5&quot;</span>); <span class="hljs-comment">// éŸ³è°ƒï¼Œå–å€¼0-15ï¼Œé»˜è®¤ä¸º5ä¸­è¯­è°ƒ</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;vol=15&quot;</span>); <span class="hljs-comment">// éŸ³é‡ï¼ŒåŸºç¡€éŸ³åº“å–å€¼0-9ï¼Œç²¾å“éŸ³åº“å–å€¼0-15ï¼Œé»˜è®¤ä¸º5ä¸­éŸ³é‡</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;per=5118&quot;</span>); <span class="hljs-comment">// åŸºç¡€éŸ³åº“ï¼Œåº¦ä¸«ä¸«=4ï¼Œç²¾å“éŸ³åº“ï¼Œåº¦å°é¹¿=5118</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;aue=5&quot;</span>); <span class="hljs-comment">// 3ä¸ºmp3æ ¼å¼(é»˜è®¤)ï¼›4ä¸ºpcm-16kï¼›5ä¸ºpcm-8kï¼›6ä¸ºwavï¼ˆå†…å®¹åŒpcm-16kï¼‰</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&amp;tok=24.fc3481a177dfe90487fa0c3ce0892530.2592000.1713939400.282335-57684431&quot;</span>); <span class="hljs-comment">// access_token</span><br><br>  http_client.<span class="hljs-built_in">begin</span>(<span class="hljs-string">&quot;http://tsn.baidu.com/text2audio&quot;</span>);<br><br>  http_client.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-number">5000</span>); <span class="hljs-comment">// 5sè¶…æ—¶æ—¶é—´</span><br>  <span class="hljs-type">int</span> httpResponseCode = http_client.<span class="hljs-built_in">POST</span>(payload);<br><br>  <span class="hljs-keyword">if</span> (httpResponseCode == HTTP_CODE_OK)<br>  &#123;<br>    WiFiClient response;<br>    <span class="hljs-type">uint32_t</span> streamLength = http_client.<span class="hljs-built_in">getSize</span>();<br>    _LOG(<span class="hljs-string">&quot;streamSize:%d\r\n&quot;</span>, streamLength);<br><br>    response = http_client.<span class="hljs-built_in">getStream</span>();<br><br>    <span class="hljs-keyword">while</span> (!response.<span class="hljs-built_in">available</span>()) <span class="hljs-comment">// ç­‰å¾…æ•°æ®æµå¯è·å–</span><br>    &#123;<br>    &#125;<br><br>    streamLength = <span class="hljs-built_in">min</span>(streamLength, _samples * <span class="hljs-number">2</span>);<br><br>    response.<span class="hljs-built_in">readBytes</span>((<span class="hljs-type">char</span> *)_rawData, streamLength);<br><br>    Speaker.<span class="hljs-built_in">playRaw</span>((<span class="hljs-type">int16_t</span> *)_rawData, streamLength / <span class="hljs-number">2</span>, <span class="hljs-number">8000</span>);<br><br>    _LOG(<span class="hljs-string">&quot;[Synthesis] All done!\r\n&quot;</span>);<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    _LOG(<span class="hljs-string">&quot;[HTTP] GET... failed, error: %s\n&quot;</span>, http_client.<span class="hljs-built_in">errorToString</span>(httpResponseCode).<span class="hljs-built_in">c_str</span>());<br>  &#125;<br>  http_client.<span class="hljs-built_in">end</span>();<br><br>  _LOG(<span class="hljs-string">&quot;[Synthesis] Synthesis complete!\r\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ul><li>access_tokené»˜è®¤æœ‰æ•ˆæœŸ30å¤©ï¼Œå•ä½æ˜¯ç§’ï¼Œç”Ÿäº§ç¯å¢ƒæ³¨æ„åŠæ—¶åˆ·æ–°ã€‚åˆ·æ–°äº†æ—§çš„ä¹Ÿèƒ½ç”¨ï¼ˆåªè¦ä¸è¶…æ—¶ï¼‰</li></ul><h2 id="é¸£è°¢"><a href="#é¸£è°¢" class="headerlink" title="é¸£è°¢"></a>é¸£è°¢</h2><p>è¿™æ¬¡æ²¡çœ‹æ•™ç¨‹ï¼ˆä¸»è¦æ˜¯æè¯­éŸ³åˆæˆçš„æ•™ç¨‹æ¯”è¾ƒå°‘ï¼‰ã€‚æ‰€ä»¥ï¼æ„Ÿè°¢æˆ‘è‡ªå·±è¾›å‹¤çš„åŠ³ä½œğŸ˜‹</p>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ESP32</tag>
      
      <tag>è¯­éŸ³åˆæˆ</tag>
      
      <tag>Speaker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€</title>
    <link href="/2024/03/25/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/README/"/>
    <url>/2024/03/25/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/README/</url>
    
    <content type="html"><![CDATA[<h1 id="ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€"><a href="#ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€" class="headerlink" title="ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€"></a>ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€</h1><h2 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h2><hr><h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><p>ä½¿ç”¨ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€ï¼Œå…¶å®æ˜¯ä¸ºæˆ‘åé¢çš„æŸä¸ªå°é¡¹ç›®åšé“ºå«å•¦ï¼è¿™é‡Œè®°å½•ä¸€ä¸‹å®ç°çš„è¿‡ç¨‹ã€‚</p><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>ä¸»æ§ï¼šESP32S3N16R8</li><li>å¹³å°ï¼šArduino + PlatformIO + VScode</li></ul><h2 id="äºŒã€æ­¥éª¤"><a href="#äºŒã€æ­¥éª¤" class="headerlink" title="äºŒã€æ­¥éª¤"></a>äºŒã€æ­¥éª¤</h2><ol><li>åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘åƒå¸†æ§åˆ¶å°å¹¶åˆ›å»ºåº”ç”¨è·å–<code>API Key</code>å’Œ<code>Secret Key</code></li><li>æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„<code>API Key</code>å’Œ<code>Secret Key</code>æ¥è·å–<code>access_token</code></li><li>åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API</li></ol><h2 id="ä¸‰ã€å®ç°"><a href="#ä¸‰ã€å®ç°" class="headerlink" title="ä¸‰ã€å®ç°"></a>ä¸‰ã€å®ç°</h2><h3 id="1-åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘åƒå¸†æ§åˆ¶å°å¹¶åˆ›å»ºåº”ç”¨è·å–API-Keyå’ŒSecret-Key"><a href="#1-åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘åƒå¸†æ§åˆ¶å°å¹¶åˆ›å»ºåº”ç”¨è·å–API-Keyå’ŒSecret-Key" class="headerlink" title="1. åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘åƒå¸†æ§åˆ¶å°å¹¶åˆ›å»ºåº”ç”¨è·å–API Keyå’ŒSecret Key"></a>1. åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘åƒå¸†æ§åˆ¶å°å¹¶åˆ›å»ºåº”ç”¨è·å–<code>API Key</code>å’Œ<code>Secret Key</code></h3><p>é¦–å…ˆè¦ä½¿ç”¨äº‘è´¦å·ç™»å½•ç™¾åº¦æ™ºèƒ½äº‘ï¼Œç„¶åè¿›å…¥åƒå¸†å¤§æ¨¡å‹å¹³å°ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚<strong>ï¼ˆæ³¨æ„ï¼šåˆ†æ¸…æ¥šç™¾åº¦è´¦å·è¿˜æ˜¯äº‘è´¦å·ï¼Œè¿™ä¸¤ä¸ªä¸ä¸€æ ·çš„ï¼‰</strong></p><p>ç™¾åº¦æ™ºèƒ½äº‘åƒå¸†æ§åˆ¶å°ï¼š<a href="https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application">https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application</a></p><p>åˆ›å»ºæ–°åº”ç”¨ï¼š</p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image.png"></p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-1.png"></p><p>åˆ›å»ºå¥½åº”ç”¨ä»¥åå°±å¯ä»¥å¾—åˆ°<code>API Key</code>å’Œ<code>Secret Key</code>ï¼</p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-2.png"></p><h3 id="2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token"><a href="#2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token" class="headerlink" title="2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API Keyå’ŒSecret Keyæ¥è·å–access_token"></a>2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„<code>API Key</code>å’Œ<code>Secret Key</code>æ¥è·å–<code>access_token</code></h3><p>è¿›å…¥APIä»£ç è°ƒè¯•ç•Œé¢ï¼š</p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-3.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-3.png"></p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-4.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-4.png"></p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-5.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-5.png"></p><p>åº”ç”¨åˆ—è¡¨é€‰æ‹©è‡ªå·±åˆ›å»ºçš„ESP32S3æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹</p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-6.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-6.png"></p><p>è·å–<code>access_token</code></p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-7.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-7.png"></p><p>æŒ‡ä»¤æ ¼å¼ï¼š<code>&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:&quot;ä»‹ç»ä¸€ä¸‹åä¾¦æ¢æŸ¯å—è¿™éƒ¨åŠ¨ç”»&quot;</code></p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-8.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-8.png"></p><p>è°ƒè¯•ç»“æœå¦‚ä¸‹ï¼š</p><!-- ![](images/ESP32S3æ¥å…¥æ–‡å¿ƒä¸€è¨€/image-9.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/image-9.png"></p><h3 id="3-åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API"><a href="#3-åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API" class="headerlink" title="3. åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API"></a>3. åœ¨ESP32S3ä¸­å‘é€POSTè¯·æ±‚API</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs cpp">String apiERNIEbotUrl = <span class="hljs-string">&quot;https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions?access_token=xxxxxxxxx&quot;</span>; <span class="hljs-comment">// æŠŠç”³è¯·çš„access_tokenå¡«ä¸Šå»</span><br>String inputText = <span class="hljs-string">&quot;ä½ å¥½ï¼&quot;</span>;<br><br><span class="hljs-comment">/* æ–‡å¿ƒä¸€è¨€ */</span><br><span class="hljs-function">String <span class="hljs-title">getGPTResponse</span><span class="hljs-params">(String inputText)</span></span><br><span class="hljs-function"></span>&#123;<br>  HTTPClient http_client;<br><br>  http_client.<span class="hljs-built_in">begin</span>(apiERNIEbotUrl);<br>  http_client.<span class="hljs-built_in">addHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br><br>  http_client.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-number">20000</span>); <span class="hljs-comment">// 20sçš„è¶…æ—¶æ—¶é—´</span><br><br>  String payload = <span class="hljs-string">&quot;&#123;\&quot;messages\&quot;:[&#123;\&quot;role\&quot;: \&quot;user\&quot;,\&quot;content\&quot;: \&quot;&quot;</span> + inputText + <span class="hljs-string">&quot;\&quot;&#125;],\&quot;disable_search\&quot;: false,\&quot;enable_citation\&quot;: false&#125;&quot;</span>;<br><br>  <span class="hljs-type">int</span> httpResponseCode = http_client.<span class="hljs-built_in">POST</span>(payload);<br><br>  <span class="hljs-keyword">if</span> (httpResponseCode == HTTP_CODE_OK)<br>  &#123;<br>    String response = http_client.<span class="hljs-built_in">getString</span>();<br><br>    http_client.<span class="hljs-built_in">end</span>();<br>    _LOG(<span class="hljs-string">&quot;\r\n%s\r\n&quot;</span>, response.<span class="hljs-built_in">c_str</span>());<br><br>    <span class="hljs-comment">// Parse JSON response</span><br>    <span class="hljs-function">DynamicJsonDocument <span class="hljs-title">doc</span><span class="hljs-params">(<span class="hljs-number">2048</span>)</span></span>;<br>    <span class="hljs-built_in">deserializeJson</span>(doc, response);<br><br>    String outPutText = doc[<span class="hljs-string">&quot;result&quot;</span>];<br>    <span class="hljs-keyword">return</span> outPutText;<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    _LOG(<span class="hljs-string">&quot;[HTTP] GET... failed, error: %s\n&quot;</span>, http_client.<span class="hljs-built_in">errorToString</span>(httpResponseCode).<span class="hljs-built_in">c_str</span>());<br>    http_client.<span class="hljs-built_in">end</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[HTTP] GET... failed, error!&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æ„å¤–çš„é¡ºåˆ©è€¶ï¼YapiğŸ˜˜</p><ul><li>è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡å¿ƒä¸€è¨€çš„APIæ–°ç”¨æˆ·ç¬¬ä¸€ä¸ªæœˆå¯ä»¥è·å¾—ä¸€å¼ 20å…ƒçš„ä¼˜æƒ åˆ¸æœ‰æ•ˆæœŸ1ä¸ªæœˆï¼Œ1ä¸ªæœˆä»¥åå°±è¦ä»˜è´¹ä½¿ç”¨æ–‡å¿ƒä¸€è¨€å•¦ï¼</li><li>access_tokené»˜è®¤æœ‰æ•ˆæœŸ30å¤©ï¼Œå•ä½æ˜¯ç§’ï¼Œç”Ÿäº§ç¯å¢ƒæ³¨æ„åŠæ—¶åˆ·æ–°ã€‚åˆ·æ–°äº†æ—§çš„ä¹Ÿèƒ½ç”¨ï¼ˆåªè¦ä¸è¶…æ—¶ï¼‰</li></ul><h2 id="é¸£è°¢"><a href="#é¸£è°¢" class="headerlink" title="é¸£è°¢"></a>é¸£è°¢</h2><p>é¡¹ç›®æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/vor234/article/details/135372118">https://blog.csdn.net/vor234/article/details/135372118</a></p>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ESP32</tag>
      
      <tag>æ–‡å¿ƒä¸€è¨€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«</title>
    <link href="/2024/03/24/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/README/"/>
    <url>/2024/03/24/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/README/</url>
    
    <content type="html"><![CDATA[<h1 id="ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«"><a href="#ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«" class="headerlink" title="ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«"></a>ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«</h1><h2 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: kkl"></a>Author: kkl</h2><hr><h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><p>ä½¿ç”¨ESP32S3æ¥å…¥ç™¾åº¦æ™ºèƒ½äº‘å®ç°åœ¨çº¿è¯­éŸ³è¯†åˆ«ï¼Œè®°å½•ä¸­é—´é‡åˆ°çš„é—®é¢˜å’Œå®ç°æµç¨‹ã€‚</p><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>ä¸»æ§ï¼šESP32S3N16R8</li><li>å¹³å°ï¼šArduino + PlatformIO + VScode</li></ul><h2 id="äºŒã€æ­¥éª¤"><a href="#äºŒã€æ­¥éª¤" class="headerlink" title="äºŒã€æ­¥éª¤"></a>äºŒã€æ­¥éª¤</h2><ol><li>åœ¨ç™¾åº¦æ™ºèƒ½äº‘æ§åˆ¶ç«¯é€‰æ‹©<code>è¯­éŸ³è¯†åˆ«</code>å¹¶åˆ›å»ºåº”ç”¨è·å–<code>API Key</code>å’Œ<code>Secret Key</code></li><li>æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„<code>API Key</code>å’Œ<code>Secret Key</code>æ¥è·å–<code>access_token</code></li><li>é‡‡é›†éŸ³é¢‘æ•°æ®ï¼Œæ‰“åŒ…æ•°æ®ï¼Œé€šè¿‡httpåè®®å°†æ‰“åŒ…çš„æ•°æ®ï¼ˆpayloadï¼‰POSTè¯·æ±‚å‘é€è¯­éŸ³è¯†åˆ«çš„APIä¸Š</li><li>æ¥æ”¶è¿”å›çš„æ•°æ®ï¼ˆresponseï¼‰</li></ol><h2 id="ä¸‰ã€å®ç°"><a href="#ä¸‰ã€å®ç°" class="headerlink" title="ä¸‰ã€å®ç°"></a>ä¸‰ã€å®ç°</h2><h3 id="1-åˆ›å»ºè¯­éŸ³è¯†åˆ«åº”ç”¨"><a href="#1-åˆ›å»ºè¯­éŸ³è¯†åˆ«åº”ç”¨" class="headerlink" title="1. åˆ›å»ºè¯­éŸ³è¯†åˆ«åº”ç”¨"></a>1. åˆ›å»ºè¯­éŸ³è¯†åˆ«åº”ç”¨</h3><p>ç™»å½•ç™¾åº¦æ™ºèƒ½äº‘çš„äº‘è´¦å·ï¼Œé€‰æ‹©è¯­éŸ³è¯†åˆ«ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚<strong>ï¼ˆæ³¨æ„ï¼šåˆ†æ¸…æ¥šç™¾åº¦è´¦å·è¿˜æ˜¯äº‘è´¦å·ï¼Œè¿™ä¸¤ä¸ªä¸ä¸€æ ·çš„ï¼‰</strong><br>ç™¾åº¦æ™ºèƒ½äº‘ï¼š<a href="https://login.bce.baidu.com/?redirect=https://console.bce.baidu.com/ai/#/ai/speech/app/list">https://login.bce.baidu.com/?redirect=https%3A%2F%2Fconsole.bce.baidu.com%2Fai%2F#/ai/speech/app/list</a></p><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«/image.png) --><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«/image-1.png) --><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/image.png"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/image-1.png"><br><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/image-2.png"></p><h3 id="2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token"><a href="#2-æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API-Keyå’ŒSecret-Keyæ¥è·å–access-token" class="headerlink" title="2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API Keyå’ŒSecret Keyæ¥è·å–access_token"></a>2. æ ¹æ®åˆ›å»ºåº”ç”¨ç”Ÿæˆçš„API Keyå’ŒSecret Keyæ¥è·å–access_token</h3><p>åˆ›å»ºå¥½åº”ç”¨ï¼Œåœ¨åº”ç”¨åˆ—è¡¨é‡Œä¼šå‡ºç°ä½ åˆšåˆšåˆ›å»ºçš„åº”ç”¨ï¼Œå½“ç„¶<code>API Key</code>å’Œ<code>Secret Key</code>ä¹Ÿæœ‰å•¦</p><!-- ![](images/ESP32S3æ¥å…¥ç™¾åº¦åœ¨çº¿è¯­éŸ³è¯†åˆ«/image-3.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/ESP32S3%E6%8E%A5%E5%85%A5%E7%99%BE%E5%BA%A6%E5%9C%A8%E7%BA%BF%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/image-3.png"></p><p>æœ‰äº†<code>API Key</code>å’Œ<code>Secret Key</code>ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥åœ¨ESP32S3ä¸Šè¿›è¡ŒGETè¯·æ±‚å¾—åˆ°access_tokençš„ä»£ç ï¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/* è·å–token */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">gainToken</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>   </span><br><span class="hljs-function"></span>&#123;<br>    HTTPClient http_client; <span class="hljs-comment">// #include &lt;HTTPClient.h&gt;</span><br>    <span class="hljs-comment">//æ³¨æ„ï¼Œè¦æŠŠä¸‹é¢ç½‘å€ä¸­çš„your_apikeyå’Œyour_secretkeyæ›¿æ¢æˆè‡ªå·±çš„API Keyå’ŒSecret Key</span><br>    http_client.<span class="hljs-built_in">begin</span>(<span class="hljs-string">&quot;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id=your_apikey&amp;client_secret=your_secretkey&quot;</span>);<br>    <span class="hljs-type">int</span> httpResponseCode = http_client.<span class="hljs-built_in">GET</span>();<br><br>    <span class="hljs-keyword">if</span>(httpResponseCode == HTTP_CODE_OK)<br>    &#123;<br>        String response = http_client.<span class="hljs-built_in">getString</span>();<br>        Serial.<span class="hljs-built_in">println</span>(response);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[HTTP] GET... failed, error: %s\n&quot;</span>, http_client.<span class="hljs-built_in">errorToString</span>(httpResponseCode).<span class="hljs-built_in">c_str</span>());<br>    &#125;<br>    http_client.<span class="hljs-built_in">end</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯·æ±‚æˆåŠŸä¼šè¿”å›å¦‚ä¸‹æ•°æ®ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨<code>access_token</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;refresh_token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;25.b55fe1d287227ca97aab219bb249b8ab.315360000.1798284651.282335-8574074&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;expires_in&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2592000</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;public wise_adapt&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;session_key&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;9mzdDZXu3dENdFZQurfg0Vz8slgSgvvOAUebNFzyzcpQ5EnbxbF+hfG9DQkpUVQdh4p6HbQcAiz5RmuBAja1JJGgIdJI&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;access_token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;24.6c5e1ff107f0e8bcef8c46d3424a0e78.2592000.1485516651.282335-8574074&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;session_secret&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dfac94a3489fe9fca7c3221cbf7525ff&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li><code>access_token</code>å¯¹åº”çš„å€¼å°±æ˜¯å¯ç”¨çš„tokenï¼Œæ¯æ¬¡ç”³è¯·çš„<code>token</code>æœ‰æ•ˆæœŸé™ä¸º30å¤©ï¼Œè¿‡æœŸå°±éœ€è¦é‡æ–°ç”³è¯·ã€‚æ‰€ä»¥å’±å®šæ—¶æ›´æ–°<code>access_token</code>å°±è¡Œï¼Œä¸ç”¨æ¯æ¬¡è°ƒç”¨è¯­éŸ³è¯†åˆ«éƒ½ç”³è¯·ä¸€éã€‚</li></ul><h3 id="3-é‡‡é›†æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³è¯†åˆ«APIä¸Š"><a href="#3-é‡‡é›†æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³è¯†åˆ«APIä¸Š" class="headerlink" title="3. é‡‡é›†æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³è¯†åˆ«APIä¸Š"></a>3. é‡‡é›†æ•°æ®ï¼Œé€šè¿‡POSTè¯·æ±‚å‘é€åˆ°è¯­éŸ³è¯†åˆ«APIä¸Š</h3><p>æ•°æ®ä¸Šä¼ POSTçš„æ–¹å¼æœ‰ä¸¤ç§ï¼šJSONæ ¼å¼å’ŒRAWæ ¼å¼ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨JSONæ ¼å¼ï¼Œä¸‹å›¾ä¸ºJSONæ ¼å¼ä¸Šä¼ çš„ä¸€äº›å¿…è¦çš„å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th align="center">å­—æ®µå</th><th align="center">ç±»å‹</th><th align="center">å¯éœ€</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="center">format</td><td align="center">String</td><td align="center">å¿…å¡«</td><td align="left">è¯­éŸ³æ–‡ä»¶çš„æ ¼å¼ï¼Œpcm&#x2F;wav&#x2F;amr&#x2F;m4aã€‚ä¸åŒºåˆ†å¤§å°å†™ã€‚æ¨èpcmæ–‡ä»¶ï¼</td></tr><tr><td align="center">rate</td><td align="center">int</td><td align="center">å¿…å¡«</td><td align="left">é‡‡æ ·ç‡ï¼Œ16000ã€8000ï¼Œå›ºå®šå€¼</td></tr><tr><td align="center">channel</td><td align="center">int</td><td align="center">å¿…å¡«</td><td align="left">å£°é“æ•°ï¼Œä»…æ”¯æŒå•å£°é“ï¼Œè¯·å¡«å›ºå®šå€¼1</td></tr><tr><td align="center">cuid</td><td align="center">String</td><td align="center">å¿…å¡«</td><td align="left">ç”¨æˆ·å”¯ä¸€æ ‡è¯†ï¼Œç”¨æ¥åŒºåˆ†ç”¨æˆ·ï¼Œè®¡ç®—UVå€¼ã€‚å»ºè®®å¡«å†™èƒ½åŒºåˆ†ç”¨æˆ·çš„æœºå™¨MACåœ°å€æˆ–IMEIç ï¼Œé•¿åº¦ä¸º60å­—ç¬¦ä»¥å†…ã€‚</td></tr><tr><td align="center">token</td><td align="center">String</td><td align="center">å¿…å¡«</td><td align="left">å¼€æ”¾å¹³å°è·å–åˆ°çš„å¼€å‘è€…[access_token]</td></tr><tr><td align="center">dev_pid</td><td align="center">int</td><td align="center">é€‰å¡«</td><td align="left">ä¸å¡«å†™lanå‚æ•°ç”Ÿæ•ˆï¼Œéƒ½ä¸å¡«å†™å°±é»˜è®¤1537ï¼ˆæ™®é€šè¯ï¼Œè¾“å…¥æ³•æ¨¡å‹ï¼‰</td></tr><tr><td align="center">lm_id</td><td align="center">int</td><td align="center">é€‰å¡«</td><td align="left">è‡ªè®­ç»ƒå¹³å°æ¨¡å‹idï¼Œå¡«dev_id &#x3D; 8001 æˆ– 8002 ç”Ÿæ•ˆ</td></tr><tr><td align="center">lan</td><td align="center">String</td><td align="center">é€‰å¡«ï¼ŒåºŸå¼ƒå‚æ•°</td><td align="left">å†å²å…¼å®¹å‚æ•°ï¼Œå·²ä¸å†ä½¿ç”¨</td></tr><tr><td align="center">speech</td><td align="center">String</td><td align="center">å¿…å¡«</td><td align="left">æœ¬åœ°è¯­éŸ³æ–‡ä»¶çš„äºŒè¿›åˆ¶è¯­éŸ³æ•°æ®ï¼Œéœ€è¦è¿›è¡Œ base64 ç¼–ç ï¼Œä¸lenå‚æ•°ä¸€èµ·ä½¿ç”¨</td></tr><tr><td align="center">len</td><td align="center">int</td><td align="center">å¿…å¡«</td><td align="left">æœ¬åœ°è¯­éŸ³æ–‡ä»¶çš„å­—èŠ‚æ•°ï¼Œå•ä½æ˜¯å­—èŠ‚ï¼ˆbyteï¼‰</td></tr></tbody></table><p>å›¾ä¸­å¯¹æ•°æ®ç±»å‹å’Œå†…å®¹è¯´çš„å¾ˆæ˜ç¡®äº†ï¼Œåªéœ€è¦æŒ‰ç…§è¿™ä¸ªæ ¼å¼æ‰“åŒ…å¥½æ•°æ®ç„¶åå‘é€å°±è¡Œï¼Œä¸‹é¢æ˜¯ESP32S3çš„å…·ä½“å®ç°ä»£ç ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">char</span> payload[<span class="hljs-number">160000</span>];<br><br><span class="hljs-comment">/* åœ¨çº¿è¯­éŸ³è¯†åˆ« */</span><br><span class="hljs-function">String <span class="hljs-title">speechRecognition</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>  HTTPClient http_client; <span class="hljs-comment">// #include &lt;HTTPClient.h&gt;</span><br><br>  _LOG(<span class="hljs-string">&quot;[Recognition] Start recognition!\r\n&quot;</span>);<br><br>  result = Mic.<span class="hljs-built_in">record</span>(_rawData, _samples); <span class="hljs-comment">// å½•åˆ¶å£°éŸ³</span><br>  _LOG(<span class="hljs-string">&quot;[Mic] record:%s\r\n&quot;</span>, (result == <span class="hljs-literal">true</span> ? <span class="hljs-string">&quot;true&quot;</span> : <span class="hljs-string">&quot;false&quot;</span>));<br>  <span class="hljs-keyword">while</span> (Mic.<span class="hljs-built_in">isRecording</span>()); <span class="hljs-comment">// å½“å½•åˆ¶å®Œæˆæ—¶</span><br>  _LOG(<span class="hljs-string">&quot;[Mic] record is done!\r\n&quot;</span>);<br><br>  <span class="hljs-built_in">memset</span>(payload, <span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-built_in">strlen</span>(payload)); <span class="hljs-comment">// å°†æ•°ç»„æ¸…ç©º</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&#123;&quot;</span>);<br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;format\&quot;:\&quot;pcm\&quot;,&quot;</span>);<br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;rate\&quot;:16000,&quot;</span>); <span class="hljs-comment">// é‡‡æ ·ç‡ï¼Œå¦‚æœé‡‡æ ·ç‡æ”¹å˜äº†ï¼Œè®°å¾—ä¿®æ”¹è¯¥å€¼ï¼Œåªæœ‰16000ã€8000ä¸¤ä¸ªå›ºå®šé‡‡æ ·ç‡</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;dev_pid\&quot;:1537,&quot;</span>); <span class="hljs-comment">// ä¸­æ–‡æ™®é€šè¯</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;channel\&quot;:1,&quot;</span>); <span class="hljs-comment">// å•å£°é“</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;cuid\&quot;:\&quot;hugozkl\&quot;,&quot;</span>); <span class="hljs-comment">// è¯†åˆ«ç ï¼Œéšä¾¿æ‰“å‡ ä¸ªå­—ç¬¦ï¼Œä½†æœ€å¥½å”¯ä¸€</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;token\&quot;:\&quot;24.ba06cf95edb0b0aee7bfb016209e5948.2592000.1713715897.282335-57684431\&quot;,&quot;</span>); <span class="hljs-comment">// tokenï¼Œè¿™é‡Œéœ€è¦ä¿®æ”¹æˆè‡ªå·±ç”³è¯·åˆ°çš„token</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;len\&quot;:65536,&quot;</span>); <span class="hljs-comment">// æ•°æ®é•¿åº¦ï¼Œå¦‚æœä¼ è¾“çš„æ•°æ®é•¿åº¦æ”¹å˜äº†ï¼Œè®°å¾—ä¿®æ”¹è¯¥å€¼ï¼Œè¯¥å€¼æ˜¯ADCé‡‡é›†çš„æ•°æ®å­—èŠ‚æ•°ï¼Œä¸æ˜¯base64ç¼–ç åçš„é•¿åº¦</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;speech\&quot;:\&quot;&quot;</span>);<br>  <span class="hljs-built_in">strcat</span>(payload, base64::<span class="hljs-built_in">encode</span>((<span class="hljs-type">uint8_t</span> *)_rawData, <span class="hljs-number">65536</span>).<span class="hljs-built_in">c_str</span>()); <span class="hljs-comment">// base64ç¼–ç æ•°æ® // #include &quot;base64.h&quot;</span><br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;\&quot;&quot;</span>);<br>  <span class="hljs-built_in">strcat</span>(payload, <span class="hljs-string">&quot;&#125;&quot;</span>);<br><br>  <span class="hljs-comment">// HTTP POST</span><br>  <span class="hljs-type">int</span> httpResponseCode;<br>  http_client.<span class="hljs-built_in">begin</span>(<span class="hljs-string">&quot;http://vop.baidu.com/server_api&quot;</span>);<br>  http_client.<span class="hljs-built_in">addHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br>  http_client.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-number">5000</span>); <span class="hljs-comment">// 5sè¶…æ—¶æ—¶é—´</span><br>  httpResponseCode = http_client.<span class="hljs-built_in">POST</span>(payload);<br><br>  <span class="hljs-keyword">if</span> (httpResponseCode == HTTP_CODE_OK)<br>  &#123;<br>    String response = http_client.<span class="hljs-built_in">getString</span>();<br><br>    http_client.<span class="hljs-built_in">end</span>();<br>    _LOG(<span class="hljs-string">&quot;\r\n%s\r\n&quot;</span>, response.<span class="hljs-built_in">c_str</span>());<br><br>    <span class="hljs-comment">// Parse JSON response</span><br>    <span class="hljs-function">DynamicJsonDocument <span class="hljs-title">doc</span><span class="hljs-params">(<span class="hljs-number">2048</span>)</span></span>; <span class="hljs-comment">// #include &lt;ArduinoJson.h&gt;</span><br>    <span class="hljs-built_in">deserializeJson</span>(doc, response);<br><br>    String outPutText = doc[<span class="hljs-string">&quot;result&quot;</span>];<br>    <span class="hljs-comment">// å»æ‰é¦–å°¾çš„[&quot;&quot;]</span><br>    outPutText = outPutText.<span class="hljs-built_in">substring</span>(<span class="hljs-number">2</span>);<br>    outPutText = outPutText.<span class="hljs-built_in">substring</span>(<span class="hljs-number">0</span>, outPutText.<span class="hljs-built_in">length</span>() - <span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">return</span> outPutText;<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>  &#123;<br>    _LOG(<span class="hljs-string">&quot;[HTTP] GET... failed, error: %s\n&quot;</span>, http_client.<span class="hljs-built_in">errorToString</span>(httpResponseCode).<span class="hljs-built_in">c_str</span>());<br>    http_client.<span class="hljs-built_in">end</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;error&gt;&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>POSTå‘é€æ•°æ®æœ‰ä¸€ä¸ªå›ºå®šå¤´éƒ¨ï¼š<code>Content-Type:application/json</code>ï¼ŒPOSTå‰éœ€è¦è®¾ç½®ä¸€ä¸‹ï¼Œä»£ç ä¸­å·²ç»æœ‰å±•ç¤ºã€‚</p><h3 id="4-æ¥æ”¶æ•°æ®"><a href="#4-æ¥æ”¶æ•°æ®" class="headerlink" title="4. æ¥æ”¶æ•°æ®"></a>4. æ¥æ”¶æ•°æ®</h3><p>åœ¨ä¸Šä¸€æ­¥ä»£ç ä¸­å®ç°äº†æ¥æ”¶æ•°æ®ï¼Œè¿™é‡Œåˆ—ä¸€ä¸‹è¿”å›çš„æ•°æ®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;corpus_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;7349831540333925029&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_msg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;success.&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;result&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;ä½ å¥½ï¼Œä½ æ˜¯è°ï¼Ÿ&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;sn&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;593363272001711266008&quot;</span><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;corpus_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;7349831596084473860&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_msg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;success.&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;result&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;ç°åœ¨å¤šå°‘ç‚¹ï¼Ÿ&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;sn&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;671001951581711266021&quot;</span><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;corpus_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;7349831639168589351&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_msg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;success.&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;err_no&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;result&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;æ·±åœ³å¤©æ°”å¦‚ä½•ï¼Ÿ&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;sn&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;13152229661711266031&quot;</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li>æ•°æ®å‘é€æˆåŠŸåˆ™ä¼šè¿”å›æ­£ç¡®çš„è¯†åˆ«æ•°æ®ï¼Œå½“ç„¶å£°éŸ³ä¿¡å·ä¸å¥½æ—¶è¿”å›çš„è¯­éŸ³è¯†åˆ«ä¹Ÿä¼šä¸å‡†ç¡®ã€‚</li><li>è°¨è®°ï¼Œè¿”å›çš„è¯­éŸ³è¯†åˆ«ç»“æœæ˜¯<code>UTF-8</code>æ–¹å¼ç¼–ç ï¼Œæ‰€ä»¥ä»£ç çš„ç¼–ç æœ€å¥½ä¹Ÿæ”¹ä¸º<code>UTF-8</code>ç¼–ç æ ¼å¼ã€‚</li></ul><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><ul><li>ç™¾åº¦æ™ºèƒ½äº‘çš„è¯­éŸ³è¯†åˆ«æœåŠ¡æ˜¯å¯ä»¥å…è´¹é¢†å–åˆ°ä¸€å®šä½¿ç”¨æ¬¡æ•°çš„ï¼Œ15ä¸‡æ¬¡ï¼Œè¶³å¤Ÿæˆ‘ä»¬æµ‹è¯•ä½¿ç”¨ï¼Œè®°å¾—å¼€å§‹æµ‹è¯•å‰å…ˆé¢†å–ä¸€ä¸‹ï¼Œä¸ç„¶ä¼šå‡ºç°è¿”å›<code>æŠ¥é”™ï¼š&#123;&#39;err_msg&#39;: &#39;request pv too much&#39;, &#39;err_no&#39;: 3305, &#39;sn&#39;: &#39;876137091191590632079&#39; &#125;</code>ï¼ŒæŠ¥é”™åŸå› å¤šåŠæ˜¯å…è´¹æ¬¡æ•°æ²¡é¢†å–æˆ–è€…ç”¨å®Œäº†è¦å¼€é€šä»˜è´¹åŠŸèƒ½ã€‚</li></ul><h2 id="é¸£è°¢"><a href="#é¸£è°¢" class="headerlink" title="é¸£è°¢"></a>é¸£è°¢</h2><p>é¡¹ç›®æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/wojueburenshu/article/details/119244390">https://blog.csdn.net/wojueburenshu/article/details/119244390</a></p>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ESP32</tag>
      
      <tag>è¯­éŸ³è¯†åˆ«</tag>
      
      <tag>Mic</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨Lvglä¸­æ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡</title>
    <link href="/2024/03/21/Lvgl%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E7%89%87/README/"/>
    <url>/2024/03/21/Lvgl%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E7%89%87/README/</url>
    
    <content type="html"><![CDATA[<h1 id="åœ¨Lvglä¸­æ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡"><a href="#åœ¨Lvglä¸­æ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡" class="headerlink" title="åœ¨Lvglä¸­æ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡"></a>åœ¨Lvglä¸­æ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡</h1><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><hr><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>ä»…ä»…<strong>ä¿è¯</strong>å¯¹äº<code>X-TRACK</code>é¡¹ç›®çš„è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡çš„æœ‰æ•ˆä½¿ç”¨å“¦ï¼</p><hr><h2 id="Font-convert-å­—ä½“æ ¼å¼è½¬æ¢æˆ-cæ–‡ä»¶"><a href="#Font-convert-å­—ä½“æ ¼å¼è½¬æ¢æˆ-cæ–‡ä»¶" class="headerlink" title="Font convert - å­—ä½“æ ¼å¼è½¬æ¢æˆ.cæ–‡ä»¶"></a>Font convert - å­—ä½“æ ¼å¼è½¬æ¢æˆ.cæ–‡ä»¶</h2><h3 id="ç”Ÿæˆ"><a href="#ç”Ÿæˆ" class="headerlink" title="ç”Ÿæˆ"></a>ç”Ÿæˆ</h3><p>é¦–å…ˆæˆ‘ä»¬è¦è®¿é—®åˆ°Lvglå®˜æ–¹ç½‘ç«™ä¸Šçš„<strong>Online Font Converter</strong>.</p><p>ç½‘å€ï¼š<a href="https://lvgl.io/tools/fontconverter">https://lvgl.io/tools/fontconverter</a></p><p>ç„¶åæˆ‘ä»¬ä¼šçœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼</p><!-- ![](images/Lvglæ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡/image.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/Lvgl%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E7%89%87/image.png"></p><blockquote><ol><li>Name</li></ol></blockquote><p>å¡«å†™.cæ–‡ä»¶çš„åå­—ï¼Œå¦‚<code>font_smliey_36</code>ï¼Œ36è¡¨ç¤ºå­—å·å¤§å°ï¼Œè¿™æ ·å°±æ¸…æ™°æ˜äº†ï¼</p><blockquote><ol start="2"><li>Size</li></ol></blockquote><p>å¡«å†™å­—å·å¤§å°ï¼Œåˆšåˆšæˆ‘ä»¬åå­—å†™äº†<code>font_smliey_36</code>ï¼Œå­—å·æ˜¯36ï¼Œé‚£æˆ‘ä»¬è¿™é‡Œå°±å¡«å†™36pxçš„å­—å·å¤§å°ï¼Œç»Ÿä¸€æ ¼å¼è§„èŒƒã€‚</p><blockquote><ol start="3"><li>Bpp(bit-per-piel)</li></ol></blockquote><p>å¡«å†™Bppä¸º4ï¼Œè¿™ä¸ªå€¼ä¼šè®©å­—ä½“çœ‹èµ·æ¥æ›´é¡ºæ»‘è€Œä¸”å æ®çš„å†…å­˜ç©ºé—´ç›¸å¯¹ä¸å¤§ï¼ˆå¡«åˆ«çš„ä¹Ÿè¡Œï¼Œè‡ªå·±å°è¯•å¯¹æ¯”ä¸€ä¸‹</p><blockquote><ol start="4"><li>Fallback</li></ol></blockquote><p>è¿™é‡Œå¡«å†™å’ŒNameä¸€æ ·çš„<code>font_smliey_36</code>å°±è¡Œå•¦ï¼</p><blockquote><ol start="5"><li>ä¸‰ä¸ªé€‰é¡¹æ¡†éƒ½ä¸è¦å‹¾é€‰ï¼</li></ol></blockquote><p>ä¸ç„¶ç”Ÿæˆçš„å­—ä½“åœ¨<code>X-TRACK</code>æ²¡æ³•ç”¨ï¼</p><blockquote><ol start="6"><li>TTF&#x2F;WOFF file</li></ol></blockquote><p>åœ¨è¿™é‡Œé€‰æ‹©æˆ‘ä»¬å‡†å¤‡å¥½çš„å­—ä½“æ–‡ä»¶ï¼Œæ¨èç”¨<code>ttf</code>æ ¼å¼ã€‚</p><blockquote><ol start="7"><li>Range</li></ol></blockquote><p>è¿™é‡Œæ˜¯è®¾ç½®èŒƒå›´æ¥é€‰æ‹©ä½ çš„.cæ–‡ä»¶éœ€è¦åŒ…å«å“ªäº›æ–‡å­—ï¼ˆSymbolsï¼‰ï¼Œæˆ‘ä»¬ä¸ç”¨è¿™ä¸ªï¼Œè¿™é‡Œç©ºç€ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ä¸‹é¢çš„Symbolsæ é‡Œé¢å†™æˆ‘ä»¬éœ€è¦çš„å­—ã€‚</p><blockquote><ol start="8"><li>Symbols</li></ol></blockquote><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¡«å…¥å¸Œæœ›åœ¨Lvglé‡Œä½¿ç”¨çš„æ–‡å­—ï¼Œæ¯”æ–¹è¯´æˆ‘æƒ³è¦åœ¨Lvglé‡Œæ˜¾ç¤º<code>é¸¡ä½ å¤ªç¾</code>ï¼Œé‚£æˆ‘å°±éœ€è¦åœ¨è¿™ä¸ªæ é‡Œå¡«å…¥<code>é¸¡ä½ å¤ªç¾</code>ã€‚</p><blockquote><ol start="9"><li>ç‚¹å‡»çº¢è‰²çš„ConvertæŒ‰é’®ç­‰å¾….cæ–‡ä»¶çš„æ¸²æŸ“å’Œä¸‹è½½å³å¯ï¼</li></ol></blockquote><h3 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h3><p>é¦–å…ˆæ‰“å¼€åˆšåˆšç”Ÿæˆçš„.cæ–‡ä»¶ï¼Œå¦‚<code>font_smiley_36.c</code></p><ol><li>æ‰¾åˆ°æ³¨é‡Š<code>KERNING</code>å’Œæ³¨é‡Š<code>ALL CUSTOM DATA</code>ä¹‹é—´çš„ä¸€å¤§ä¸²ï¼Œæ³¨é‡Šæ‰æˆ–è€…åˆ æ‰ï¼</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// é‡Œé¢æ³¨é‡Šæ‰æˆ–è€…åˆ æ‰ï¼</span><br><span class="hljs-comment">/*-----------------</span><br><span class="hljs-comment"> *    KERNING</span><br><span class="hljs-comment"> *----------------*/</span><br><br><br><span class="hljs-comment">/*Map glyph_ids to kern left classes*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> kern_left_class_mapping[] =<br>&#123;<br>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>,<br>    <span class="hljs-number">7</span><br>&#125;;<br><br><span class="hljs-comment">/*Map glyph_ids to kern right classes*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> kern_right_class_mapping[] =<br>&#123;<br>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,<br>    <span class="hljs-number">6</span><br>&#125;;<br><br><span class="hljs-comment">/*Kern values between classes*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int8_t</span> kern_class_values[] =<br>&#123;<br>    <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-12</span>,<br>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-12</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-17</span>,<br>    <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">0</span>,<br>    <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">-6</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-6</span>,<br>    <span class="hljs-number">-12</span>, <span class="hljs-number">0</span><br>&#125;;<br><br><br><span class="hljs-comment">/*Collect the kern class&#x27; data in one place*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">lv_font_fmt_txt_kern_classes_t</span> kern_classes =<br>&#123;<br>    .class_pair_values   = kern_class_values,<br>    .left_class_mapping  = kern_left_class_mapping,<br>    .right_class_mapping = kern_right_class_mapping,<br>    .left_class_cnt      = <span class="hljs-number">7</span>,<br>    .right_class_cnt     = <span class="hljs-number">6</span>,<br>&#125;;<br><br><span class="hljs-comment">/*--------------------</span><br><span class="hljs-comment"> *  ALL CUSTOM DATA</span><br><span class="hljs-comment"> *--------------------*/</span><br></code></pre></td></tr></table></figure><ol start="2"><li>å°†æ³¨é‡Š<code>ALL CUSTOM DATA</code>å’Œæ³¨é‡Š<code>PUBLIC FONT</code>ä¹‹é—´çš„ä¸€å¤§å¨ï¼Œç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢æ‰ï¼</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ç”¨å®ƒä»¬æ›¿æ¢æ‰åŸæ¥çš„ä¸€å¤§å¨ï¼</span><br><span class="hljs-comment">/*--------------------</span><br><span class="hljs-comment"> *  ALL CUSTOM DATA</span><br><span class="hljs-comment"> *--------------------*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> LV_VERSION_CHECK(8, 0, 0)</span><br><span class="hljs-comment">/*Store all the custom data of the font*/</span><br><span class="hljs-type">static</span>  <span class="hljs-type">lv_font_fmt_txt_glyph_cache_t</span> cache;<br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">lv_font_fmt_txt_dsc_t</span> font_dsc = &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">else</span></span><br><span class="hljs-type">static</span> <span class="hljs-type">lv_font_fmt_txt_dsc_t</span> font_dsc = &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    .glyph_bitmap = glyph_bitmap,<br>    .glyph_dsc = glyph_dsc,<br>    .cmaps = cmaps,<br>    .kern_dsc = <span class="hljs-literal">NULL</span>,<br>    .kern_scale = <span class="hljs-number">0</span>,<br>    .cmap_num = <span class="hljs-number">1</span>,<br>    .bpp = <span class="hljs-number">4</span>,<br>    .kern_classes = <span class="hljs-number">0</span>,<br>    .bitmap_format = <span class="hljs-number">0</span>,<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> LV_VERSION_CHECK(8, 0, 0)</span><br>    .cache = &amp;cache<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>&#125;;<br><br><span class="hljs-comment">/*-----------------</span><br><span class="hljs-comment"> *  PUBLIC FONT</span><br><span class="hljs-comment"> *----------------*/</span><br><br></code></pre></td></tr></table></figure><ol start="3"><li>æœ€åï¼Œåˆ é™¤æ³¨é‡Š<code>PUBLIC FONT</code>ä¸‹çš„<code>.fallback</code>å’Œ<code>.user_data</code></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// åˆ é™¤ä»¥ä¸‹ä¸¤æ¡ï¼</span><br><span class="hljs-comment">/*-----------------</span><br><span class="hljs-comment"> *  PUBLIC FONT</span><br><span class="hljs-comment"> *----------------*/</span><br><br>    <span class="hljs-comment">// ...</span><br><br>    .fallback = &amp;font_smiley_36,<br>    .user_data = <span class="hljs-literal">NULL</span>,<br></code></pre></td></tr></table></figure><ol start="4"><li>æœ€åæ‹¿å»Lvglä»¿çœŸæˆ–è€…MCUè·‘ä¸€ä¸‹ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰é—®é¢˜å•¦ï¼</li></ol><h2 id="Pictures-convert-å›¾ç‰‡æ ¼å¼è½¬æ¢æˆ-cæ–‡ä»¶"><a href="#Pictures-convert-å›¾ç‰‡æ ¼å¼è½¬æ¢æˆ-cæ–‡ä»¶" class="headerlink" title="Pictures convert - å›¾ç‰‡æ ¼å¼è½¬æ¢æˆ.cæ–‡ä»¶"></a>Pictures convert - å›¾ç‰‡æ ¼å¼è½¬æ¢æˆ.cæ–‡ä»¶</h2><blockquote><p>LVGLå®˜æ–¹åœ¨çº¿å›¾ç‰‡è½¬æ¢å™¨(LVGL Online Image Converter): <a href="https://lvgl.io/tools/imageconverter">https://lvgl.io/tools/imageconverter</a></p></blockquote><p>è¿™é‡Œä¸»è¦è®²è§£ä½¿ç”¨ä»£ç ä¸­çš„å˜é‡ï¼ˆå­˜å‚¨ç€åƒç´ å€¼çš„Cæ•°ç»„ï¼‰è¿›è¡Œå›¾åƒæ˜¾ç¤ºã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ‰“å¼€LVGLå®˜æ–¹åœ¨çº¿å›¾ç‰‡è½¬æ¢å™¨ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹æœ€æ–°ï¼ˆæˆªæ­¢2024.12.26ï¼‰çš„åº”ç”¨ç•Œé¢ï¼š</p><!-- ![](images/Lvglæ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡/image-1.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/Lvgl%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E7%89%87/image-1.png"></p><blockquote><ol><li>Select image file(s)ï¼šé€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼Œå¯æ‰¹é‡é€‰æ‹©ï¼Œè®°å¾—ä¿®æ”¹æ–‡ä»¶åï¼Œå› ä¸ºç¨åç”Ÿæˆçš„cæ–‡ä»¶æ˜¯å’Œå›¾ç‰‡æ–‡ä»¶åŒåçš„</li></ol></blockquote><blockquote><ol start="2"><li>Color formatï¼šè®¾ç½®é¢œè‰²æ ¼å¼</li></ol></blockquote><!-- ![](images/Lvglæ·»åŠ è‡ªå®šä¹‰å­—ä½“å’Œå›¾ç‰‡/image-2.png) --><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/Lvgl%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E7%89%87/image-2.png"></p><ul><li>ä¸€èˆ¬çš„å½©è‰²å›¾ç‰‡ï¼Œé€‰æ‹©<code>CF_TRUE_COLOR_ALPHA</code></li><li>å¦‚æœæƒ³è¦çœç©ºé—´ï¼Œå›¾ç‰‡æƒ³è¦æ˜¾ç¤ºæˆçº¯ç™½è‰²çš„ï¼Œå¯ä»¥é€‰æ‹©<code>CF_INDEXED_X_BIT</code>ï¼Œ<code>X</code>è¶Šå¤§å›¾ç‰‡å†…å­˜è¶Šå¤§ä¹Ÿè¶Šæ¸…æ™°ï¼Œ<code>X</code>è¶Šå°å›¾ç‰‡å†…å­˜è¶Šå°é”¯é½¿è¶Šæ˜æ˜¾</li><li>å¦‚æœæƒ³è¦çœç©ºé—´ï¼Œå›¾ç‰‡æƒ³è¦æ˜¾ç¤ºæˆçº¯é»‘è‰²çš„ï¼Œå¯ä»¥é€‰æ‹©<code>CF_ALPHA_X_BIT</code>ï¼Œ<code>X</code>è¶Šå¤§å›¾ç‰‡å†…å­˜è¶Šå¤§ä¹Ÿè¶Šæ¸…æ™°ï¼Œ<code>X</code>è¶Šå°å›¾ç‰‡å†…å­˜è¶Šå°é”¯é½¿è¶Šæ˜æ˜¾</li></ul><blockquote><ol start="3"><li>Output formatï¼šå¯ä»¥é€‰æ‹©è¾“å‡ºçš„æ–‡ä»¶æ ¼å¼ï¼ŒCæ•°ç»„æˆ–è€…binæ–‡ä»¶ï¼ˆbinæ–‡ä»¶éœ€è¦é…åˆLVGLçš„æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ï¼‰ï¼Œè¿™é‡Œé€‰æ‹©Cæ•°ç»„ï¼ˆC arrayï¼‰å³å¯</li></ol></blockquote><blockquote><ol start="4"><li>Dither images (can improve quality)ï¼šåŠ å…¥å›¾åƒæŠ–åŠ¨ç®—æ³•ï¼Œå¯ä»¥æå‡å›¾åƒæœ€ç»ˆè´¨é‡ï¼ˆè¿™é‡Œä¸æ‰“å‹¾ï¼‰</li></ol></blockquote><blockquote><ol start="5"><li>Output in big-endian formatï¼šä»¥<code>big-endian</code>æ ¼å¼è¾“å‡ºï¼ˆè¿™é‡Œä¸æ‰“å‹¾ï¼‰</li></ol></blockquote><p>å…¨éƒ¨é€‰æ‹©å¥½äº†ä¹‹åå°±å¯ä»¥ç‚¹å‡»<code>Convert</code>å³å¯ï¼</p><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><ul><li>é¸£è°¢ï¼š<a href="https://blog.csdn.net/weixin_45677295/article/details/137949968">https://blog.csdn.net/weixin_45677295/article/details/137949968</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Lvgl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Power By Hugo@kkl</title>
    <link href="/2024/01/01/WelcomePage/hello-world/"/>
    <url>/2024/01/01/WelcomePage/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"><a href="#æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢" class="headerlink" title="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢"></a>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</h1><h1 id="Welcome-to-MyBlog"><a href="#Welcome-to-MyBlog" class="headerlink" title="Welcome to MyBlog"></a>Welcome to MyBlog</h1><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><h3 id="Wallpaperâ€™s-Source-Internet-Thanks"><a href="#Wallpaperâ€™s-Source-Internet-Thanks" class="headerlink" title="Wallpaperâ€™s Source: Internet, Thanks!!!"></a>Wallpaperâ€™s Source: Internet, Thanks!!!</h3><hr><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/8æœˆ/image-0.gif" alt="---" width = "300" height = "150" style="border-radius: 10px;"></div><div class="group-image-wrap"><img src="/images/æ‚è®°/2024å¹´/8æœˆ/image-1.gif" alt="---" width = "300" height = "150" style="border-radius: 10px;"></div></div></div><hr>]]></content>
    
    
    
    <tags>
      
      <tag>SayHi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ ‘è“æ´¾ã€‘è¿œç¨‹ç™»å½•æ–¹æ³•</title>
    <link href="/2023/12/28/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95/"/>
    <url>/2023/12/28/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="My-Raspberry-Pi"><a href="#My-Raspberry-Pi" class="headerlink" title="My Raspberry Pi"></a>My Raspberry Pi</h1><h1 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h1><hr><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><blockquote><ul><li>ç¡¬ä»¶ï¼šraspberry Pi 4B</li><li>é•œåƒç‰ˆæœ¬ï¼š2022-09-22-raspios-bullseye-arm64.img</li></ul></blockquote><hr><h2 id="é•œåƒçƒ§å½•"><a href="#é•œåƒçƒ§å½•" class="headerlink" title="é•œåƒçƒ§å½•"></a>é•œåƒçƒ§å½•</h2><ul><li>è¿™æ­¥å°±æ˜¯å¹³å¸¸çš„çƒ§å½•è¿‡ç¨‹ï¼Œæ¨èä½¿ç”¨å®˜æ–¹çš„çƒ§å½•å·¥å…·ï¼Œè¿™æ ·å‰æœŸå¯ä»¥æ’å¾ˆå¤šå‘ï¼ˆè¿™äº›å‘åé¢æˆ‘ä»¬ä¼šé€ä¸€æåˆ°ï¼‰</li></ul><hr><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><ul><li><strong>åˆæ¬¡ç™»å½•çš„æ—¶ï¼Œè¿™ä¸ªåœ°æ–¹æœ‰ä¸ªå¤§å‘ï¼</strong></li></ul><blockquote><p>æœ€æ–°ç‰ˆçš„æ ‘è“æ´¾ç³»ç»Ÿï¼ˆ2022å¹´4æœˆä»¥åŠä»¥åå‘å¸ƒçš„ï¼‰ï¼Œ<strong>æ²¡æœ‰äº†åˆå§‹åŒ–çš„ç”¨æˆ·åå’Œå¯†ç </strong>ï¼Œä»¥å‰ç”¨æˆ·åæ˜¯piï¼Œå¯†ç æ˜¯raspberryï¼Œä½†æ˜¯è¿™æ¬¡éœ€è¦è¿›ç³»ç»Ÿä¹‹åæ‰èƒ½è®¾ç½®ã€‚</p></blockquote><blockquote><p>æ„æ€å°±æ˜¯ï¼Œä½ å¦‚æœåˆæ¬¡ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ç”¨å›¾å½¢åŒ–ç•Œé¢ï¼Œæ— æ³•åˆ›å»ºä½ çš„ä¸ªäººç”¨æˆ·ï¼Œä½ ä¹Ÿæ— æ³•åƒä»¥å‰ä¸€æ ·ç›´æ¥ä½¿ç”¨é»˜è®¤è´¦å·å¯†ç è¿›è¡Œç™»å½•ã€‚</p></blockquote><blockquote><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><ul><li>ä½¿ç”¨å®˜æ–¹çš„çƒ§å½•å·¥å…·ï¼Œçƒ§å½•çš„æ—¶å€™ä¼šè®©ä½ é…ç½®åˆå§‹è´¦å·å¯†ç ã€‚</li><li>å¤–æ¥å±å¹•ã€é”®é¼ ï¼Œä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢å¼€æœºé…ç½®ã€‚</li></ul></blockquote><ul><li>æˆ‘ä»¬é‡ç‚¹æ¥äº†è§£ä¸€ä¸‹ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œ<strong>ä½¿ç”¨ä¸²å£æ— å±å¹•çš„ç™»å½•</strong>ã€‚</li></ul><ol><li>å¾€çƒ§å½•å¥½é•œåƒçš„SDå¡æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>userconf.txt</code></li><li>æ–‡ä»¶å†…å†™å…¥<code>pi:$6$/4.VdYgDm7RJ0qM1$FwXCeQgDKkqrOU3RIRuDSKpauAbBvP11msq9X58c8Que2l1Dwq3vdJMgiZlQSbEXGaY5esVHGBNbCxKLVNqZW1</code><blockquote><p>è¿™ä¸€æ®µæ„æ€å°±æ˜¯å‘Šè¯‰ç³»ç»Ÿï¼Œæ–°å»ºä¸€ä¸ªç”¨æˆ·<br>ç”¨æˆ·åï¼špi<br>å¯†ç ï¼šraspberry</p></blockquote></li><li>æœ€åæŠŠSDå¡æ’å›åˆ°æ ‘è“æ´¾ä¸Šï¼Œé‡æ–°ä¸Šç”µï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªç”¨æˆ·å¯†ç ç™»å½•å•¦ï¼</li></ol><h3 id="ä¸²å£ç™»å½•"><a href="#ä¸²å£ç™»å½•" class="headerlink" title="ä¸²å£ç™»å½•"></a>ä¸²å£ç™»å½•</h3><ul><li><p>ä¸²å£ç™»å½•æˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ªUSB-TTL Linkï¼</p></li><li><p>æ’é’ˆè¿æ¥å›¾ï¼ˆ<strong>æ­¤æ—¶TypeCå£æœå‘æˆ‘ä»¬æ—¶ï¼Œå³USB-Aå£æœå‘å³æ‰‹è¾¹æ—¶</strong>ï¼‰ï¼š</p><blockquote><p><strong>&#x2F; * * G T R * * * * * * * * * * * * * * &#x2F;</strong><br><strong>&#x2F; * * * * * * * * * * * * * * * * * * * &#x2F;</strong><br><strong>G-&gt;GND &#x2F; T-&gt;TXD &#x2F; R-&gt;RXD</strong></p></blockquote></li><li><p>æ¥ç€æ£€æŸ¥çƒ§å½•å¥½é•œåƒçš„SDå¡æ ¹ç›®å½•ä¸‹çš„<code>cmdline.txt</code></p><blockquote><p>å¦‚æœæ²¡æœ‰<code>console=serial0,115200</code>å°±è‡ªå·±åœ¨æœ€å‰é¢åŠ ä¸Šå»ï¼Œç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€å’Œå…¶ä»–çš„æŒ‡ä»¤å°±è¡Œ</p></blockquote></li><li><p>æ¥ç€ä¿®æ”¹çƒ§å½•å¥½é•œåƒçš„SDå¡æ ¹ç›®å½•ä¸‹çš„<code>config.txt</code></p><blockquote><p>åœ¨è¯¥æ–‡ä»¶çš„æœ€åä¸€è¡ŒåŠ ä¸Š<code>dtoverlay=pi3-miniuart-bt</code></p></blockquote></li><li><p>è¿™æ—¶è¿æ¥ä¸²å£å°±ä¼šæ‰“å°loginé¡µé¢ä¿¡æ¯å•¦ï¼Œè®°å¾—ä¸²å£è¿æ¥é€‰æ‹©<strong>æ³¢ç‰¹ç‡ä¸º115200ï¼Œæ— æµæ§æ¨¡å¼</strong>å™¢ï¼</p></li><li><p>å¦‚æœæ²¡æœ‰ä»»ä½•ä¸œè¥¿æ˜¾ç¤ºå‡ºæ¥ï¼Œå›å»é€ä¸€æ£€æŸ¥ï¼Œæ£€æŸ¥ç¡¬ä»¶æ˜¯ä¸æ˜¯æ’é”™å•¦ï¼Œè¦<strong>Linkçš„Txå¯¹Piçš„Rxï¼ŒLinkçš„Rxå¯¹Piçš„Tx</strong>ï¼</p></li></ul><h3 id="SSHç™»å½•"><a href="#SSHç™»å½•" class="headerlink" title="SSHç™»å½•"></a>SSHç™»å½•</h3><p>æ ‘è“æ´¾åˆæ¬¡é…ç½®SSHç™»å½•å…¶å®ä¹ŸæŒºéº»çƒ¦çš„ï¼Œä¸‹é¢æ¼”ç¤ºä¸€ä¸‹é…ç½®æ­¥éª¤ã€‚</p><ul><li><p>åœ¨çƒ§å½•å¥½é•œåƒçš„SDå¡æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶<code>ssh</code>ï¼Œç©ºæ–‡ä»¶å°±è¡Œï¼Œå‘½åå¥½ä»¥åä¸ç”¨å»åŠ¨å®ƒ</p></li><li><p>åŒæ ·çš„åœ¨æ ¹ç›®å½•ä¸‹å†æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶<code>wpa_supplicant.conf</code></p></li><li><p>ä½¿ç”¨ç¼–è¯‘å™¨æ‰“å¼€ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨<code>Vscode</code></p></li><li><p>æ‰“å¼€ä»¥åè¾“å…¥ä»¥ä¸‹é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs conf">country=CN<br>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev<br>update_config=1<br> <br>network=&#123;<br>    ssid=&quot;EMMA&quot;<br>    psk=&quot;12345678&quot;<br>    priority=1<br>&#125;<br> <br>network=&#123;<br>    ssid=&quot;HUGO&quot;<br>    psk=&quot;12345678&quot;<br>    priority=2<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è§£é‡Šä¸€ä¸‹ï¼š<br><code>ssid</code>æ˜¯å°†è¦è¿æ¥çš„wifiçš„åå­—ï¼Œä¸èƒ½æœ‰ä¸­æ–‡ï¼<br><code>psk</code>æ˜¯å°†è¦è¿æ¥çš„wifiçš„å¯†ç <br><code>priority</code>æ˜¯è¿æ¥çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§æ•°å­—å¤§çš„wifiä¼˜å…ˆè¿æ¥<br>ä½ å¯ä»¥æŒ‰ç…§æ ¼å¼æ¥è®°å½•å¤šä¸ªwifiï¼Œæ³¨æ„ä¼˜å…ˆçº§ä¸è¦éƒ½ç›¸åŒã€‚</p></blockquote></li><li><p>ä¸Šè¿°æ­¥éª¤å®Œæˆä»¥åï¼ŒæŠŠSDå¡æ’å›æ ‘è“æ´¾ä¸­è¿è¡Œï¼Œ<code>ssh</code>å’Œ<code>wpa_supplicant.conf</code>æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨è¢«å†™å…¥ç³»ç»Ÿï¼Œå†™å…¥æˆåŠŸåå†æ¬¡ç”¨ç”µè„‘æ‰“å¼€SDå¡è¿™ä¸¤ä¸ªæ–‡ä»¶ä¼šæ¶ˆå¤±ä¸è§ã€‚å¦‚æœä½ è¦æ·»åŠ æˆ–è€…ä¿®æ”¹wifiï¼Œä½ éœ€è¦æŠŠ<code>wpa_supplicant.conf</code>æ–‡ä»¶é‡æ–°å†™ä¸€éï¼Œé‡å¤ä¸Šè¿°æ“ä½œï¼Œæ–°çš„æ–‡ä»¶ä¼šè‡ªåŠ¨è¦†ç›–æ—§çš„ï¼›<code>ssh</code>ä¸ç”¨é‡æ–°åˆ›å»ºï¼Œä¹‹å‰åˆ›å»ºè¿‡äº†å°±å¯ä»¥äº†ã€‚</p></li><li><p>é‡æ–°ç»™æ ‘è“æ´¾ä¸Šç”µè¿›å…¥ç³»ç»Ÿä»¥åï¼Œä½ å¯èƒ½ä¼šå‘ç°ä»¥ä¸‹é—®é¢˜è­¦å‘Š<code>Wi-Fi is currently blocked by rfkill. Use raspi-config to set the country before use.</code></p></li><li><p>è¿™æ˜¯æˆ‘ä»¬æ²¡æœ‰è®¾ç½®æ— çº¿å±€åŸŸç½‘æ‰€åœ¨å›½å®¶ï¼Œäºæ˜¯æˆ‘ä»¬è¾“å…¥æŒ‡ä»¤<code>sudo raspi-config nonint do_wifi_country CN</code>ï¼Œé¡ºåˆ©çš„è¯å†è¾“å…¥æŒ‡ä»¤<code>ifconfig</code>ä¼šæŸ¥çœ‹åˆ°wlan0å·²ç»è¢«åˆ†é…äº†ipåœ°å€ï¼</p></li><li><p>å¦‚æœå¹³æ—¶åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹æˆ‘ä»¬ä¸çŸ¥é“æ ‘è“æ´¾ipåœ°å€æ˜¯å¤šå°‘ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Windows<code>win+R</code>è¾“å…¥cmdæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥æŒ‡ä»¤<code>ping raspberrypi -4</code>ï¼Œå¯ä»¥æŸ¥è¯¢åŒä¸€å±€åŸŸç½‘å½“ä¸­çš„æ ‘è“æ´¾çš„ipåœ°å€ã€‚</p></li><li><p>æ‹¿åˆ°ipåœ°å€å°±å¯ä»¥æ„‰å¿«çš„è¿œç¨‹è®¿é—®å•¦ï¼</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">login as: pi<br>password: raspberry<br></code></pre></td></tr></table></figure><p><img src="https://hugokkl.oss-cn-shenzhen.aliyuncs.com/blog/images/MyRaspberryPiLearningGuide/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%9A%84%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95/image.png"></p><h3 id="VNCè¿œç¨‹æ¡Œé¢ç™»å½•"><a href="#VNCè¿œç¨‹æ¡Œé¢ç™»å½•" class="headerlink" title="VNCè¿œç¨‹æ¡Œé¢ç™»å½•"></a>VNCè¿œç¨‹æ¡Œé¢ç™»å½•</h3><ul><li>é—®é¢˜1ï¼šVNC Vieweræ˜¾ç¤º<code>Cannot currently show the desktop</code></li></ul><blockquote><p><strong>é—®é¢˜åˆ†æ</strong>ï¼š</p></blockquote><p>å‡ºç°è¿™ä¸ªæ— æ³•æ˜¾ç¤ºè¿œç¨‹æ¡Œé¢çš„é—®é¢˜ï¼Œå…¶å®æ˜¯æ ‘è“æ´¾é…ç½®åˆ†è¾¨ç‡çš„å…³ç³»ï¼Œæ ‘è“æ´¾é»˜è®¤ä½¿ç”¨äº†æœ€å°åˆ†è¾¨ç‡ï¼Œç„¶åVNCä¸æ”¯æŒè¿™ä¹ˆå°çš„ï¼Œå’±æ”¹ä¸€ä¸‹å°±è¡Œã€‚</p><blockquote><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p></blockquote><ul><li><code>sudo raspi-config</code>æ‰“å¼€è®¾ç½®ç•Œé¢</li><li>æŒ‰æ–¹å‘é”®å‘ä¸‹é€‰æ‹©åˆ°<code>Display Options</code></li><li>æ¥ç€ç»§ç»­é€‰æ‹©<code>VNC Resolution</code></li><li>æ¥ç€é€‰æ‹©é™¤äº†<code>640x480</code>ä»¥å¤–çš„åˆ†è¾¨ç‡</li><li>ç„¶åå›è½¦ç¡®å®šï¼Œæ–¹å‘é”®å·¦å³é€‰æ‹©<code>finish</code>é€€å‡ºï¼Œç„¶åç¡®è®¤rebooté‡å¯ï¼Œé€‰æ‹©<code>yes</code></li><li>æœ€åç­‰å¾…é‡å¯å°±è¡Œå•¦ï¼</li></ul><hr><h2 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h2><p>è¯·å‚ç…§<strong>ç™»å½•</strong>ç« èŠ‚å½“ä¸­çš„<strong>SSHç™»å½•</strong>ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>RaspberryPi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„Linuxé©±åŠ¨å­¦ä¹ ç¬”è®° - IMX6ULL</title>
    <link href="/2023/12/13/MyLinuxLearningGuide/MyLinuxLearningGuide%20-%20IMX6ULL/"/>
    <url>/2023/12/13/MyLinuxLearningGuide/MyLinuxLearningGuide%20-%20IMX6ULL/</url>
    
    <content type="html"><![CDATA[<h3 id="æˆ‘çš„Linuxé©±åŠ¨å­¦ä¹ ç¬”è®°-IMX6ULL"><a href="#æˆ‘çš„Linuxé©±åŠ¨å­¦ä¹ ç¬”è®°-IMX6ULL" class="headerlink" title="æˆ‘çš„Linuxé©±åŠ¨å­¦ä¹ ç¬”è®° - IMX6ULL"></a>æˆ‘çš„Linuxé©±åŠ¨å­¦ä¹ ç¬”è®° - IMX6ULL</h3><h3 id="MyLinuxLearningGuide-IMX6ULL"><a href="#MyLinuxLearningGuide-IMX6ULL" class="headerlink" title="MyLinuxLearningGuide - IMX6ULL"></a>MyLinuxLearningGuide - IMX6ULL</h3><h3 id="By-kkl"><a href="#By-kkl" class="headerlink" title="By @kkl"></a>By @kkl</h3><p class="note note-warning">è¯¥ç¬”è®°ç›®å‰å¤„äºç§¯æå¼€å‘é˜¶æ®µã€‚</p><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><blockquote><p>PCï¼šWin11<br>è™šæ‹Ÿæœºï¼šUbuntu18.04<br>å¼€å‘æ¿ï¼šæ­£ç‚¹åŸå­IMX6ULLå¼€å‘æ¿emmc-512MB</p></blockquote><blockquote><p>é•œåƒï¼š</p><ol><li>å‡ºå‚é•œåƒï¼šlinux-imx-4.1.15-2.1.0-g3dc0a4b-v2.7</li><li>æ•™ç¨‹é•œåƒï¼šlinux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.4</li></ol></blockquote><h2 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h2><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>ç”¨äºä¸åŒå¯åŠ¨æ–¹å¼çš„æ‹¨ç å¼€å…³è®¾ç½®ï¼š</p><ul><li>USB_OTGå¯åŠ¨(0 1 0 0 0 0 0 0)<br>è¯¥å¯åŠ¨æ–¹å¼ä¸»è¦ç”¨äºmfgå›ºåŒ–ç³»ç»Ÿï¼Œçƒ§å½•é•œåƒã€‚</li></ul><p class="note note-warning">æ³¨æ„ï¼šä»USB_OTGå¯åŠ¨æ—¶ï¼Œå¼€å‘æ¿ä¸Šå¦‚æœæœ‰SDå¡ï¼Œè¦å…ˆæŠŠSDå¡æ‹”å‡ºæ¥ï¼Œä¸Šç”µåå†é‡æ–°æ’ä¸ŠSDå¡ï¼Œå¦åˆ™ä¼šå½±å“é•œåƒçš„çƒ§å½•ã€‚</p><ul><li><p>ä»TF(SDcard)å¡å¯åŠ¨(1 0 0 0 0 0 1 0)<br>è¯¥å¯åŠ¨æ–¹å¼ä¸»è¦ç”¨äºä»TF(SDcard)å¡å¯åŠ¨å†…æ ¸ã€‚</p></li><li><p>ä»eMMCå¯åŠ¨(1 0 1 00 1 1 0)<br>è¯¥å¯åŠ¨æ–¹å¼ä¸»è¦ç”¨äºä»eMMCå¯åŠ¨å†…æ ¸ã€‚</p></li></ul><h3 id="çƒ§å½•"><a href="#çƒ§å½•" class="headerlink" title="çƒ§å½•"></a>çƒ§å½•</h3><p>çƒ§å½•æ–¹æ³•è¯·æŸ¥çœ‹<strong>I.MX6Uç”¨æˆ·å¿«é€Ÿä½“éªŒV2.6 P25</strong></p><ol><li>å‡ºå‚é•œåƒï¼šlinux-imx-4.1.15-2.1.0-g3dc0a4b-v2.7</li></ol><ul><li>å¯ä»¥é€šè¿‡<code>ã€æ­£ç‚¹åŸå­ã€‘é˜¿å°”æ³•Linuxå¼€å‘æ¿ï¼ˆAç›˜ï¼‰-åŸºç¡€èµ„æ–™\05ã€å¼€å‘å·¥å…·\04ã€æ­£ç‚¹åŸå­MFG_TOOLå‡ºå‚å›ºä»¶çƒ§å½•å·¥å…·\mfgtool</code>è¿›è¡Œçƒ§å½•ã€‚</li></ul><ol start="2"><li>æ•™ç¨‹é•œåƒï¼šlinux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.4</li></ol><ul><li><p>å¯ä»¥é€šè¿‡<code>ã€æ­£ç‚¹åŸå­ã€‘é˜¿å°”æ³•Linuxå¼€å‘æ¿ï¼ˆAç›˜ï¼‰-åŸºç¡€èµ„æ–™\08ã€ç³»ç»Ÿé•œåƒ\02ã€æ•™ç¨‹ç³»ç»Ÿé•œåƒ\02ã€V2.4ç‰ˆæœ¬åŠä»¥åçš„åº•æ¿\mfgtool(study)</code>è¿›è¡Œçƒ§å½•ã€‚</p></li><li><p>çƒ§å½•ç»“æŸä»¥åï¼Œé‡å¯ä»¥åæ˜¯æ— æ³•æˆåŠŸåŠ è½½ç³»ç»Ÿçš„ï¼Œéœ€è¦åœ¨Ubootä¸­é‡æ–°é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹ï¼š</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">ä½¿ç”¨Type-Cæ•°æ®çº¿è¿æ¥å¼€å‘æ¿çš„ä¸²å£å’Œä¸ªäººPC</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä½¿ç”¨MobaXtermï¼ŒSerialè¿æ¥ï¼Œæ³¢ç‰¹ç‡è®¾ç½®ä¸º115200</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å¼€å‘æ¿ä¸Šç”µï¼Œåœ¨Ubootå‡†å¤‡åŠ è½½å†…æ ¸å‰çš„å€’è®¡æ—¶ç»“æŸå‰ï¼ŒæŒ‰å›è½¦é”®ç•™åœ¨Uboot</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¿®æ”¹ç¯å¢ƒå˜é‡</span><br><br>setenv bootcmd &#x27;mmc dev 1;fatload mmc 1:1 80800000 zImage;fatload mmc 1:1 83000000 imx6ull-alientek-emmc.dtb;bootz 80800000 - 83000000&#x27;<br><br>setenv bootargs &#x27;console=ttymxc0,115200 root=/dev/mmcblk1p2 rootwait rw&#x27;<br><br>saveenv<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é…ç½®å¥½ç¯å¢ƒå˜é‡åï¼Œé‡æ–°ä¸Šç”µå¯åŠ¨å†…æ ¸ï¼Œå°±å¯ä»¥æˆåŠŸè¿›å…¥ç³»ç»Ÿå•¦ï¼</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¸Šè¿°å†…å®¹æ¥è‡ªã€æ­£ç‚¹åŸå­ã€‘é˜¿å°”æ³•Linuxå¼€å‘æ¿ï¼ˆAç›˜ï¼‰-åŸºç¡€èµ„æ–™\08ã€ç³»ç»Ÿé•œåƒ\02ã€æ•™ç¨‹ç³»ç»Ÿé•œåƒ\02ã€V2.4ç‰ˆæœ¬åŠä»¥åçš„åº•æ¿\mfgtool(study)\ã€EMMC-bootcmd-bootargsã€‘.txt or ã€NAND-bootcmd-bootargsã€‘.txt</span><br></code></pre></td></tr></table></figure><p class="note note-success">å½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥å·¥å…· <b>mfgtool(study)</b> çƒ§å½•ä½ è‡ªå·±åˆ¶ä½œçš„é•œåƒã€‚<br></br>åªè¦æŠŠ <b>mfgtool(study)\Profiles\Linux\OS Firmware\files\boot</b> è·¯å¾„ä¸‹çš„å¯¹åº”é•œåƒå’Œu-bootä¿®æ”¹æˆä½ åˆ¶ä½œçš„å°±å¯ä»¥å•¦ï¼Œä½†æ˜¯åå­—è¦å’ŒåŸæ¥çš„åŒåå™¢ï¼ï¼ï¼</p><h3 id="é€šè¿‡å‘½ä»¤è¡Œæ›´æ–°emmcçš„å†…æ ¸å’Œè®¾å¤‡æ ‘å›ºä»¶"><a href="#é€šè¿‡å‘½ä»¤è¡Œæ›´æ–°emmcçš„å†…æ ¸å’Œè®¾å¤‡æ ‘å›ºä»¶" class="headerlink" title="é€šè¿‡å‘½ä»¤è¡Œæ›´æ–°emmcçš„å†…æ ¸å’Œè®¾å¤‡æ ‘å›ºä»¶"></a>é€šè¿‡å‘½ä»¤è¡Œæ›´æ–°emmcçš„å†…æ ¸å’Œè®¾å¤‡æ ‘å›ºä»¶</h3><h4 id="æ›´æ–°åŸç†"><a href="#æ›´æ–°åŸç†" class="headerlink" title="æ›´æ–°åŸç†"></a>æ›´æ–°åŸç†</h4><p>å› ä¸ºLinuxå†…æ ¸å’Œè®¾å¤‡æ ‘æ˜¯åœ¨ubootè¿è¡Œçš„æ—¶å€™è¢«ä»emmcåŠ è½½åˆ°å†…å­˜å½“ä¸­å»çš„ï¼Œæ‰€ä»¥Linuxç³»ç»Ÿæ­£åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥ä¿®æ”¹emmcä¸­å­˜æ”¾çš„å›ºä»¶çš„ï¼Œç„¶åresetç­‰å¾…é‡å¯å³å¯ã€‚</p><h4 id="æ›´æ–°æ–¹æ³•"><a href="#æ›´æ–°æ–¹æ³•" class="headerlink" title="æ›´æ–°æ–¹æ³•"></a>æ›´æ–°æ–¹æ³•</h4><ol><li>æŸ¥çœ‹emmcåˆ†åŒº</li></ol><p>ä½¿ç”¨å‘½ä»¤<code>fdisk -l</code>æŸ¥çœ‹åˆ†åŒºä¿¡æ¯</p><p>åœ¨ä½¿ç”¨mfg toolçƒ§å½•ä¹‹åï¼Œemmcä¼šæœ‰ä¸¤ä¸ªåˆ†åŒºï¼Œç¬¬ä¸€ä¸ªåˆ†åŒºæ˜¯FAT32æ–‡ä»¶ç³»ç»Ÿ<code>/dev/mmcblk1p1</code>ï¼Œç”¨æ¥å­˜æ”¾kernelå’Œè®¾å¤‡æ ‘ï¼Œç¬¬äºŒä¸ªåˆ†åŒºæ˜¯Linuxæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨æ¥å­˜æ”¾æ ¹æ–‡ä»¶ç³»ç»Ÿ</p><ol start="2"><li>æ›´æ–°å›ºä»¶</li></ol><ul><li>ä½¿ç”¨å‘½ä»¤<code>mount /dev/mmcblk1p1 /mnt</code>æŒ‚è½½emmcåˆ†åŒº</li><li>æ¥ç€ä½¿ç”¨<code>ls /mnt/</code>å°±å¯ä»¥çœ‹åˆ°è®¾å¤‡æ ‘dtbæ–‡ä»¶å’ŒzImageå·²ç»å‡ºç°</li><li>ç„¶åä½¿ç”¨cpå‘½ä»¤å°†è‡ªå·±æœ€æ–°çš„æ–‡ä»¶ï¼ˆå¯ä»¥åªæ›¿æ¢å…¶ä¸­ä¸€ä¸ªæˆ–ä¸¤ä¸ªï¼‰æ›¿æ¢æ‰æ—§çš„</li><li>æœ€åé€šè¿‡<code>umount /mnt</code>å¸è½½emmcåˆ†åŒº</li></ul><ol start="3"><li>æµ‹è¯•</li></ol><ul><li>æŒ‰ä¸‹æ¿è½½çš„resetæŒ‰é”®æˆ–è€…å‘½ä»¤è¡Œè¾“å…¥<code>reboot</code>è¿›è¡Œé‡å¯</li><li>é‡å¯ä¹‹åå¯ä»¥é€šè¿‡<code>uname</code>å‘½ä»¤æˆ–è€…æŸ¥æ‰¾è®¾å¤‡æ ‘ä¿¡æ¯çš„æ–¹å¼æ£€æŸ¥æ˜¯å¦æ›¿æ¢æˆåŠŸã€‚</li></ul><hr><h2 id="é…ç½‘"><a href="#é…ç½‘" class="headerlink" title="é…ç½‘"></a>é…ç½‘</h2><ul><li><p><code>cd /etc/</code>å»åˆ°æ­¤æ–‡ä»¶å¤¹å½“ä¸­</p></li><li><p>ç¼–å†™<code>wpa_supplicant.conf</code></p><blockquote><p>ctrl_interface&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicant<br>update_config&#x3D;1</p><p>network&#x3D;{<br> ssid&#x3D;â€MagicEyesâ€<br> psk&#x3D;â€12345678â€<br>}</p></blockquote></li><li><p><code>vi wpa_supplicant.conf</code>ç”¨viæ‰“å¼€è¿™ä¸ªæ–‡ä»¶é…ç½®ä½ çš„ç½‘ç»œ</p></li><li><p><code>modprobe 8188eu.ko</code>åŠ è½½ RTL8188EUS é©±åŠ¨æ¨¡å—ï¼ˆUSB-WiFi-RTL8188EUSï¼‰</p></li><li><p><code>wpa_supplicant -D wext -c /etc/wpa_supplicant.conf -i wlan0 &amp;</code>ä½¿ç”¨ wpa_supplicant å·¥å…·è®© RTL8188 USB WIFI è¿æ¥åˆ°çƒ­ç‚¹ä¸Š</p></li><li><p><code>udhcpc -i wlan0</code>ä»è·¯ç”±å™¨è·å–IPåœ°å€ï¼Œæ‰§è¡Œäº†è¿™ä¸€æ­¥æ‰å¯ä»¥å¾—åˆ°åˆ†é…çš„IPåœ°å€</p></li><li><p><code>ifconfig wlan0</code>æŸ¥çœ‹IPåœ°å€</p></li></ul><p><br></br></p><ul><li><p><code>ping [-I wlan0çš„IPåœ°å€] www.baidu.com</code>å¯ä»¥ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤æµ‹è¯•WiFiæ˜¯å¦å·¥ä½œæ­£å¸¸ï¼Œ[]çš„å†…å®¹å¯ä»¥çœç•¥ï¼Œ-I æ˜¯æŒ‡å®šæ‰§è¡Œ ping æ“ä½œçš„ç½‘å¡ IP åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¦ä½¿ç”¨çš„ wlan0 å» ping ç™¾åº¦ç½‘ç«™ã€‚</p></li><li><p>æ›´åŠ è¯¦ç»†çš„å†…å®¹åœ¨<strong>é©±åŠ¨å¼€å‘æŒ‡å—P1765</strong></p></li></ul><p class="note note-warning">æ³¨æ„ï¼RTL8188EUS è¯·ä½¿ç”¨ 8188eu.ko é©±åŠ¨ï¼ŒRTL8188CUS è¯·ä½¿ç”¨ 8192cu.ko é©±åŠ¨ï¼</p><p>åœ¨å‡ºå‚é•œåƒä¸­ï¼Œé»˜è®¤åŠ è½½çš„æ˜¯RTL8188CUSé©±åŠ¨ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨cdåˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹åŠ è½½RTL8188EUSé©±åŠ¨æ¨¡å—ï¼š</p><ul><li><code>cd /lib/modules/4.1.15-g3dc0a4b/kernel/drivers/net/wireless/rtlwifi/rtl8188EUS</code></li><li><code>insmod 8188eu.ko</code></li></ul><h2 id="å†…æ ¸"><a href="#å†…æ ¸" class="headerlink" title="å†…æ ¸"></a>å†…æ ¸</h2><h3 id="å†…æ ¸ç¼–è¯‘"><a href="#å†…æ ¸ç¼–è¯‘" class="headerlink" title="å†…æ ¸ç¼–è¯‘"></a>å†…æ ¸ç¼–è¯‘</h3><ul><li><code>Uboot</code>å’Œå†…æ ¸çš„ç¼–è¯‘æ­¥éª¤ï¼š</li></ul><blockquote><ol><li><code>distclean</code>æ¸…ç†å·¥ç¨‹</li><li><code>make xxx_defconfig</code>ä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶é…ç½®å·¥ç¨‹</li><li><code>make menuconfig</code>æ‰“å¼€é…ç½®ç•Œé¢ï¼Œè¿›è¡Œé…ç½®</li><li><code>make -j12</code>ç¼–è¯‘æ‰€æœ‰æ–‡ä»¶ï¼Œ<code>-j12</code>è¡¨ç¤ºåäºŒæ ¸ç¼–è¯‘</li></ol><ul><li>ç¼–è¯‘çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿</li></ul></blockquote><ul><li><strong>Warning:</strong></li></ul><blockquote><p><strong>å†…æ ¸çš„è§£å‹å’Œç¼–è¯‘ç»å¯¹ä¸å¯ä»¥åœ¨å…±äº«æ–‡ä»¶å¤¹é‡Œè¿›è¡Œï¼</strong><br>å¦åˆ™ä¼šå‡ºç°æ— æ³•è½¯é“¾æ¥çš„æƒ…å†µï¼Œæ¯”å¦‚<code>ln: failed to create symbolic link &#39;./dt-bindings&#39;: Operation not permitted</code><br>å› ä¸ºå…±äº«æ–‡ä»¶å¤¹æ˜¯windowså’Œlinuxçš„çš„å…±äº«ç›®å½•ï¼Œè€Œwindowsä¸‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¸æ”¯æŒlinuxçš„<code>symbolic link</code>!</p></blockquote><ul><li>å®è·µ</li></ul><blockquote><ol><li>å‡ºå‚é•œåƒï¼šlinux-imx-4.1.15-2.1.0-g3dc0a4b-v2.7</li></ol></blockquote><ul><li>è¿™é‡Œçš„ç¼–è¯‘çš„å†…æ ¸é€‰ç”¨<code>linux-imx-4.1.15-2.1.0-g3dc0a4b-v2.7.tar.bz2</code>å³æ­£ç‚¹åŸå­imx6ullçš„å‡ºå‚é•œåƒ</li><li>è§£å‹æ–¹æ³•ï¼š<code>tar -vxjf xxx.tar.bz2</code></li><li>æ³¨æ„ï¼ç¼–è¯‘å†…æ ¸æ—¶ï¼Œè¯·å…ˆå®‰è£…Pokyäº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼ˆå…·ä½“å‚ç…§<strong>ç”¨æˆ·å¿«é€Ÿä½“éªŒP115</strong>ï¼‰</li><li>æ‰§è¡Œ<code>linux-imx-4.1.15-2.1.0-g3dc0a4b-v2.7</code>æ–‡ä»¶å¤¹å†…çš„<code>build.sh</code>ä¸€é”®å…¨ç¼–è¯‘ã€‚</li><li>æœ€åè¯·ä½¿ç”¨<strong>04ã€æ­£ç‚¹åŸå­MFG_TOOLå‡ºå‚å›ºä»¶çƒ§å½•å·¥å…·</strong>è¿›è¡Œå¼€å‘æ¿çš„çƒ§å½•å“¦ï¼</li></ul><blockquote><ol start="2"><li>æ•™ç¨‹é•œåƒï¼šlinux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.4</li></ol></blockquote><ul><li>è¿™é‡Œçš„ç¼–è¯‘çš„å†…æ ¸é€‰ç”¨<code>linux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.4.tar.bz2</code>å³æ­£ç‚¹åŸå­imx6ullçš„æ•™ç¨‹é•œåƒ</li><li>è§£å‹æ–¹æ³•ï¼š<code>tar -vxjf xxx.tar.bz2</code></li></ul><h2 id="é©±åŠ¨å¼€å‘"><a href="#é©±åŠ¨å¼€å‘" class="headerlink" title="é©±åŠ¨å¼€å‘"></a>é©±åŠ¨å¼€å‘</h2><ul><li>Linuxé©±åŠ¨æœ‰<strong>ä¸¤ç§è¿è¡Œæ–¹å¼</strong>ï¼Œ<strong>ç¬¬ä¸€ç§</strong>å°±æ˜¯å°†é©±åŠ¨<strong>ç¼–è¯‘è¿›Linuxå†…æ ¸</strong>ä¸­ï¼Œè¿™æ ·å½“Linuxå†…æ ¸å¯åŠ¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è¿è¡Œé©±åŠ¨ç¨‹åºã€‚<strong>ç¬¬äºŒç§</strong>å°±æ˜¯<strong>å°†é©±åŠ¨ç¼–è¯‘æˆæ¨¡å—</strong>(Linuxä¸‹æ¨¡å—æ‰©å±•åä¸º.ko)ï¼Œåœ¨Linuxå†…æ ¸å¯åŠ¨ä»¥åä½¿ç”¨<code>insmod</code>æˆ–<code>modprobe</code>å‘½ä»¤åŠ è½½é©±åŠ¨æ¨¡å—ï¼Œä½¿ç”¨<code>rmmod</code>æˆ–<code>modprobe -r</code>å‘½ä»¤å¸è½½é©±åŠ¨æ¨¡å—ã€‚</li></ul><h3 id="é©±åŠ¨æ¨¡å—çš„åŠ è½½ä¸å¸è½½"><a href="#é©±åŠ¨æ¨¡å—çš„åŠ è½½ä¸å¸è½½" class="headerlink" title="é©±åŠ¨æ¨¡å—çš„åŠ è½½ä¸å¸è½½"></a>é©±åŠ¨æ¨¡å—çš„åŠ è½½ä¸å¸è½½</h3><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><ul><li>Linuxçš„é©±åŠ¨ç¨‹åºå¯ä»¥ç¼–è¯‘åˆ°<code>kernel</code>é‡Œé¢ï¼ˆä¹Ÿå°±æ˜¯<code>zImage</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥ç¼–è¯‘ä¸ºæ¨¡å—<code>.ko</code>ã€‚æµ‹è¯•çš„æ—¶å€™åªéœ€è¦åŠ è½½<code>.ko</code>æ¨¡å—å°±å¯ä»¥ã€‚</li><li>ç¼–å†™é©±åŠ¨æ—¶çš„æ³¨æ„äº‹é¡¹<blockquote><ul><li>ç¼–è¯‘é©±åŠ¨çš„æ—¶å€™éœ€è¦ç”¨åˆ°Linuxå†…æ ¸æºç ï¼å› æ­¤è¦è§£å‹ç¼©Linuxå†…æ ¸æºç ï¼Œç¼–è¯‘Linuxå†…æ ¸æºç ï¼ç¼–è¯‘å®Œæˆä¼šå¾—åˆ°<code>zImage</code>å’Œ<code>.dtb</code>è®¾å¤‡æ ‘ã€‚éœ€è¦ä½¿ç”¨ç¼–è¯‘åå¾—åˆ°çš„<code>zImage</code>å’Œ<code>.dtb</code>å¯åŠ¨ç³»ç»Ÿã€‚</li></ul></blockquote></li></ul><h4 id="é©±åŠ¨æ¨¡å—çš„Makefile"><a href="#é©±åŠ¨æ¨¡å—çš„Makefile" class="headerlink" title="é©±åŠ¨æ¨¡å—çš„Makefile"></a>é©±åŠ¨æ¨¡å—çš„Makefile</h4><ul><li>Makefileçš„é€šç”¨å†™æ³•<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Makefile">KERNELDIR := /home/embedfire/kl_files/linux/IMX6ULL/linux<br>CURRENT_PATH := <span class="hljs-variable">$(<span class="hljs-built_in">shell</span> pwd)</span><br>obj-m := chrdevbase.o<br><br>build : kernel_modules<br><br><span class="hljs-section">kernel_modules:</span><br><span class="hljs-variable">$(MAKE)</span> -C <span class="hljs-variable">$(KERNELDIR)</span> M=<span class="hljs-variable">$(CURRENT_PATH)</span> modules<br><span class="hljs-section">clean:</span><br><span class="hljs-variable">$(MAKE)</span> -C <span class="hljs-variable">$(KERNELDIR)</span> M=<span class="hljs-variable">$(CURRENT_PATH)</span> clean<br></code></pre></td></tr></table></figure></li><li>æ³¨æ„è¦ä¿®æ”¹<code>c_cpp_properties.json</code>å½“ä¸­çš„è·¯å¾„å“¦ï¼ï¼ˆä¿®æ”¹äº†ä½ å°±å¯ä»¥å†™ä»£ç çš„æ—¶å€™æœ‰è¡¥å…¨ï¼Œä¸ç®¡å®ƒå¯¹æ¨¡å—çš„ç¼–è¯‘å’Œåº”ç”¨æ²¡å½±å“ï¼‰</li></ul><h4 id="é©±åŠ¨æ¨¡å—çš„ç¼–è¯‘"><a href="#é©±åŠ¨æ¨¡å—çš„ç¼–è¯‘" class="headerlink" title="é©±åŠ¨æ¨¡å—çš„ç¼–è¯‘"></a>é©±åŠ¨æ¨¡å—çš„ç¼–è¯‘</h4><ul><li><p><code>make</code>åœ¨Makefileå­˜æ”¾çš„ç›®å½•ä¸‹æ‰§è¡Œè¯¥å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåç”Ÿæˆ<code>.ko</code>æ¨¡å—</p></li><li><p><code>make clean</code>ç”¨äºæ¸…ç†ç¼–è¯‘ç”Ÿæˆçš„æ¨¡å—ç­‰æ–‡ä»¶</p></li><li><p>è¯·åœ¨ä½¿ç”¨<code>make</code>å‘½ä»¤ä¹‹å‰å…ˆä½¿ç”¨æ­¤å‘½ä»¤é€‰æ‹©äº¤å‰å·¥å…·é“¾<code>source /opt/fsl-imx-x11/4.1.15-2.1.0/environment-setup-cortexa7hf-neon-poky-linux-gnueabi</code></p></li><li><p>ç¼–è¯‘åº”ç”¨<code>arm-linux-gnueabihf-gcc chrdevbaseApp.c -o chrdevbaseApp</code></p></li></ul><h4 id="æ¨¡å—åŠ è½½å’Œå¸è½½å‘½ä»¤"><a href="#æ¨¡å—åŠ è½½å’Œå¸è½½å‘½ä»¤" class="headerlink" title="æ¨¡å—åŠ è½½å’Œå¸è½½å‘½ä»¤"></a>æ¨¡å—åŠ è½½å’Œå¸è½½å‘½ä»¤</h4><blockquote><p>æ¨¡å—çš„åŠ è½½</p></blockquote><ul><li><code>insmod</code>å…·ä½“ç”¨æ³•ï¼š<code>insmod xxx.ko</code></li><li><code>modprobe</code>å…·ä½“ç”¨æ³•ï¼š<code>modprobe xxx</code>ï¼Œè®°å¾—ä½¿ç”¨ä¹‹å‰ç”¨<code>depmod</code>åˆ·æ–°å½“å‰çš„æ¨¡å—å˜é‡å“¦ï¼</li><li>åŠ è½½å®Œæˆå¯ä»¥ä½¿ç”¨<code>cat /proc/devices</code>æŸ¥çœ‹æ¨¡å—çš„è®¾å¤‡å·å“¦ï¼</li></ul><blockquote><p>æ¨¡å—çš„å¸è½½</p></blockquote><ul><li><code>rmmod</code>å…·ä½“ç”¨æ³•ï¼š<code>rmmod xxx.ko</code></li><li><code>modprobe -r</code>å…·ä½“ç”¨æ³•ï¼š<code>modprobe -r xxx</code></li></ul><h4 id="å­—ç¬¦è®¾å¤‡é©±åŠ¨-åŸºäºè®¾å¤‡æ ‘çš„GPIOé«˜ä½ç”µå¹³é©±åŠ¨æ¨¡å—ç¼–å†™"><a href="#å­—ç¬¦è®¾å¤‡é©±åŠ¨-åŸºäºè®¾å¤‡æ ‘çš„GPIOé«˜ä½ç”µå¹³é©±åŠ¨æ¨¡å—ç¼–å†™" class="headerlink" title="å­—ç¬¦è®¾å¤‡é©±åŠ¨ - åŸºäºè®¾å¤‡æ ‘çš„GPIOé«˜ä½ç”µå¹³é©±åŠ¨æ¨¡å—ç¼–å†™"></a>å­—ç¬¦è®¾å¤‡é©±åŠ¨ - åŸºäºè®¾å¤‡æ ‘çš„GPIOé«˜ä½ç”µå¹³é©±åŠ¨æ¨¡å—ç¼–å†™</h4><p>Plusï¼šé©±åŠ¨ç¼–å†™å®Œæˆè¿›è¡Œæµ‹è¯•çš„æ—¶å€™è¦å¤šæ¬¡åŠ è½½å¸è½½æ¥æµ‹è¯•é©±åŠ¨çš„ç¨³å¥æ€§ï¼Œå¦‚æœä¸€ä¸¤æ¬¡åŠ è½½å¸è½½å¯ä»¥æˆåŠŸï¼Œè¯•å¤šå‡ æ¬¡å°±ä¸è¡Œäº†ï¼Œå¯èƒ½æ˜¯æˆ‘ä»¬åœ¨é©±åŠ¨ç¼–å†™çš„æ—¶å€™æ²¡æœ‰æ³¨é”€ã€æ‘§æ¯è®¾å¤‡ï¼Œæ²¡æœ‰é‡Šæ”¾å†…å­˜å¯¼è‡´çš„ï¼Œè¿™æ—¶å°±éœ€è¦æˆ‘ä»¬å›å»ä¿®æ”¹é©±åŠ¨ç›¸å…³ä»£ç å•¦ï¼</p><h5 id="å…·ä½“ç¼–å†™æµç¨‹"><a href="#å…·ä½“ç¼–å†™æµç¨‹" class="headerlink" title="å…·ä½“ç¼–å†™æµç¨‹"></a>å…·ä½“ç¼–å†™æµç¨‹</h5><ul><li><p>ç¼–å†™è®¾å¤‡ç»“æ„ä½“</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">module_dev</span>&#123;</span><br><span class="hljs-type">dev_t</span> devid; <span class="hljs-comment">// è®¾å¤‡å·</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">cdev</span> <span class="hljs-title">cdev</span>;</span> <span class="hljs-comment">// cdev</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-keyword">class</span> *<span class="hljs-keyword">class</span>;</span> <span class="hljs-comment">// ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">device</span> *<span class="hljs-title">device</span>;</span> <span class="hljs-comment">// è®¾å¤‡</span><br><span class="hljs-type">int</span> major; <span class="hljs-comment">// ä¸»è®¾å¤‡å·</span><br><span class="hljs-type">int</span> minor; <span class="hljs-comment">// æ¬¡è®¾å¤‡å·</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">device_node</span> *<span class="hljs-title">nd</span>;</span> <span class="hljs-comment">// è®¾å¤‡èŠ‚ç‚¹</span><br><span class="hljs-type">int</span> module_gpio; <span class="hljs-comment">// moduleè®¾å¤‡æ‰€ä½¿ç”¨çš„GPIOç¼–å·</span><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">module_dev</span> <span class="hljs-title">module</span>;</span> <span class="hljs-comment">/* module è®¾å¤‡ */</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™<code>module_open</code>å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">module_open</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> inode *inode, <span class="hljs-keyword">struct</span> file *filp)</span><br>&#123;<br>filp-&gt;private_data = &amp;module; <span class="hljs-comment">/* è®¾ç½®ç§æœ‰æ•°æ® */</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™<code>module_read</code>å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">ssize_t</span> <span class="hljs-title function_">module_read</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-type">char</span> __user *buf,</span><br><span class="hljs-params"><span class="hljs-type">size_t</span> cnt, <span class="hljs-type">loff_t</span> *offt)</span><br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™<code>module_write</code>å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">ssize_t</span> <span class="hljs-title function_">module_write</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-type">const</span> <span class="hljs-type">char</span> __user *buf,</span><br><span class="hljs-params"><span class="hljs-type">size_t</span> cnt, <span class="hljs-type">loff_t</span> *offt)</span><br>&#123;<br><span class="hljs-comment">/* ...... */</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™<code>module_release</code>å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">led_release</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> inode *inode, <span class="hljs-keyword">struct</span> file *filp)</span><br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™è®¾å¤‡æ“ä½œå‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">file_operations</span> <span class="hljs-title">module_fops</span> =</span> &#123;<br>.owner = THIS_MODULE,<br>.open = module_open,<br> .read = module_read,<br> .write = module_write,<br> .release = module_release,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™é©±åŠ¨å…¥å£å‡½æ•°<code>_module_init</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MODULE_CNT 1 <span class="hljs-comment">// è®¾å¤‡å·ä¸ªæ•°</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MODULE_NAME <span class="hljs-string">&quot;module&quot;</span> <span class="hljs-comment">// åå­—</span></span><br><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> __init _module_init(<span class="hljs-type">void</span>)<br>&#123;<br><span class="hljs-comment">/* è®¾ç½®moduleè®¾å¤‡æ‰€ä½¿ç”¨çš„GPIO */</span><br><span class="hljs-comment">// 1.è·å–è®¾å¤‡èŠ‚ç‚¹ï¼ˆgpioå­ç³»ç»ŸèŠ‚ç‚¹ï¼‰</span><br>module.nd = of_find_node_by_path(<span class="hljs-string">&quot;/module&quot;</span>);<br><span class="hljs-comment">// åˆ¤æ–­è®¾å¤‡èŠ‚ç‚¹æ˜¯å¦è·å–æˆåŠŸ</span><br><span class="hljs-keyword">if</span>(module.nd == <span class="hljs-literal">NULL</span>) <br>&#123;<br> printk(<span class="hljs-string">&quot;module node cant not found!\r\n&quot;</span>);<br> <span class="hljs-keyword">return</span> -EINVAL; <span class="hljs-comment">// è·å–å¤±è´¥è¿”å›å¤±è´¥å€¼</span><br> &#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>printk(<span class="hljs-string">&quot;module node has been found!\r\n&quot;</span>);<br> &#125;<br><br><span class="hljs-comment">// 2.è·å–è®¾å¤‡æ ‘ä¸­çš„gpioå±æ€§ï¼Œå¾—åˆ°moduleæ‰€ä½¿ç”¨çš„gpioç¼–å·</span><br>module.module_gpio = of_get_named_gpio(module.nd, <span class="hljs-string">&quot;module-gpio&quot;</span>, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">if</span>(module.module_gpio &lt; <span class="hljs-number">0</span>)<br>&#123;<br> printk(<span class="hljs-string">&quot;can&#x27;t get module-gpio&quot;</span>);<br><span class="hljs-keyword">return</span> -EINVAL;<br>&#125;<br> printk(<span class="hljs-string">&quot;module-gpio num = %d\r\n&quot;</span>, module.module_gpio);<br><br><span class="hljs-comment">// 3.å…¶ä»–è®¾ç½®ï¼Œæ¯”å¦‚è®¾ç½®gpioçš„ç”µå¹³è¾“å‡ºçŠ¶æ€ç­‰</span><br><br><span class="hljs-comment">/* æ³¨å†Œå­—ç¬¦è®¾å¤‡é©±åŠ¨ */</span><br><span class="hljs-comment">// 1.åˆ›å»ºè®¾å¤‡å·</span><br><span class="hljs-keyword">if</span> (module.major)<br>&#123; <br><span class="hljs-comment">/* å®šä¹‰äº†è®¾å¤‡å· */</span><br> module.devid = MKDEV(module.major, <span class="hljs-number">0</span>);<br> register_chrdev_region(module.devid, MODULE_CNT,MODULE_NAME);<br> &#125; <br><span class="hljs-keyword">else</span> <br>&#123; <br><span class="hljs-comment">/* æ²¡æœ‰å®šä¹‰è®¾å¤‡å· */</span><br> alloc_chrdev_region(&amp;module.devid, <span class="hljs-number">0</span>, MODULE_CNT, MODULE_NAME); <span class="hljs-comment">/* ç”³è¯·è®¾å¤‡å· */</span><br> module.major = MAJOR(module.devid); <span class="hljs-comment">/* è·å–åˆ†é…å·çš„ä¸»è®¾å¤‡å· */</span><br> module.minor = MINOR(module.devid); <span class="hljs-comment">/* è·å–åˆ†é…å·çš„æ¬¡è®¾å¤‡å· */</span><br> &#125;<br> printk(<span class="hljs-string">&quot;module major=%d,minor=%d\r\n&quot;</span>,module.major,module.minor);<br><br><span class="hljs-comment">// 2.åˆå§‹åŒ– cdev</span><br>module.cdev.owner = THIS_MODULE;<br>cdev_init(&amp;module.cdev, &amp;module_fops);<br><br><span class="hljs-comment">// 3.æ·»åŠ ä¸€ä¸ª cdev</span><br>cdev_add(&amp;module.cdev, module.devid, MODULE_CNT);<br><br><span class="hljs-comment">// 4.åˆ›å»ºç±»</span><br>module.class = class_create(THIS_MODULE, MODULE_NAME);<br> <span class="hljs-keyword">if</span> (IS_ERR(module.class))<br>&#123;<br> <span class="hljs-keyword">return</span> PTR_ERR(module.class);<br> &#125;<br><br><span class="hljs-comment">// 5.åˆ›å»ºè®¾å¤‡</span><br>module.device = device_create(module.class, <span class="hljs-literal">NULL</span>, module.devid, <span class="hljs-literal">NULL</span>, MODULE_NAME);<br> <span class="hljs-keyword">if</span> (IS_ERR(module.device))<br>&#123;<br> <span class="hljs-keyword">return</span> PTR_ERR(module.device);<br> &#125;<br> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™é©±åŠ¨å‡ºå£å‡½æ•°<code>_module_exit</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">void</span> __exit _module_exit(<span class="hljs-type">void</span>)<br>&#123;<br> <span class="hljs-comment">/* æ³¨é”€å­—ç¬¦è®¾å¤‡é©±åŠ¨ */</span><br> cdev_del(&amp;module.cdev); <span class="hljs-comment">/* åˆ é™¤ cdev */</span><br> unregister_chrdev_region(module.devid, MODULE_CNT); <span class="hljs-comment">/* æ³¨é”€è®¾å¤‡å· */</span><br><br> device_destroy(module.class, module.devid); <span class="hljs-comment">/* æ³¨é”€è®¾å¤‡ */</span><br> class_destroy(module.class); <span class="hljs-comment">/* æ³¨é”€ç±» */</span><br>&#125;<br><br><span class="hljs-comment">/* å°†è‡ªå·±ç¼–å†™çš„é©±åŠ¨å‡ºå…¥å£å‡½æ•°æ³¨å†Œè¿›APIå½“ä¸­ */</span><br>module_init(_module_init); <br>module_exit(_module_exit);<br><br>MODULE_LICENSE(<span class="hljs-string">&quot;GPL&quot;</span>); <span class="hljs-comment">// æ·»åŠ ç‰ˆæƒä¿¡æ¯</span><br>MODULE_AUTHOR(<span class="hljs-string">&quot;kkl&quot;</span>); <span class="hljs-comment">// æ·»åŠ ä½œè€…ä¿¡æ¯</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="é€šç”¨çš„i2c-devé©±åŠ¨-åŸºäºè®¾å¤‡æ ‘çš„I2Cé©±åŠ¨æ¨¡å—ç¼–å†™"><a href="#é€šç”¨çš„i2c-devé©±åŠ¨-åŸºäºè®¾å¤‡æ ‘çš„I2Cé©±åŠ¨æ¨¡å—ç¼–å†™" class="headerlink" title="é€šç”¨çš„i2c_devé©±åŠ¨ - åŸºäºè®¾å¤‡æ ‘çš„I2Cé©±åŠ¨æ¨¡å—ç¼–å†™"></a>é€šç”¨çš„i2c_devé©±åŠ¨ - åŸºäºè®¾å¤‡æ ‘çš„I2Cé©±åŠ¨æ¨¡å—ç¼–å†™</h4><h5 id="å…·ä½“ç¼–å†™æµç¨‹ï¼ˆåŸºäºap3216cå…‰ä¼ æ„Ÿå™¨"><a href="#å…·ä½“ç¼–å†™æµç¨‹ï¼ˆåŸºäºap3216cå…‰ä¼ æ„Ÿå™¨" class="headerlink" title="å…·ä½“ç¼–å†™æµç¨‹ï¼ˆåŸºäºap3216cå…‰ä¼ æ„Ÿå™¨"></a>å…·ä½“ç¼–å†™æµç¨‹ï¼ˆåŸºäºap3216cå…‰ä¼ æ„Ÿå™¨</h5><ul><li><p>ç¼–å†™è®¾å¤‡ç»“æ„ä½“</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ap3216c_dev</span> &#123;</span><br><span class="hljs-type">dev_t</span> devid; <span class="hljs-comment">// è®¾å¤‡å·</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">cdev</span> <span class="hljs-title">cdev</span>;</span> <span class="hljs-comment">// cdev</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-keyword">class</span> *<span class="hljs-keyword">class</span>;</span> <span class="hljs-comment">// ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">device</span> *<span class="hljs-title">device</span>;</span> <span class="hljs-comment">// è®¾å¤‡</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">device_node</span> *<span class="hljs-title">nd</span>;</span> <span class="hljs-comment">// è®¾å¤‡èŠ‚ç‚¹</span><br><span class="hljs-type">int</span> major; <span class="hljs-comment">// ä¸»è®¾å¤‡å·</span><br><span class="hljs-type">void</span> *private_data; <span class="hljs-comment">// ç§æœ‰æ•°æ®</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">short</span> ir, als, ps;<span class="hljs-comment">// ä¸‰ä¸ªå…‰ä¼ æ„Ÿå™¨æ•°æ®</span><br>&#125;;<br><br><span class="hljs-type">static</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ap3216c_dev</span> <span class="hljs-title">ap3216cdev</span>;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™I2Cè¯»å¤šä¸ªå¯„å­˜å™¨å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: ä»ap3216cè¯»å–å¤šä¸ªå¯„å­˜å™¨æ•°æ®</span><br><span class="hljs-comment"> * @param - dev: ap3216cè®¾å¤‡</span><br><span class="hljs-comment"> * @param - reg: è¦è¯»å–çš„å¯„å­˜å™¨é¦–åœ°å€</span><br><span class="hljs-comment"> * @param - val: è¯»å–åˆ°çš„æ•°æ®</span><br><span class="hljs-comment"> * @param - len: è¦è¯»å–çš„æ•°æ®é•¿åº¦</span><br><span class="hljs-comment"> * @return: æ“ä½œç»“æœ</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ap3216c_read_regs</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> ap3216c_dev *dev, u8 reg, <span class="hljs-type">void</span> *val, <span class="hljs-type">int</span> len)</span><br>&#123;<br><span class="hljs-comment">/* ...... */</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™I2Cå†™å¤šä¸ªå¯„å­˜å™¨å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: å‘ap3216cå¤šä¸ªå¯„å­˜å™¨å†™å…¥æ•°æ®</span><br><span class="hljs-comment"> * @param - dev: ap3216cè®¾å¤‡</span><br><span class="hljs-comment"> * @param - reg: è¦å†™å…¥çš„å¯„å­˜å™¨é¦–åœ°å€</span><br><span class="hljs-comment"> * @param - val: è¦å†™å…¥çš„æ•°æ®ç¼“å†²åŒº</span><br><span class="hljs-comment"> * @param - len: è¦å†™å…¥çš„æ•°æ®é•¿åº¦</span><br><span class="hljs-comment"> * @return: æ“ä½œç»“æœ</span><br><span class="hljs-comment"> */</span><br> <span class="hljs-type">static</span> s32 <span class="hljs-title function_">ap3216c_write_regs</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> ap3216c_dev *dev, u8 reg, u8 *buf, u8 len)</span><br>&#123;<br><span class="hljs-comment">/* ...... */</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™è®¾å¤‡æ–‡ä»¶æ‰“å¼€å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: æ‰“å¼€è®¾å¤‡</span><br><span class="hljs-comment"> * @param - inode: ä¼ é€’ç»™é©±åŠ¨çš„inode</span><br><span class="hljs-comment"> * @param - filp: è®¾å¤‡æ–‡ä»¶ï¼Œfileç»“æ„ä½“æœ‰ä¸ªå«åšprivate_dataçš„æˆå‘˜å˜é‡</span><br><span class="hljs-comment"> * @return: 0 æˆåŠŸ;å…¶ä»– å¤±è´¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ap3216c_open</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> inode *inode, <span class="hljs-keyword">struct</span> file *filp)</span><br>&#123;<br><span class="hljs-comment">/* ä¸€èˆ¬åœ¨opençš„æ—¶å€™å°†private_dataæŒ‡å‘è®¾å¤‡ç»“æ„ä½“ */</span> <br>filp-&gt;private_data = &amp;ap3216cdev;<br><span class="hljs-comment">/* åˆå§‹åŒ–AP3216C */</span><br>ap3216c_write_reg(&amp;ap3216cdev, AP3216C_SYSTEMCONG, <span class="hljs-number">0x04</span>); <span class="hljs-comment">// å¤ä½ap3216c</span><br>mdelay(<span class="hljs-number">50</span>); <span class="hljs-comment">// AP3216Cå¤ä½æœ€å°‘10ms</span><br>ap3216c_write_reg(&amp;ap3216cdev, AP3216C_SYSTEMCONG, <span class="hljs-number">0X03</span>); <span class="hljs-comment">// å¼€å¯ALSã€PS+IR </span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™è®¾å¤‡æ–‡ä»¶è¯»å–å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: ä»è®¾å¤‡è¯»å–æ•°æ® </span><br><span class="hljs-comment"> * @param - filp: è¦æ‰“å¼€çš„è®¾å¤‡æ–‡ä»¶(æ–‡ä»¶æè¿°ç¬¦)</span><br><span class="hljs-comment"> * @param - buf: è¿”å›ç»™ç”¨æˆ·ç©ºé—´çš„æ•°æ®ç¼“å†²åŒº</span><br><span class="hljs-comment"> * @param - cnt: è¦è¯»å–çš„æ•°æ®é•¿åº¦</span><br><span class="hljs-comment"> * @param - offt: ç›¸å¯¹äºæ–‡ä»¶é¦–åœ°å€çš„åç§»</span><br><span class="hljs-comment"> * @return: è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºè¯»å–å¤±è´¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">ssize_t</span> <span class="hljs-title function_">ap3216c_read</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-type">char</span> __user *buf, <span class="hljs-type">size_t</span> cnt, <span class="hljs-type">loff_t</span> *off)</span><br>&#123;<br><span class="hljs-type">short</span> data[<span class="hljs-number">3</span>];<br><span class="hljs-type">long</span> err = <span class="hljs-number">0</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ap3216c_dev</span> *<span class="hljs-title">dev</span> =</span> (<span class="hljs-keyword">struct</span> ap3216c_dev *)filp-&gt;private_data;<br><br>ap3216c_readdata(dev);<br><br>data[<span class="hljs-number">0</span>] = dev-&gt;ir;<br>data[<span class="hljs-number">1</span>] = dev-&gt;als;<br>data[<span class="hljs-number">2</span>] = dev-&gt;ps;<br>err = copy_to_user(buf, data, <span class="hljs-keyword">sizeof</span>(data));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™è®¾å¤‡é‡Šæ”¾å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: å…³é—­/é‡Šæ”¾è®¾å¤‡</span><br><span class="hljs-comment"> * @param - filp: è¦å…³é—­çš„è®¾å¤‡æ–‡ä»¶(æ–‡ä»¶æè¿°ç¬¦)</span><br><span class="hljs-comment"> * @return: 0 æˆåŠŸ;å…¶ä»– å¤±è´¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ap3216c_release</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> inode *inode, <span class="hljs-keyword">struct</span> file *filp)</span><br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™è®¾å¤‡æ“ä½œå‡½æ•°é›†åˆç»“æ„ä½“</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">file_operations</span> <span class="hljs-title">ap3216c_ops</span> =</span> &#123;<br> .owner = THIS_MODULE,<br> .open = ap3216c_open,<br> .read = ap3216c_read,<br> .release = ap3216c_release,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™I2Cé©±åŠ¨çš„åŒ¹é…å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment">* @description: i2cé©±åŠ¨çš„probeå‡½æ•°ï¼Œå½“é©±åŠ¨ä¸è®¾å¤‡åŒ¹é…ä»¥åæ­¤å‡½æ•°å°±ä¼šæ‰§è¡Œ      </span><br><span class="hljs-comment">* @param - client: i2cè®¾å¤‡</span><br><span class="hljs-comment">* @param - id: i2cè®¾å¤‡ID</span><br><span class="hljs-comment">* @return: 0-&gt;æˆåŠŸ; å…¶ä»–è´Ÿå€¼-&gt;å¤±è´¥</span><br><span class="hljs-comment">*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ap3216c_probe</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> i2c_client *client, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> i2c_device_id *id)</span><br>&#123;<br><span class="hljs-comment">// 1.æ„å»ºè®¾å¤‡å·</span><br><span class="hljs-keyword">if</span> (ap3216cdev.major)<br>&#123;<br>ap3216cdev.devid = MKDEV(ap3216cdev.major, <span class="hljs-number">0</span>);<br>register_chrdev_region(ap3216cdev.devid, AP3216C_CNT, AP3216C_NAME);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>alloc_chrdev_region(&amp;ap3216cdev.devid, <span class="hljs-number">0</span>, AP3216C_CNT, AP3216C_NAME);<br>ap3216cdev.major = MAJOR(ap3216cdev.devid);<br>&#125;<br><br><span class="hljs-comment">// 2.æ³¨å†Œè®¾å¤‡</span><br>cdev_init(&amp;ap3216cdev.cdev, &amp;ap3216c_ops);<br>cdev_add(&amp;ap3216cdev.cdev, ap3216cdev.devid, AP3216C_CNT);<br><br><span class="hljs-comment">// 3.åˆ›å»ºç±»</span><br>ap3216cdev.class = class_create(THIS_MODULE, AP3216C_NAME);<br><span class="hljs-keyword">if</span> (IS_ERR(ap3216cdev.class))<br>&#123;<br><span class="hljs-keyword">return</span> PTR_ERR(ap3216cdev.class);<br>&#125;<br><br><span class="hljs-comment">// 4.åˆ›å»ºè®¾å¤‡</span><br>ap3216cdev.device = device_create(ap3216cdev.class, <span class="hljs-literal">NULL</span>, ap3216cdev.devid, <span class="hljs-literal">NULL</span>, AP3216C_NAME);<br><span class="hljs-keyword">if</span> (IS_ERR(ap3216cdev.device))<br>&#123;<br><span class="hljs-keyword">return</span> PTR_ERR(ap3216cdev.device);<br>&#125;<br><br>ap3216cdev.private_data = client;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™I2Cé©±åŠ¨çš„ç§»é™¤å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: i2cé©±åŠ¨çš„removeå‡½æ•°ï¼Œç§»é™¤i2cé©±åŠ¨çš„æ—¶å€™æ­¤å‡½æ•°ä¼šæ‰§è¡Œ</span><br><span class="hljs-comment"> * @param - client: i2cè®¾å¤‡</span><br><span class="hljs-comment"> * @return: 0-&gt;æˆåŠŸ; å…¶ä»–è´Ÿå€¼-&gt;å¤±è´¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ap3216c_remove</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> i2c_client *client)</span><br>&#123;<br><span class="hljs-comment">/* åˆ é™¤è®¾å¤‡ */</span><br>cdev_del(&amp;ap3216cdev.cdev);<br>unregister_chrdev_region(ap3216cdev.devid, AP3216C_CNT);<br><br><span class="hljs-comment">/* æ³¨é”€æ‰ç±»å’Œè®¾å¤‡ */</span><br>device_destroy(ap3216cdev.class, ap3216cdev.devid);<br>class_destroy(ap3216cdev.class);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºåŒ¹é…åˆ—è¡¨å’ŒI2Cé©±åŠ¨ç»“æ„ä½“</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ä¼ ç»ŸåŒ¹é…æ–¹å¼IDåˆ—è¡¨ */</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">i2c_device_id</span> <span class="hljs-title">ap3216c_id</span>[] =</span> &#123;<br>&#123;<span class="hljs-string">&quot;alientek,ap3216c&quot;</span>, <span class="hljs-number">0</span>&#125;,  <br>&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">/* è®¾å¤‡æ ‘åŒ¹é…åˆ—è¡¨ */</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">of_device_id</span> <span class="hljs-title">ap3216c_of_match</span>[] =</span> &#123;<br>&#123; .compatible = <span class="hljs-string">&quot;alientek,ap3216c&quot;</span> &#125;,<br>&#123; <span class="hljs-comment">/* Sentinel */</span> &#125;<br>&#125;;<br><br><span class="hljs-comment">/* i2cé©±åŠ¨ç»“æ„ä½“ */</span><br><span class="hljs-type">static</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">i2c_driver</span> <span class="hljs-title">ap3216c_driver</span> =</span> &#123;<br>.probe = ap3216c_probe,<br>.remove = ap3216c_remove,<br>.driver = &#123;<br>.owner = THIS_MODULE,<br>   .name = <span class="hljs-string">&quot;ap3216c&quot;</span>,<br>   .of_match_table = ap3216c_of_match, <br>   &#125;,<br>.id_table = ap3216c_id,<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™é©±åŠ¨å‡ºå…¥å£å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: é©±åŠ¨å…¥å£å‡½æ•°</span><br><span class="hljs-comment"> * @param: æ— </span><br><span class="hljs-comment"> * @return: æ— </span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> __init <span class="hljs-title function_">ap3216c_init</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br><span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br><br>ret = i2c_add_driver(&amp;ap3216c_driver);<br><span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @description: é©±åŠ¨å‡ºå£å‡½æ•°</span><br><span class="hljs-comment"> * @param: æ— </span><br><span class="hljs-comment"> * @return: æ— </span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">static</span> <span class="hljs-type">void</span> __exit <span class="hljs-title function_">ap3216c_exit</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>i2c_del_driver(&amp;ap3216c_driver);<br>&#125;<br><br><span class="hljs-comment">/* module_i2c_driver(ap3216c_driver) */</span><br><br>module_init(ap3216c_init);<br>module_exit(ap3216c_exit);<br>MODULE_LICENSE(<span class="hljs-string">&quot;GPL&quot;</span>);<br>MODULE_AUTHOR(<span class="hljs-string">&quot;kkl&quot;</span>);<br><br></code></pre></td></tr></table></figure></li></ul><hr><h2 id="è®¾å¤‡æ ‘"><a href="#è®¾å¤‡æ ‘" class="headerlink" title="è®¾å¤‡æ ‘"></a>è®¾å¤‡æ ‘</h2><ul><li>VScodeè®¾å¤‡æ ‘é«˜äº®æ’ä»¶ï¼šdevicetree</li></ul><h3 id="pinctrlå­ç³»ç»Ÿ"><a href="#pinctrlå­ç³»ç»Ÿ" class="headerlink" title="pinctrlå­ç³»ç»Ÿ"></a>pinctrlå­ç³»ç»Ÿ</h3><ol><li><p>åœ¨<code>iomuxc</code>ä¸­åˆ›å»ºpinctrlèŠ‚ç‚¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs devicetree">pinctrl_test: testgrp &#123;<br><br>/* å…·ä½“çš„PINä¿¡æ¯ */<br><br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ â€fsl,pinsâ€å±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs devicetree">pinctrl_test: testgrp &#123;<br>fsl,pins = &lt;<br>/* è®¾å¤‡æ‰€ä½¿ç”¨çš„ PIN é…ç½®ä¿¡æ¯ */<br>MX6UL_PAD_GPIO1_IO00__GPIO1_IO00 config /* config æ˜¯å…·ä½“è®¾ç½®å€¼ */<br>&gt;;<br>&#125;;<br></code></pre></td></tr></table></figure></li></ol><h3 id="gpioå­ç³»ç»Ÿ"><a href="#gpioå­ç³»ç»Ÿ" class="headerlink" title="gpioå­ç³»ç»Ÿ"></a>gpioå­ç³»ç»Ÿ</h3><ol><li>åœ¨æ ¹èŠ‚ç‚¹<code>/</code>ä¸‹åˆ›å»ºgpioè®¾å¤‡å­èŠ‚ç‚¹</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs devicetree">test &#123;<br>/* èŠ‚ç‚¹å†…å®¹ */<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ pinctrlä¿¡æ¯</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs devicetree">test &#123;<br>pinctrl-names = &quot;default&quot;; /* æ·»åŠ pinctrl-nameå±æ€§ï¼Œæè¿°pinctrlåå­—ä¸º&quot;default&quot; */<br>pinctrl-0 = &lt;&amp;pinctrl_test&gt;; /* æ·»åŠ pinctrl-0èŠ‚ç‚¹ï¼Œè¡¨ç¤ºtestè®¾å¤‡æ‰€ä½¿ç”¨çš„Pinä¿¡æ¯ä¿å­˜åœ¨pinctrl_testèŠ‚ç‚¹å½“ä¸­ */<br>/* å…¶ä»–èŠ‚ç‚¹å†…å®¹ */<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li>æ·»åŠ gpioå±æ€§ä¿¡æ¯</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs devicetree">test &#123;<br>pinctrl-names = &quot;default&quot;; /* æ·»åŠ pinctrl-nameå±æ€§ï¼Œæè¿°pinctrlåå­—ä¸º&quot;default&quot; */<br>pinctrl-0 = &lt;&amp;pinctrl_test&gt;; /* æ·»åŠ pinctrl-0èŠ‚ç‚¹ï¼Œè¡¨ç¤ºtestè®¾å¤‡æ‰€ä½¿ç”¨çš„Pinä¿¡æ¯ä¿å­˜åœ¨pinctrl_testèŠ‚ç‚¹å½“ä¸­ */<br>gpio = &lt;&amp;gpio1 0 GPIO_ACTIVE_LOW&gt;;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h3><h4 id="é•¿å®šæ—¶ï¼ˆP1260ï¼‰"><a href="#é•¿å®šæ—¶ï¼ˆP1260ï¼‰" class="headerlink" title="é•¿å®šæ—¶ï¼ˆP1260ï¼‰"></a>é•¿å®šæ—¶ï¼ˆP1260ï¼‰</h4><h4 id="çŸ­å»¶æ—¶Delayï¼ˆP1260ï¼‰"><a href="#çŸ­å»¶æ—¶Delayï¼ˆP1260ï¼‰" class="headerlink" title="çŸ­å»¶æ—¶Delayï¼ˆP1260ï¼‰"></a>çŸ­å»¶æ—¶Delayï¼ˆP1260ï¼‰</h4><hr><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="æ‰“å¼€æœ‰ç®¡ç†å‘˜æƒé™çš„æ–‡ä»¶ç®¡ç†å™¨"><a href="#æ‰“å¼€æœ‰ç®¡ç†å‘˜æƒé™çš„æ–‡ä»¶ç®¡ç†å™¨" class="headerlink" title="æ‰“å¼€æœ‰ç®¡ç†å‘˜æƒé™çš„æ–‡ä»¶ç®¡ç†å™¨"></a>æ‰“å¼€æœ‰ç®¡ç†å‘˜æƒé™çš„æ–‡ä»¶ç®¡ç†å™¨</h3><ul><li><code>sudo nautilus</code></li></ul><h3 id="åˆ é™¤éç©ºæ–‡ä»¶å¤¹"><a href="#åˆ é™¤éç©ºæ–‡ä»¶å¤¹" class="headerlink" title="åˆ é™¤éç©ºæ–‡ä»¶å¤¹"></a>åˆ é™¤éç©ºæ–‡ä»¶å¤¹</h3><ul><li><code>rm -r xxx</code>-rçš„æ„æ€å°±æ˜¯é€’å½’æ“ä½œï¼Œå°†ä¼šåˆ é™¤è¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼</li></ul><h3 id="æŸ¥çœ‹dmesgæ—¥å¿—ä¿¡æ¯"><a href="#æŸ¥çœ‹dmesgæ—¥å¿—ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹dmesgæ—¥å¿—ä¿¡æ¯"></a>æŸ¥çœ‹dmesgæ—¥å¿—ä¿¡æ¯</h3><ul><li><code>dmesg</code>æŠŠä»å¯åŠ¨å¼€å§‹åˆ°å½“å‰æ˜¯æ‰€æœ‰æ—¥å¿—éƒ½æ‰“å°å‡ºæ¥</li><li><code>dmesg | tail</code>é»˜è®¤æ‰“å°æœ€è¿‘çš„åæ¡æ—¥å¿—</li><li><code>dmesg | tail -20</code>æ‰“å°æœ€è¿‘çš„äºŒåæ¡æ—¥å¿—</li></ul><h3 id="æŒ‚è½½SDå¡"><a href="#æŒ‚è½½SDå¡" class="headerlink" title="æŒ‚è½½SDå¡"></a>æŒ‚è½½SDå¡</h3><ol><li>é€šè¿‡<code>fdisk -l</code>ç¡®å®šsdå¡çš„å­˜åœ¨</li><li>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œæˆ‘é€‰æ‹©<code>/mnt/mmc</code></li><li>æŒ‚è½½sdå¡åˆ°æ–°åˆ›å»ºçš„ç©ºæ–‡ä»¶å¤¹<code>mount /dev/mmcblk0p1 /mnt/mmc</code></li></ol><ul><li>å¸è½½å¯ä»¥ä½¿ç”¨<code>umount /mnt/mmc</code>ï¼Œæ³¨æ„å¸è½½çš„æ—¶å€™ä½ æ‰€åœ¨çš„å½“å‰ç›®å½•ä¸èƒ½æ˜¯&#x2F;mntï¼Œå¦åˆ™ä¼šå¸è½½å¤±è´¥çš„ã€‚</li></ul><h3 id="å¤åˆ¶éç©ºæ–‡ä»¶å¤¹"><a href="#å¤åˆ¶éç©ºæ–‡ä»¶å¤¹" class="headerlink" title="å¤åˆ¶éç©ºæ–‡ä»¶å¤¹"></a>å¤åˆ¶éç©ºæ–‡ä»¶å¤¹</h3><ul><li><code>cp -r /home/packageA/* /home/packageB/</code> æˆ–è€…<code>cp /home/packageA/* /home/packageB/</code>æ˜¯æŠŠpackageAä¸­çš„æ–‡ä»¶éƒ½å¤åˆ¶åˆ°packageBä¸­</li><li><code>cp -r /home/packageA/ /home/cp/packageB/</code> æ˜¯ç›´æ¥æŠŠpackageAæ–‡ä»¶å¤¹å¤åˆ¶åˆ°packageBä¸­</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell">Linux cpï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šcopy fileï¼‰å‘½ä»¤ä¸»è¦ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚<br><br>è¯­æ³•<br>cp [options] source dest<br>æˆ–<br><br>cp [options] source... directory<br>å‚æ•°è¯´æ˜ï¼š<br><br>-aï¼šæ­¤é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶å¤åˆ¶ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚å…¶ä½œç”¨ç­‰äºdpRå‚æ•°ç»„åˆã€‚<br>-dï¼šå¤åˆ¶æ—¶ä¿ç•™é“¾æ¥ã€‚è¿™é‡Œæ‰€è¯´çš„é“¾æ¥ç›¸å½“äº Windows ç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼ã€‚<br>-fï¼šè¦†ç›–å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸ç»™å‡ºæç¤ºã€‚<br>-iï¼šä¸ -f é€‰é¡¹ç›¸åï¼Œåœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰ç»™å‡ºæç¤ºï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦è¦†ç›–ï¼Œå›ç­” y æ—¶ç›®æ ‡æ–‡ä»¶å°†è¢«è¦†ç›–ã€‚<br>-pï¼šé™¤å¤åˆ¶æ–‡ä»¶çš„å†…å®¹å¤–ï¼Œè¿˜æŠŠä¿®æ”¹æ—¶é—´å’Œè®¿é—®æƒé™ä¹Ÿå¤åˆ¶åˆ°æ–°æ–‡ä»¶ä¸­ã€‚<br>-rï¼šè‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œæ­¤æ—¶å°†å¤åˆ¶è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶ã€‚<br>-lï¼šä¸å¤åˆ¶æ–‡ä»¶ï¼Œåªæ˜¯ç”Ÿæˆé“¾æ¥æ–‡ä»¶ã€‚<br>å®ä¾‹<br>ä½¿ç”¨æŒ‡ä»¤ cp å°†å½“å‰ç›®å½• test/ ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç›®å½• newtest ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cp</span> â€“r <span class="hljs-built_in">test</span>/ newtest</span>          <br>æ³¨æ„ï¼šç”¨æˆ·ä½¿ç”¨è¯¥æŒ‡ä»¤å¤åˆ¶ç›®å½•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å‚æ•° -r æˆ–è€… -R ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>IMX6ULL</tag>
      
      <tag>é©±åŠ¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„FreeRTOSä½¿ç”¨æŒ‡å—</title>
    <link href="/2023/12/09/MyFreeRTOSLearningGuide/MyFreeRTOSLearningGuide/"/>
    <url>/2023/12/09/MyFreeRTOSLearningGuide/MyFreeRTOSLearningGuide/</url>
    
    <content type="html"><![CDATA[<h1 id="æˆ‘çš„FreeRTOSä½¿ç”¨æŒ‡å—"><a href="#æˆ‘çš„FreeRTOSä½¿ç”¨æŒ‡å—" class="headerlink" title="æˆ‘çš„FreeRTOSä½¿ç”¨æŒ‡å—"></a>æˆ‘çš„FreeRTOSä½¿ç”¨æŒ‡å—</h1><h1 id="MyFreeRTOS-LearningGuide"><a href="#MyFreeRTOS-LearningGuide" class="headerlink" title="MyFreeRTOS-LearningGuide"></a>MyFreeRTOS-LearningGuide</h1><h2 id="By-kkl"><a href="#By-kkl" class="headerlink" title="By @kkl"></a>By @kkl</h2><hr><h2 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h2><blockquote><p>æœ¬æŒ‡å—ç€é‡äºFreeRTOSçš„APIä»å…¥é—¨åˆ°å…¥åœŸçš„æ‰€æœ‰ç”¨æ³•ï¼ˆMaybe<br>ä¸ä¼šå¤ªæ·±ç©¶åº•å±‚çš„å†…æ ¸å®ç°ï¼Œå¯èƒ½æœ‰ä¸€äº›ç›¸å…³æ€§å¼ºçš„ä¼šQä¸€ä¸‹<br>ä¼šè®²ä¸€äº›æˆ‘å­¦ä¹ RTOSçš„æ—¶å€™å¡å…³çš„åœ°æ–¹ï¼Œæˆ–è€…æ˜¯è§‰å¾—è«åå…¶å¦™çš„ã€ç†è§£å›°éš¾çš„ç‚¹<br>ä¸»å¼ ä¸€ä¸ªï¼Œçœ‹ç€å°±èƒ½ç”¨ï¼Œæˆ–è€…æ˜¯çœ‹ç€çœ‹ç€å°±ä¼šç”¨ï¼Œè€Œä¸”ç”¨çš„è¿˜ä¸€æºœä¸€æºœçš„FreeRTOSæŒ‡å—</p></blockquote><hr><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><ul><li>MCU: STM32F405ï¼ˆç°åœ¨æ˜¯äºŒä¸‰å¹´åäºŒæœˆï¼Œæœ€è¿‘æ‰åå…ƒé’±æ¯ç‰‡ï¼Œä»¥å‰å•ä»·åå¤šå…ƒæˆ‘è¿˜å‚»ä¹ä¹åœ°ä¹°äº†å¥½å¤šâ€¦æ‚²</li><li>å·¥ç¨‹: æ ‡å‡†åº“ + VScode + Keilï¼ˆæ ‡å‡†å¼€å±€</li><li>ç‰ˆæœ¬: FreeRTOSv9.0.0</li></ul><hr><h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><ul><li>è®²è®²æˆ‘ä»¬æå‰å¿…é¡»è¦çŸ¥é“çš„ä¸€äº›çŸ¥è¯†ç‚¹å’Œæ¦‚å¿µï¼Œä¸ç„¶åé¢çœ‹åˆ°ä»£ç ä¼šç›´æ¥æ‡µåœˆã€‚</li></ul><blockquote><p><strong>1.å †æ ˆ</strong></p><ul><li>ç®€å•æ¥è¯´å°±æ˜¯å†…å­˜åŠ¨æ€åˆ†é…çš„é—®é¢˜ï¼Œæ¯”æ–¹è¯´ä½ ä»£ç è·‘èµ·æ¥ä¹‹åï¼Œä¼šåœ¨æŸå‡½æ•°é‡Œé¢åˆ›å»º<code>ä¸´æ—¶å˜é‡</code>ï¼ˆä¹Ÿå«<code>å±€éƒ¨å˜é‡</code>ï¼‰çš„æ—¶å€™ï¼Œå°±ä¼šç”¨ä¸Šå †æ ˆã€‚</li><li><strong>æ ˆ(Stack)</strong> ï¼šå°±æ˜¯åœ¨æŸä¸ªå‡½æ•°åˆ›å»ºçš„<code>ä¸´æ—¶å˜é‡</code>çš„å†…å­˜æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ç»™ä½ åˆ†é…çš„ã€‚å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨å¸®ä½ é‡Šæ”¾äº†è¿™ä¸ª<code>ä¸´æ—¶å˜é‡</code>çš„å†…å­˜ã€‚</li><li>æ ˆä¹Ÿç”¨åœ¨è§¦å‘ä¸­æ–­çš„æ—¶å€™ï¼Œç”¨äºä¿æŠ¤ç°åœºï¼ˆå½“å‰å‡½æ•°åœ°å€å•Šå¯„å­˜å™¨å€¼å•Šï¼Œæ–¹ä¾¿ä»ä¸­æ–­å›æ¥çš„æ—¶å€™è¿˜åŸç°åœºå“ˆã€‚</li><li>å½“ç„¶æ ˆçš„ä½¿ç”¨è¿˜åŒ…æ‹¬ä½ å‡½æ•°å‚æ•°<code>eg: void Func(int Temp[256])</code>è¿™é‡Œçš„å˜é‡<code>Temp[256]</code>ä¹Ÿæ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨å¸®ä½ ç”³è¯·å†…å­˜ã€‚æ‰€ä»¥ä¸ºå•¥æœ‰æ—¶å€™ç§»æ¤ä¸€äº›å¤§å‹åº“çš„æ—¶å€™ä½ ä»€ä¹ˆéƒ½é…ç½®å¥½äº†å‡½æ•°ä¹Ÿæ²¡æœ‰å‡ºé”™ç¼–è¯‘å™¨å´æŠ¥é”™ï¼ŒåŸå› å¯èƒ½æ˜¯åº“å½“ä¸­çš„æŸäº›å‡½æ•°ç”³è¯·çš„<code>å±€éƒ¨å˜é‡</code>å¤ªå¤§ï¼Œè€Œä½ çš„æ ˆåˆ†é…çš„å¤ªå°å¯¼è‡´çš„ã€‚</li><li><strong>å †(Heap)</strong> ï¼šå°±æ˜¯mallocæˆ–è€…newï¼Œç®€å•è¯´å°±æ˜¯mallocï¼Œä½ è‡ªå·±åˆ†é…å†…å­˜ï¼Œå½“ç„¶ä¹Ÿè¦ä½ è‡ªå·±å»é‡Šæ”¾freeï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸä¸é‡Šæ”¾å†…å­˜ï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</li><li><strong>é™æ€åŒº(Static)</strong> ï¼šå°±æ˜¯ä½ æ”¾<code>å…¨å±€å˜é‡</code>æˆ–è€…<code>staticä¿®é¥°çš„å˜é‡</code>çš„åœ°æ–¹å•¦ã€‚<blockquote><ul><li>é‚£ä¹ˆåœ¨FreeRTOSä¸­å„ä¸ªä»»åŠ¡éƒ½æœ‰è‡ªå·±çš„å †æ ˆï¼Œä¸€èˆ¬å‘¢æˆ‘ä»¬åªç®¡å†™è¿™ä¸ªä»»åŠ¡éœ€è¦å¤šå¤§çš„å †æ ˆï¼ŒFreeRTOSä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ä»RAMä¸­ç”³è¯·å†…å­˜ã€‚åŒ…æ‹¬ä¿¡å·é‡ã€é˜Ÿåˆ—è¿™äº›éƒ½æ˜¯ã€‚</li><li><code>configSUPPORT_STATIC_ALLOCATION</code>ä¸º0çš„æ—¶å€™ï¼ŒFreeRTOSä¼šä½¿ç”¨<code>heap_x.c(xä¸º 1~5)</code>ä¸­çš„åŠ¨æ€å†…å­˜ç®¡ç†å‡½æ•°æ¥è‡ªåŠ¨ç”³è¯·RAMï¼›å½“æ­¤å®å®šä¹‰ä¸º1çš„æ—¶å€™ï¼Œç”¨æˆ·å¯ä»¥ç»™FreeRTOSæŒ‡å®šä¸€å—é™æ€RAMå†…å­˜ï¼Œä½ å°±å¯ä»¥æ‰§è¡Œç±»ä¼¼<code>xTaskCreateStatic</code>çš„å‡½æ•°å•¦ã€‚ä¸€èˆ¬å’±ä»¬å†™0å°±è¡Œï¼ˆé»˜è®¤ä¹Ÿæ˜¯å†™0çš„</li><li><code>configTOTAL_HEAP_SIZE</code></li><li><code>#define XXX_STK_SIZE 256</code>æ„æ€æ˜¯è®¾ç½®XXXä»»åŠ¡çš„å †æ ˆå¤§å°ä¸º256*4(å­—èŠ‚&#x2F;byte</li></ul></blockquote></li></ul></blockquote><blockquote><p><strong>2.ä½å’Œå­—èŠ‚</strong></p><ul><li><strong>ä½(bit)</strong></li><li><strong>å­—èŠ‚(Byte)</strong> ï¼š1 byte &#x3D; 8 bit</li><li>åœ¨å•ç‰‡æœºä¸­å¯ä»¥ç®€å•çš„æŠŠ<code>byte</code>ç†è§£æˆ<code>char</code>ç±»å‹æˆ–è€…<code>unsigned char</code>ç±»å‹</li></ul></blockquote><blockquote><p><strong>3.é’©å­</strong></p><ul><li>ChatGPTè¯´ï¼ŒFreeRTOSçš„é’©å­å‡½æ•°(Hooks)æ˜¯ä¸€ç»„å¯ç”±ç”¨æˆ·è‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°</li></ul></blockquote><blockquote><p><strong>4.ä¼˜å…ˆçº§</strong></p><ul><li>ä½¿ç”¨FreeRTOSæœ€å¥½æŠŠä¼˜å…ˆçº§åˆ†ç»„é€‰æ‹©ä¸º<code>NVIC_PriorityGroup_4</code>ï¼Œå¯„å­˜å™¨çš„4ä½bitéƒ½è®¾ç½®ä¸ºæŠ¢å ä¼˜å…ˆçº§ï¼Œè¿™æ ·å°±æœ‰ 0~15 å…±16ä¸ªæŠ¢å ä¼˜å…ˆçº§å¯ä¾›é€‰æ‹©ã€‚å› ä¸ºFreeRTOSçš„ä¸­æ–­é…ç½®é‡Œä¸èƒ½å¤„ç†äºšä¼˜å…ˆçº§ï¼ˆæ’é˜Ÿä¼˜å…ˆçº§ï¼‰çš„è¿™ç§æƒ…å†µã€‚</li><li>ä»»åŠ¡ä¼˜å…ˆçº§</li><li>FreeRTOSçš„ä»»åŠ¡ä¼˜å…ˆçº§æ˜¯0æœ€ä¸ä¼˜å…ˆï¼Œè¶Šå¤§è¶Šä¼˜å…ˆï¼Œå’Œä¸­æ–­ä¼˜å…ˆçº§ç›¸åçš„å“ˆï¼</li></ul></blockquote><hr><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="1-1-ä¸­æ–­å±è”½"><a href="#1-1-ä¸­æ–­å±è”½" class="headerlink" title="1.1 ä¸­æ–­å±è”½"></a>1.1 ä¸­æ–­å±è”½</h3><ul><li><code>configLIBRARY_MAX_SYSCALL_INTERRUPT_PRIORITY</code>æ­¤å®ç”¨æ¥è®¾ç½®FreeRTOSç³»ç»Ÿå¯ä»¥ç®¡ç†çš„æœ€å¤§ä¼˜å…ˆçº§ã€‚å¯ä»¥è‡ªç”±è®¾ç½®ï¼Œæ­£ç‚¹åŸå­è®¾ç½®ä¸º5ï¼Œæˆ‘ä¹Ÿè®¾ç½®ä¸º5ã€‚ä¹Ÿå°±æ˜¯è¯´æŠ¢å ä¼˜å…ˆçº§å°äº5çš„ä¸­æ–­ä¸å½’FreeRTOSç®¡ç†ã€‚</li><li><code>configMAX_SYSCALL_INTERRUPT_PRIORITY</code>æ­¤å®ç”¨æ¥è®¾ç½®FreeRTOSç³»ç»Ÿå¯ä»¥ç®¡ç†çš„æœ€å°ä¼˜å…ˆçº§ã€‚å¯ä»¥è‡ªç”±è®¾ç½®ï¼Œæ­£ç‚¹åŸå­å’Œæˆ‘éƒ½è®¾ç½®æˆ15ã€‚ä¹Ÿå°±æ˜¯è¯´æŠ¢å ä¼˜å…ˆçº§å¤§äº15çš„ä¸­æ–­ä¸å½’FreeRTOSç®¡ç†ï¼Œå½“ç„¶STM32çš„ä¼˜å…ˆçº§åªæœ‰ 0~15 å“ˆã€‚</li><li>æ‰€ä»¥ä¸Šè¿°ä¸¤ä¸ªå®åŠ èµ·æ¥çš„æ„æ€å°±æ˜¯ï¼Œ<strong>æŠ¢å ä¼˜å…ˆçº§ä¸º 0-4 çš„ä¸­æ–­ä¸å½’FreeRTOSè°ƒåº¦ï¼ŒæŠ¢å ä¼˜å…ˆçº§ 5-15 çš„ä¸­æ–­æœä»FreeRTOSçš„è°ƒåº¦ã€‚</strong></li><li><em>Plus: ä¸å½’FreeRTOSè°ƒåº¦çš„ä¸­æ–­ï¼Œä¸å¯ä»¥è°ƒç”¨FreeRTOSçš„APIå“¦ï¼Œä¸å¯ä»¥å“¦ï¼æ‰“å’©ï¼</em></li></ul><h3 id="1-2-å¼€å…³ä¸­æ–­"><a href="#1-2-å¼€å…³ä¸­æ–­" class="headerlink" title="1.2 å¼€å…³ä¸­æ–­"></a>1.2 å¼€å…³ä¸­æ–­</h3><h3 id="1-3-ä¸´ç•Œæ®µä»£ç ï¼ˆä¸´ç•ŒåŒºï¼‰"><a href="#1-3-ä¸´ç•Œæ®µä»£ç ï¼ˆä¸´ç•ŒåŒºï¼‰" class="headerlink" title="1.3 ä¸´ç•Œæ®µä»£ç ï¼ˆä¸´ç•ŒåŒºï¼‰"></a>1.3 ä¸´ç•Œæ®µä»£ç ï¼ˆä¸´ç•ŒåŒºï¼‰</h3><h4 id="1-3-1-ä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤"><a href="#1-3-1-ä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤" class="headerlink" title="1.3.1 ä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤"></a>1.3.1 ä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤</h4><ul><li>å‡½æ•°<code>taskENTER_CRITICAL()</code>è¿›å…¥ä¸´ç•ŒåŒºå’Œ<code>taskEXIT_CRITICAL()</code>é€€å‡ºä¸´ç•ŒåŒºï¼Œæ˜¯ä»»åŠ¡çº§çš„ä¸´ç•Œæ®µä»£ç ä¿æŠ¤ã€‚ä¿æŠ¤è¿™ä¸¤ä¸ªå‡½æ•°åŒ…å¤¹çš„åŒºåŸŸä¸ä¼šå—åˆ°ä¸­æ–­çš„æ‰“æ‰°ã€‚</li><li><strong>Important1: è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯æˆå¯¹ä½¿ç”¨çš„å“¦ï¼ä¸å¯ä»¥åªç”¨å…¶ä¸­ä¸€ä¸ªï¼Œå®ƒä»¬å¿…é¡»æˆåŒæˆå¯¹çš„å‡ºç°ï¼å°±æ˜¯è¯´ï¼Œä½ è°ƒç”¨äº†å¤šå°‘æ¬¡è¿›å…¥ä¸´ç•Œæ®µï¼Œä½ å°±è¦è°ƒç”¨å¤šå°‘æ¬¡é€€å‡ºä¸´ç•Œæ®µæ¥æŠµæ¶ˆï¼å¦åˆ™ä¸­æ–­ä¼šä¸€ç›´è¢«å±è”½ï¼</strong></li><li><strong>Important2: ä¸´ç•ŒåŒºçš„ä»£ç ä¸€å®šè¦ç²¾ç®€ï¼å› ä¸ºè¿›å…¥äº†ä¸´ç•ŒåŒºæ„å‘³ç€å…³é—­äº†FreeRTOSå¯ä»¥è°ƒåº¦çš„æ‰€æœ‰ä¸­æ–­ï¼Œä½ ä¸ç²¾ç®€ä¸€ç‚¹ï¼Œå™¼é‡Œå•ªå•¦ä¸€å¤§é•¿ä¸²ï¼Œæ‰§è¡Œå¥½å‡ ç§’ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿™äº›ä¸­æ–­å¾—ä¸åˆ°åŠæ—¶çš„å“åº”ï¼</strong></li><li>ä½¿ç”¨åœºæ™¯ï¼šä»»åŠ¡åˆ›å»ºã€ç¡¬ä»¶å±‚åˆå§‹åŒ–ã€é‡è¦çš„å®æ—¶æ€§é«˜çš„ä»£ç æ®µâ€¦</li><li>ä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">testFunction</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        taskENTER_CRITICAL(); <span class="hljs-comment">// è¿›å…¥ä¸´ç•ŒåŒº</span><br><br>        <span class="hljs-comment">// ä½ çš„ä»£ç æ®µ...</span><br>        <span class="hljs-comment">// è¿™é‡Œæ˜¯ä¸´ç•ŒåŒºï¼Œä»£ç ä¸ä¼šå—åˆ°ä¸­æ–­çš„æ‰“æ–­...</span><br><br>        taskEXIT_CRITICAL(); <span class="hljs-comment">// é€€å‡ºä¸´ç•ŒåŒº</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="1-3-2-ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤"><a href="#1-3-2-ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤" class="headerlink" title="1.3.2 ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤"></a>1.3.2 ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤</h4><ul><li>å‡½æ•°<code>taskENTER_CRITICAL_FROM_ISR()</code>è¿›å…¥ä¸­æ–­ä¸´ç•ŒåŒºå’Œ<code>taskEXIT_CRITICAL_FROM_ISR(x)</code>é€€å‡ºä¸­æ–­ä¸´ç•ŒåŒºï¼Œæ˜¯ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤ã€‚</li><li>å’Œä»»åŠ¡çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤å·®ä¸å¤šï¼Œåªä¸è¿‡è¿™é‡Œå‘¢ï¼Œ<strong>è¿›å…¥ä¸­æ–­ä¸´ç•ŒåŒºå‡½æ•°</strong>ä¼šè¿”å›ä¸€ä¸ªValueï¼Œæ‰§è¡Œ<strong>é€€å‡ºä¸­æ–­ä¸´ç•ŒåŒºå‡½æ•°</strong>çš„æ—¶å€™è¦æŠŠå¾—åˆ°çš„Valueä¼ ç»™å®ƒã€‚Valueè®°å½•çš„å°±æ˜¯ä½ å±è”½çš„å…¶ä»–çš„ä¸­æ–­çš„ä¼˜å…ˆçº§ã€‚<strong>åæ­£ä½ è¦è®°ä½è¿›å…¥ä¸­æ–­ä¸´ç•Œæ®µæ—¶æ¥æ”¶è¿™ä¸ªValueï¼Œå¹¶åœ¨é€€å‡ºä¸­æ–­ä¸´ç•Œæ®µçš„æ—¶å€™æŠŠè¿™ä¸ªValueæ”¾å›å»ï¼</strong></li><li><strong>Important: ä¹Ÿæ˜¯è®²ç©¶æˆåŒæˆå¯¹å‡ºç°çš„ï¼ä¸€å®šè¦æ³¨æ„ï¼</strong></li><li>è¿ç”¨åœºæ™¯ï¼šå®æ—¶æ€§è¦æ±‚æœ€é«˜çš„ä»£ç æ®µï¼ˆä½ çœ‹ï¼Œä½ åœ¨ä¸­æ–­é‡Œæ‰“å¼€ä¸´ç•ŒåŒºï¼Œå±è”½äº†è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰FreeRTOSç®¡ç†çš„ä¸­æ–­ï¼Œé˜²æ­¢äº†ä¸­æ–­åµŒå¥—çš„æƒ…å†µå‘ç”Ÿï¼Œä¿æŠ¤åœ¨ä¸­æ–­ä¸´ç•ŒåŒºçš„ä»£ç ä¸è¢«æ‰“æ‰°</li><li>ä¸­æ–­çº§ä¸´ç•Œæ®µä»£ç ä¿æŠ¤çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// å®šæ—¶å™¨3ä¸­æ–­æœåŠ¡å‡½æ•° </span><br><span class="hljs-comment">// å‡è®¾å®šæ—¶å™¨3çš„æŠ¢å ä¼˜å…ˆçº§åœ¨FreeRTOSçš„è°ƒåº¦èŒƒå›´å†…</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">TIM3_IRQHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span>(TIM_GetITStatus(TIM3, TIM_IT_Update) == SET)<br>    &#123;<br>        <span class="hljs-type">uint32_t</span> Status_Value = taskENTER_CRITICAL_FROM_ISR();<br><br>        <span class="hljs-comment">// ä½ çš„ä»£ç æ®µ...</span><br>        <span class="hljs-comment">// è¿™é‡Œæ˜¯ä¸­æ–­ä¸´ç•ŒåŒºï¼Œå±è”½æ‰€æœ‰å¯è¢«FreeRTOSè°ƒåº¦çš„ä¸­æ–­...</span><br><br>        taskEXIT_CRITICAL_FROM_ISR(Status_Value);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="2-1-ä»»åŠ¡çŠ¶æ€"><a href="#2-1-ä»»åŠ¡çŠ¶æ€" class="headerlink" title="2.1 ä»»åŠ¡çŠ¶æ€"></a>2.1 ä»»åŠ¡çŠ¶æ€</h3><ul><li>è¿è¡Œæ€</li><li>å°±ç»ªæ€</li><li>é˜»å¡æ€</li><li>æŒ‚èµ·æ€</li></ul><hr><h3 id="2-2-ä»»åŠ¡çš„åˆ›å»º"><a href="#2-2-ä»»åŠ¡çš„åˆ›å»º" class="headerlink" title="2.2 ä»»åŠ¡çš„åˆ›å»º"></a>2.2 ä»»åŠ¡çš„åˆ›å»º</h3><h4 id="2-2-1-ä»»åŠ¡åˆ›å»ºçš„APIå‡½æ•°"><a href="#2-2-1-ä»»åŠ¡åˆ›å»ºçš„APIå‡½æ•°" class="headerlink" title="2.2.1 ä»»åŠ¡åˆ›å»ºçš„APIå‡½æ•°"></a>2.2.1 ä»»åŠ¡åˆ›å»ºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xTaskCreate()</code></strong> ï¼Œåˆåä½ ä¼šç”¨çš„æœ€å¤šçš„å‡½æ•°ã€‚</p><ul><li>ç”¨äºåŠ¨æ€åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼ŒRAMä¼šè‡ªè¡Œä»FreeRTOSçš„å †ä¸­åˆ†é…å‡ºæ¥ã€‚</li></ul></blockquote><ul><li><code>xTaskCreate()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ pdPASS-&gt;ä»»åŠ¡åˆ›å»ºæˆåŠŸ / errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY-&gt;å †å†…å­˜ä¸è¶³ï¼Œåˆ›å»ºä»»åŠ¡å¤±è´¥</span><br>BaseType_t <span class="hljs-title function_">xTaskCreate</span><span class="hljs-params">( TaskFunction_t          pxTaskCode, <span class="hljs-comment">// ä»»åŠ¡å‡½æ•°</span></span><br><span class="hljs-params">                        <span class="hljs-type">const</span> <span class="hljs-type">char</span> * <span class="hljs-type">const</span>      pcName, <span class="hljs-comment">// ä»»åŠ¡åå­—</span></span><br><span class="hljs-params">                        <span class="hljs-type">const</span> <span class="hljs-type">uint16_t</span>          usStackDepth, <span class="hljs-comment">// ä»»åŠ¡å †æ ˆå¤§å°ï¼Œå®é™…ç”³è¯·åˆ°çš„å †æ ˆæ˜¯usStackDepthçš„4å€</span></span><br><span class="hljs-params">                        <span class="hljs-type">void</span> * <span class="hljs-type">const</span>            pvParameters, <span class="hljs-comment">// ä¼ é€’ç»™ä»»åŠ¡å‡½æ•°çš„å‚æ•°</span></span><br><span class="hljs-params">                        UBaseType_t             uxPriority, <span class="hljs-comment">// ä»»åŠ¡ä¼˜å…ˆçº§</span></span><br><span class="hljs-params">                        TaskHandle_t * <span class="hljs-type">const</span>    pxCreatedTask <span class="hljs-comment">// ä»»åŠ¡å¥æŸ„</span></span><br><span class="hljs-params">                        )</span><br></code></pre></td></tr></table></figure><h4 id="2-2-2-ä»»åŠ¡åˆ é™¤çš„APIå‡½æ•°"><a href="#2-2-2-ä»»åŠ¡åˆ é™¤çš„APIå‡½æ•°" class="headerlink" title="2.2.2 ä»»åŠ¡åˆ é™¤çš„APIå‡½æ•°"></a>2.2.2 ä»»åŠ¡åˆ é™¤çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xTaskDelete()</code></strong></p><ul><li>åˆ é™¤ä¸€ä¸ªç”¨<code>xTaskCreate()</code>æˆ–è€…<code>xTaskCreateStatic()</code>åˆ›å»ºçš„ä»»åŠ¡ã€‚</li><li>ä»»åŠ¡è¢«åˆ é™¤ä¹‹åï¼Œä»»åŠ¡ä¸å¤å­˜åœ¨ï¼Œå…³äºè¢«åˆ é™¤çš„ä»»åŠ¡çš„å¥æŸ„ä¸èƒ½å†è¢«ä½¿ç”¨ï¼Œé™¤éè¿™ä¸ªä»»åŠ¡é‡æ–°åˆ›å»ºèµ·æ¥ã€‚</li><li>å¦‚æœä»»åŠ¡æ˜¯ç”±<code>xTaskCreate()</code>åˆ›å»ºçš„ï¼ˆç”±åŠ¨æ€æ–¹æ³•åˆ›å»ºï¼‰ï¼Œé‚£ä¹ˆä»»åŠ¡è¢«åˆ é™¤ä»¥åï¼Œä»»åŠ¡çš„å †æ ˆå°†åœ¨<strong>ç©ºé—²ä»»åŠ¡</strong>ä¸­å¾—åˆ°<strong>é‡Šæ”¾</strong>ï¼Œæ‰€ä»¥åˆ é™¤åŠ¨æ€æ–¹æ³•åˆ›å»ºçš„ä»»åŠ¡ä»¥åè¦ç»™ç©ºé—²ä»»åŠ¡ä¸€äº›æ—¶é—´æ¥é‡Šæ”¾ç©ºé—´å“¦ï¼</li></ul></blockquote><ul><li><code>xTaskDelete()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ— è¿”å›å€¼</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">vTaskDelete</span><span class="hljs-params">( TaskHandle_t xTaskToDelete )</span> <span class="hljs-comment">// xTaskToDeleteæ˜¯è¦è¢«åˆ é™¤çš„ä»»åŠ¡çš„ä»»åŠ¡å¥æŸ„</span><br></code></pre></td></tr></table></figure><h4 id="2-2-3-ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆåŠ¨æ€æ–¹æ³•ï¼‰"><a href="#2-2-3-ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆåŠ¨æ€æ–¹æ³•ï¼‰" class="headerlink" title="2.2.3 ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆåŠ¨æ€æ–¹æ³•ï¼‰"></a>2.2.3 ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆåŠ¨æ€æ–¹æ³•ï¼‰</h4><ul><li>ç®€å•çš„æ€»ç»“åˆ†æä¸€ä¸‹æ­¤ä¾‹ç¨‹çš„æµç¨‹ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨ FreeRTOS å†™çš„ç¬¬ä¸€ä¸ªç¨‹åºï¼Œå¾ˆå¤šä¹ æƒ¯æ˜¯æˆ‘ä»¬åé¢è¦ç”¨åˆ°çš„ã€‚æ¯”å¦‚ä½¿ç”¨ä»»åŠ¡å®å®šä¹‰ä»»åŠ¡ä¼˜å…ˆçº§ï¼Œå †æ ˆå¤§å°ç­‰ï¼Œä¸€èˆ¬æœ‰å…³ä¸€ä¸ªä»»åŠ¡çš„ä¸œè¥¿æˆ‘ä»¬çš„æ”¾åˆ°ä¸€èµ·ï¼Œæ¯”å¦‚ä»»åŠ¡å †æ ˆã€ä»»åŠ¡å¥æŸ„ã€ä»»åŠ¡å‡½æ•°å£°æ˜ç­‰ï¼Œè¿™æ ·æ–¹ä¾¿ä¿®æ”¹ã€‚è¿™äº›ä¸œè¥¿å¯ä»¥æ”¾åˆ°ä¸€ä¸ª.h å¤´æ–‡ä»¶é‡Œé¢å»ï¼Œåªæ˜¯ä¾‹ç¨‹é‡Œé¢ä»»åŠ¡æ•°æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å°±ç›´æ¥æ”¾åˆ° main.c æ–‡ä»¶é‡Œé¢äº†ï¼Œè¦æ˜¯å·¥ç¨‹æ¯”è¾ƒå¤§çš„è¯æœ€å¥½åšä¸€ä¸ªä¸“ç”¨çš„å¤´æ–‡ä»¶æ¥ç®¡ç†ã€‚</li></ul><h4 id="2-2-4-ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆé™æ€æ–¹æ³•ï¼‰"><a href="#2-2-4-ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆé™æ€æ–¹æ³•ï¼‰" class="headerlink" title="2.2.4 ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆé™æ€æ–¹æ³•ï¼‰"></a>2.2.4 ä»»åŠ¡åˆ›å»ºä¸åˆ é™¤çš„ç¨‹åºç¤ºä¾‹ï¼ˆé™æ€æ–¹æ³•ï¼‰</h4><ul><li>å’ŒåŠ¨æ€æ–¹æ³•æ¯”è¾ƒä¸åŒçš„æ˜¯ï¼Œæƒ³è¦ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œä½ å¿…é¡»è‡ªå·±å®ç°ä¸¤ä¸ªæ¥å£å‡½æ•°<code>vApplicationGetIdleTaskMemory()</code>å’Œ<code>vApplicationGetTimerTaskMemory()</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ç©ºé—²ä»»åŠ¡ä»»åŠ¡å †æ ˆ // åˆ†é…äº†é™æ€çš„RAMå•¦</span><br><span class="hljs-type">static</span> StackType_t IdleTaskStack[configMINIMAL_STACK_SIZE];<br><span class="hljs-comment">// ç©ºé—²ä»»åŠ¡æ§åˆ¶å—</span><br><span class="hljs-type">static</span> StaticTask_t IdleTaskTCB;<br><br><span class="hljs-comment">// å®šæ—¶å™¨æœåŠ¡ä»»åŠ¡å †æ ˆ // åˆ†é…äº†é™æ€çš„RAMå•¦</span><br><span class="hljs-type">static</span> StackType_t TimerTaskStack[configTIMER_TASK_STACK_DEPTH];<br><span class="hljs-comment">// å®šæ—¶å™¨æœåŠ¡ä»»åŠ¡æ§åˆ¶å—</span><br><span class="hljs-type">static</span> StaticTask_t TimerTaskTCB;<br><br><span class="hljs-comment">// è·å–ç©ºé—²ä»»åŠ¡åœ°ä»»åŠ¡å †æ ˆå’Œä»»åŠ¡æ§åˆ¶å—å†…å­˜ï¼Œå› ä¸ºæœ¬ä¾‹ç¨‹ä½¿ç”¨çš„</span><br><span class="hljs-comment">// é™æ€å†…å­˜ï¼Œå› æ­¤ç©ºé—²ä»»åŠ¡çš„ä»»åŠ¡å †æ ˆå’Œä»»åŠ¡æ§åˆ¶å—çš„å†…å­˜å°±åº”è¯¥</span><br><span class="hljs-comment">// æœ‰ç”¨æˆ·æ¥æä¾›ï¼ŒFreeRTOSæä¾›äº†æ¥å£å‡½æ•°vApplicationGetIdleTaskMemory()</span><br><span class="hljs-comment">// å®ç°æ­¤å‡½æ•°å³å¯ã€‚</span><br><span class="hljs-comment">// ppxIdleTaskTCBBuffer:ä»»åŠ¡æ§åˆ¶å—å†…å­˜</span><br><span class="hljs-comment">// ppxIdleTaskStackBuffer:ä»»åŠ¡å †æ ˆå†…å­˜</span><br><span class="hljs-comment">// pulIdleTaskStackSize:ä»»åŠ¡å †æ ˆå¤§å°</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">vApplicationGetIdleTaskMemory</span><span class="hljs-params">( StaticTask_t **ppxIdleTaskTCBBuffer,</span><br><span class="hljs-params">    StackType_t **ppxIdleTaskStackBuffer,</span><br><span class="hljs-params">    <span class="hljs-type">uint32_t</span> *pulIdleTaskStackSize)</span><br>&#123;<br>*ppxIdleTaskTCBBuffer = &amp;IdleTaskTCB;<br>*ppxIdleTaskStackBuffer = IdleTaskStack;<br>*pulIdleTaskStackSize = configMINIMAL_STACK_SIZE;<br>&#125;<br><br><span class="hljs-comment">// è·å–å®šæ—¶å™¨æœåŠ¡ä»»åŠ¡çš„ä»»åŠ¡å †æ ˆå’Œä»»åŠ¡æ§åˆ¶å—å†…å­˜</span><br><span class="hljs-comment">// ppxTimerTaskTCBBuffer:ä»»åŠ¡æ§åˆ¶å—å†…å­˜</span><br><span class="hljs-comment">// ppxTimerTaskStackBuffer:ä»»åŠ¡å †æ ˆå†…å­˜</span><br><span class="hljs-comment">// pulTimerTaskStackSize:ä»»åŠ¡å †æ ˆå¤§å°</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">vApplicationGetTimerTaskMemory</span><span class="hljs-params">(StaticTask_t **ppxTimerTaskTCBBuffer,</span><br><span class="hljs-params">    StackType_t **ppxTimerTaskStackBuffer,</span><br><span class="hljs-params">    <span class="hljs-type">uint32_t</span> *pulTimerTaskStackSize)</span><br>&#123;<br>*ppxTimerTaskTCBBuffer = &amp;TimerTaskTCB;<br>*ppxTimerTaskStackBuffer = TimerTaskStack;<br>*pulTimerTaskStackSize = configTIMER_TASK_STACK_DEPTH;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-x-x-ä»»åŠ¡æ§åˆ¶å—"><a href="#2-x-x-ä»»åŠ¡æ§åˆ¶å—" class="headerlink" title="2.x.x ä»»åŠ¡æ§åˆ¶å—"></a>2.x.x ä»»åŠ¡æ§åˆ¶å—</h4><h4 id="2-x-x-ä»»åŠ¡å †æ ˆ"><a href="#2-x-x-ä»»åŠ¡å †æ ˆ" class="headerlink" title="2.x.x ä»»åŠ¡å †æ ˆ"></a>2.x.x ä»»åŠ¡å †æ ˆ</h4><hr><h3 id="2-3-ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤"><a href="#2-3-ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤" class="headerlink" title="2.3 ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤"></a>2.3 ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤</h3><h4 id="2-3-1-ä»»åŠ¡æŒ‚èµ·çš„APIå‡½æ•°"><a href="#2-3-1-ä»»åŠ¡æŒ‚èµ·çš„APIå‡½æ•°" class="headerlink" title="2.3.1 ä»»åŠ¡æŒ‚èµ·çš„APIå‡½æ•°"></a>2.3.1 ä»»åŠ¡æŒ‚èµ·çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>vTaskSuspend()</code></strong></p><ul><li>è¯¥å‡½æ•°ç”¨äºå°†æŸä¸ªä»»åŠ¡è®¾ç½®ä¸ºæŒ‚èµ·æ€ï¼Œä»»åŠ¡æŒ‚èµ·ä»¥åå°±ä¸ä¼šè¢«è¿è¡Œï¼Œç›´åˆ°ä½¿ç”¨<code>vTaskResume()</code>æˆ–è€…<code>xTaskResumeFromISR()</code>ç»“æŸä»»åŠ¡çš„æŒ‚èµ·æ€ã€‚</li></ul></blockquote><ul><li><code>vTaskSuspend()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ— è¿”å›å€¼</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">vTaskSuspend</span><span class="hljs-params">( TaskHandle_t xTaskToSuspend )</span> <span class="hljs-comment">// xTaskToSuspendå°†è¦è¢«æŒ‚èµ·ä»»åŠ¡çš„ä»»åŠ¡å¥æŸ„ </span><br>                                                 <span class="hljs-comment">// æ³¨æ„ï¼å¦‚æœå‚æ•°ä¸ºNULLï¼Œè¡¨ç¤ºæŒ‚èµ·ä»»åŠ¡è‡ªå·±ã€‚</span><br></code></pre></td></tr></table></figure><h4 id="2-3-2-ä»»åŠ¡æ¢å¤çš„APIå‡½æ•°"><a href="#2-3-2-ä»»åŠ¡æ¢å¤çš„APIå‡½æ•°" class="headerlink" title="2.3.2 ä»»åŠ¡æ¢å¤çš„APIå‡½æ•°"></a>2.3.2 ä»»åŠ¡æ¢å¤çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>vTaskResume()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p><ul><li>è¯¥å‡½æ•°å¯ä»¥ä¹Ÿåªå¯ä»¥å°†å…ˆå‰ä½¿ç”¨<code>vTaskSuspend()</code>å‡½æ•°æŒ‚èµ·çš„ä»»åŠ¡æ¢å¤åˆ°å°±ç»ªæ€ã€‚</li></ul></blockquote><ul><li><code>vTaskResume()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ— è¿”å›å€¼</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">vTaskResume</span><span class="hljs-params">( TaskHandle_t xTaskToResume )</span> <span class="hljs-comment">// å°†è¦è¢«æ¢å¤ä»»åŠ¡çš„ä»»åŠ¡å¥æŸ„</span><br></code></pre></td></tr></table></figure><blockquote><p>å‡½æ•° <strong><code>xTaskResumeFromISR()</code></strong> ï¼Œåœ¨ä¸­æ–­å‡½æ•°ä¸­è°ƒç”¨</p><ul><li>è¯¥å‡½æ•°æ˜¯<code>vTaskResume()</code>å‡½æ•°çš„ä¸­æ–­ç‰ˆæœ¬ï¼Œéœ€è¦åœ¨ä¸­æ–­é‡Œè°ƒç”¨å“ˆã€‚</li><li>è¯¥å‡½æ•°å¯ä»¥ä¹Ÿåªå¯ä»¥å°†å…ˆå‰ä½¿ç”¨<code>vTaskSuspend()</code>å‡½æ•°æŒ‚èµ·çš„ä»»åŠ¡æ¢å¤åˆ°å°±ç»ªæ€ã€‚</li></ul></blockquote><ul><li><code>xTaskResumeFromISR()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼špdTRUE-&gt;æ¢å¤çš„ä»»åŠ¡ä¼˜å…ˆçº§ &gt;= å½“å‰ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥åœ¨é€€å‡ºä¸­æ–­å‡½æ•°åè¦è¿›è¡Œä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢</span><br><span class="hljs-comment">// è¿”å›å€¼ï¼špdFALSE-&gt;æ¢å¤çš„ä»»åŠ¡ä¼˜å…ˆçº§ &lt; å½“å‰ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥åœ¨é€€å‡ºä¸­æ–­å‡½æ•°åä¸éœ€è¦è¿›è¡Œä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢</span><br>BaseType_t <span class="hljs-title function_">xTaskResumeFromISR</span><span class="hljs-params">( TaskHandle_t xTaskToResume )</span> <span class="hljs-comment">// å°†è¦è¢«æ¢å¤ä»»åŠ¡çš„ä»»åŠ¡å¥æŸ„</span><br></code></pre></td></tr></table></figure><h4 id="2-3-3-ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤ç¨‹åºç¤ºä¾‹"><a href="#2-3-3-ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤ç¨‹åºç¤ºä¾‹" class="headerlink" title="2.3.3 ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤ç¨‹åºç¤ºä¾‹"></a>2.3.3 ä»»åŠ¡æŒ‚èµ·å’Œæ¢å¤ç¨‹åºç¤ºä¾‹</h4><hr><h3 id="3-1-åˆ—è¡¨å’Œåˆ—è¡¨é¡¹"><a href="#3-1-åˆ—è¡¨å’Œåˆ—è¡¨é¡¹" class="headerlink" title="3.1 åˆ—è¡¨å’Œåˆ—è¡¨é¡¹"></a>3.1 åˆ—è¡¨å’Œåˆ—è¡¨é¡¹</h3><h4 id="3-1-1-åˆ—è¡¨"><a href="#3-1-1-åˆ—è¡¨" class="headerlink" title="3.1.1 åˆ—è¡¨"></a>3.1.1 åˆ—è¡¨</h4><p>ä¸ºå•¥è¦æœ‰åˆ—è¡¨ï¼Ÿä¸æ˜¯å·²ç»å¯ä»¥åˆ›å»ºä»»åŠ¡è¿è¡Œä»»åŠ¡äº†å—ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼Œåœ¨åšä¸€äº›å¤§å‹é¡¹ç›®çš„æ—¶å€™ï¼Œå¾€å¾€è¦æ ¹æ®ä¸åŒçš„åœºæ™¯æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œæœ‰æ—¶ä»»åŠ¡æ¯”è¾ƒå¤šäº†ï¼Œåˆ›å»ºä»»åŠ¡å’Œåˆ é™¤ä»»åŠ¡è¿™äº›æ“ä½œå°±å˜å¾—å¼¯å¼¯ç»•ç»•äº†ã€‚è¿™ä¸ªæ—¶å€™æŠŠä»»åŠ¡ä»¬å½’ç±»è¿›ä¸åŒçš„åˆ—è¡¨ä¸­ï¼Œé‚£æˆ‘åˆ‡æ¢è¿ç”¨åœºæ™¯çš„æ—¶å€™ï¼Œç›´æ¥åˆ‡æ¢ç›®å‰æ­£åœ¨æ‰§è¡Œçš„åˆ—è¡¨å°±è¡Œå•¦ï¼å°±ä¸ç”¨ä¸€ä¸ªä¸€ä¸ªå¯¹ä»»åŠ¡è¿›è¡Œæ“ä½œï¼Œé¿å…äº†éº»çƒ¦ã€‚</p><ul><li>åˆ—è¡¨ï¼Œæ˜¯FreeRTOSä¸­çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå’Œé“¾è¡¨æœ‰ç‚¹åƒï¼Œæ˜¯è¢«ç”¨åšè·Ÿè¸ªFreeRTOSä¸­çš„ä»»åŠ¡çš„</li><li>åˆ—è¡¨é¡¹å°±æ˜¯å­˜æ”¾åœ¨åˆ—è¡¨å½“ä¸­çš„é¡¹ç›®</li><li>åˆ—è¡¨ç›¸å½“äºé“¾è¡¨ï¼Œåˆ—è¡¨é¡¹ç›¸å½“äºèŠ‚ç‚¹ï¼ŒFreeRTOSä¸­çš„åˆ—è¡¨æ˜¯ä¸€ä¸ªåŒå‘ç¯å½¢é“¾è¡¨</li><li>å¸¸è§çš„åˆ—è¡¨åŒ…æ‹¬ï¼šå°±ç»ªåˆ—è¡¨ã€é˜»å¡åˆ—è¡¨ã€æŒ‚èµ·åˆ—è¡¨ï¼ˆç›®å‰è‡ªå·±åšåˆ—è¡¨çš„æƒ…å†µæ¯”è¾ƒå°‘ï¼Œéƒ½æ˜¯RTOSè‡ªåŠ¨å¸®æˆ‘ä»¬åšå¥½çš„ï¼‰</li></ul><h4 id="3-1-2-åˆ—è¡¨é¡¹"><a href="#3-1-2-åˆ—è¡¨é¡¹" class="headerlink" title="3.1.2 åˆ—è¡¨é¡¹"></a>3.1.2 åˆ—è¡¨é¡¹</h4><ul><li>åˆ—è¡¨é¡¹ï¼Œå°±æ˜¯å­˜æ”¾åœ¨åˆ—è¡¨ä¸­çš„é¡¹ç›®ã€‚</li><li>FreeRTOSæä¾›äº†ä¸¤ç§åˆ—è¡¨é¡¹ï¼šåˆ—è¡¨é¡¹å’Œè¿·ä½ åˆ—è¡¨é¡¹ã€‚</li></ul><hr><h3 id="4-1-è°ƒåº¦å™¨"><a href="#4-1-è°ƒåº¦å™¨" class="headerlink" title="4.1 è°ƒåº¦å™¨"></a>4.1 è°ƒåº¦å™¨</h3><blockquote><p>å‡½æ•° <strong><code>vTaskStartScheduler()</code></strong> ï¼Œå¼€å¯ä»»åŠ¡è°ƒåº¦å™¨</p><ul><li>åœ¨<code>main()</code>å‡½æ•°é‡Œï¼Œåˆ›å»ºå¥½æ‰€éœ€çš„ä»»åŠ¡åï¼Œå³å¯è°ƒç”¨<code>vTaskStartScheduler()</code>è®©ä»»åŠ¡å¼€å§‹è¿è¡Œå§ã€‚</li></ul></blockquote><blockquote><p>å‡½æ•° <strong><code>vTaskEndScheduler()</code></strong> ï¼Œå…³é—­ä»»åŠ¡è°ƒåº¦å™¨</p></blockquote><blockquote><p>å‡½æ•° <strong><code>vTaskSuspendAll()</code></strong> ï¼ŒæŒ‚èµ·ä»»åŠ¡è°ƒåº¦å™¨ï¼Œå°±æ˜¯æŒ‚èµ·æ‰€æœ‰ä»»åŠ¡</p></blockquote><blockquote><p>å‡½æ•° <strong><code>vTaskResumeAll()</code></strong> ï¼Œæ¢å¤ä»»åŠ¡è°ƒåº¦å™¨ï¼Œå°±æ˜¯æ¢å¤æ‰€æœ‰ä»»åŠ¡</p></blockquote><h3 id="4-2-ç©ºé—²ä»»åŠ¡"><a href="#4-2-ç©ºé—²ä»»åŠ¡" class="headerlink" title="4.2 ç©ºé—²ä»»åŠ¡"></a>4.2 ç©ºé—²ä»»åŠ¡</h3><blockquote><ul><li>è°ƒç”¨<code>vTaskStartScheduler()</code>æ—¶å€™ï¼Œæ­¤å‡½æ•°ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º<code>IDLE</code>çš„ä»»åŠ¡ï¼Œè¿™ä¸ªå°±æ˜¯ç©ºé—²ä»»åŠ¡ï¼å®ƒæ˜¯FreeRTOSç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„ï¼Œä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨åˆ›å»ºã€‚è€Œä¸”ä»»åŠ¡è°ƒåŠ¨å™¨å¯åŠ¨ä»¥åå¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªä»»åŠ¡åœ¨è¿è¡Œä¸­ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ç©ºé—²ä»»åŠ¡å­˜åœ¨çš„æ„ä¹‰ä¹‹ä¸€ã€‚</li><li>ç©ºé—²ä»»åŠ¡çš„ä¼˜å…ˆçº§æœ€ä½ï¼Œæ˜¯0ï¼ä»»åŠ¡å‡½æ•°ä¸º<code>prvIdleTask()</code>ï¼ˆæ˜¯å•¥ï¼Ÿ</li><li>ç©ºé—²ä»»åŠ¡çš„ä½œç”¨å¦‚ä¸‹ï¼š<blockquote><ul><li>å¦‚æœç³»ç»Ÿæœ‰ä»»åŠ¡è¢«åˆ é™¤ï¼Œè¢«åˆ é™¤çš„ä»»åŠ¡çš„å †æ ˆå’Œä»»åŠ¡æ§åˆ¶å—çš„å†…å­˜ä¼šåœ¨ç©ºé—²ä»»åŠ¡ä¸­å¾—åˆ°é‡Šæ”¾å“¦ï¼</li><li>è¿è¡Œç”¨æˆ·è®¾ç½®çš„ç©ºé—²ä»»åŠ¡é’©å­å‡½æ•°ï¼ˆï¼Ÿå•¥æ˜¯é’©å­</li><li>åˆ¤æ–­æ˜¯å¦å¼€å¯ä½åŠŸè€—ticklessæ¨¡å¼ï¼Œå¦‚æœå¼€å¯çš„è¯è¿˜éœ€è¦åšç›¸åº”çš„å¤„ç†ï¼ˆï¼Ÿ</li></ul></blockquote></li></ul></blockquote><h3 id="4-3-å»¶æ—¶å‡½æ•°"><a href="#4-3-å»¶æ—¶å‡½æ•°" class="headerlink" title="4.3 å»¶æ—¶å‡½æ•°"></a>4.3 å»¶æ—¶å‡½æ•°</h3><blockquote><p>å‡½æ•° <strong><code>xTaskDelay()</code></strong> ï¼Œå»¶æ—¶å¤šå°‘æ—¶é—´ï¼Œç”¨äºå›ºå®šå»¶æ—¶ï¼ˆå¸¸ç”¨çš„æ™®é€šçš„å»¶æ—¶å‡½æ•°ï¼‰</p></blockquote><blockquote><p>å‡½æ•° <strong><code>xTaskDelayUntil()</code></strong> ï¼Œæ¯éš”å¤šå°‘æ—¶é—´æ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œç”¨äºå‘¨æœŸæ€§æ‰§è¡Œ</p></blockquote><hr><h3 id="5-1-é˜Ÿåˆ—"><a href="#5-1-é˜Ÿåˆ—" class="headerlink" title="5.1 é˜Ÿåˆ—"></a>5.1 é˜Ÿåˆ—</h3><ul><li>é˜Ÿåˆ—æ˜¯ä»»åŠ¡åˆ°ä»»åŠ¡ã€ä»»åŠ¡åˆ°ä¸­æ–­ã€ä¸­æ–­åˆ°ä»»åŠ¡æ•°æ®äº¤æµçš„ä¸€ç§æœºåˆ¶ï¼ˆæ¶ˆæ¯ä¼ é€’</li><li>å†™é˜Ÿåˆ—å’Œè¯»é˜Ÿåˆ—çš„apiå‡½æ•°éƒ½ä¼šè‡ªåŠ¨è¿›å…¥ä¸´ç•ŒåŒºæ“ä½œçš„</li><li>åœ¨é˜Ÿåˆ—ä¸­å¯ä»¥å­˜å‚¨æ•°é‡æœ‰é™ã€å¤§å°å›ºå®šçš„æ•°æ®ã€‚é˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®å«åšâ€œé˜Ÿåˆ—é¡¹ç›®â€ï¼Œé˜Ÿåˆ—èƒ½å¤Ÿå­˜å‚¨â€œé˜Ÿåˆ—é¡¹ç›®â€çš„æœ€å¤§æ•°é‡æˆä¸ºé˜Ÿåˆ—çš„é•¿åº¦</li></ul><h3 id="5-2-äºŒå€¼ä¿¡å·é‡"><a href="#5-2-äºŒå€¼ä¿¡å·é‡" class="headerlink" title="5.2 äºŒå€¼ä¿¡å·é‡"></a>5.2 äºŒå€¼ä¿¡å·é‡</h3><ul><li><p>äºŒå€¼ä¿¡å·é‡ï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªé˜Ÿåˆ—é¡¹çš„é˜Ÿåˆ—ï¼Œè¿™ä¸ªç‰¹æ®Šçš„é˜Ÿåˆ—è¦ä¹ˆæ˜¯æ»¡çš„ï¼Œè¦ä¹ˆæ˜¯ç©ºçš„ï¼Œè¿™æ­£å¥½æ˜¯äºŒå€¼ï¼</p></li><li><p>ä»»åŠ¡å’Œä¸­æ–­ä½¿ç”¨è¿™ä¸ªç‰¹æ®Šé˜Ÿåˆ—ä¸ç”¨åœ¨ä¹é˜Ÿåˆ—ä¸­å­˜çš„æ˜¯ä»€ä¹ˆæ¶ˆæ¯ï¼Œåªéœ€è¦çŸ¥é“è¿™ä¸ªé˜Ÿåˆ—æ˜¯æ»¡çš„è¿˜æ˜¯ç©ºçš„ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæœºåˆ¶æ¥å®Œæˆä»»åŠ¡ä¸ä¸­æ–­ä¹‹é—´çš„åŒæ­¥ï¼</p></li></ul><h4 id="5-2-1-äºŒå€¼ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"><a href="#5-2-1-äºŒå€¼ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°" class="headerlink" title="5.2.1 äºŒå€¼ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"></a>5.2.1 äºŒå€¼ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreCreateBinary()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreCreateBinary()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šNULL-&gt;ä¿¡å·é‡åˆ›å»ºå¤±è´¥ï¼›å…¶ä»–-&gt;åˆ›å»ºæˆåŠŸçš„ä¿¡å·é‡çš„å¥æŸ„</span><br>SemaphoreHandle_t <span class="hljs-title function_">xSemaphoreCreateBinary</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> <br></code></pre></td></tr></table></figure><h4 id="5-2-2-äºŒå€¼ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°"><a href="#5-2-2-äºŒå€¼ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°" class="headerlink" title="5.2.2 äºŒå€¼ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°"></a>5.2.2 äºŒå€¼ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreGive()</code></strong> ï¼Œä»»åŠ¡çº§ä¿¡å·é‡é‡Šæ”¾å‡½æ•°<br>å‡½æ•° <strong><code>xSemaphoreGiveISR()</code></strong> ï¼Œä¸­æ–­çº§ä¿¡å·é‡é‡Šæ”¾å‡½æ•°</p></blockquote><ul><li><code>xSemaphoreGive()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šerrQUEUE_FULL-&gt;ä¿¡å·é‡é‡Šæ”¾å¤±è´¥ï¼›pdPASS-&gt;ä¿¡å·é‡é‡Šæ”¾æˆåŠŸ</span><br><span class="hljs-comment">// å‚æ•°ï¼š xSemaphore-&gt;è¦é‡Šæ”¾çš„ä¿¡å·é‡å¥æŸ„</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreGive</span><span class="hljs-params">( SemaphoreHandle_t xSemaphore )</span> <br></code></pre></td></tr></table></figure><ul><li><code>xSemaphoreGiveISR()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šerrQUEUE_FULL-&gt;ä¿¡å·é‡é‡Šæ”¾å¤±è´¥ï¼›pdPASS-&gt;ä¿¡å·é‡é‡Šæ”¾æˆåŠŸ</span><br><span class="hljs-comment">// å‚æ•°ï¼šxSemaphore-&gt;è¦é‡Šæ”¾çš„ä¿¡å·é‡å¥æŸ„</span><br><span class="hljs-comment">// å‚æ•°ï¼špxHigherPriorityTaskWoken-&gt;æ ‡è®°é€€å‡ºæ­¤å‡½æ•°æ˜¯å¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ï¼Œç”¨æˆ·è¦åšçš„å°±æ˜¯</span><br><span class="hljs-comment">// æä¾›ä¸€ä¸ªå˜é‡æ¥ä¿å­˜è¿™ä¸ªå€¼ï¼Œåœ¨é€€å‡ºä¸­æ–­å‡½æ•°å‰åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå˜é‡ï¼Œå½“è¿™ä¸ªå€¼ä¸ºpdTRUEæ—¶</span><br><span class="hljs-comment">// åœ¨é€€å‡ºä¸­æ–­å‡½æ•°ä¹‹å‰ä¸€å®šè¦åšä¸€æ¬¡ä»»åŠ¡åˆ‡æ¢taskYIELD()ï¼</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreGiveISR</span><span class="hljs-params">( SemaphoreHandle_t xSemaphore, BaseType_t* pxHigherPriorityTaskWoken )</span> <br></code></pre></td></tr></table></figure><h4 id="5-2-3-äºŒå€¼ä¿¡å·é‡è·å–çš„APIå‡½æ•°"><a href="#5-2-3-äºŒå€¼ä¿¡å·é‡è·å–çš„APIå‡½æ•°" class="headerlink" title="5.2.3 äºŒå€¼ä¿¡å·é‡è·å–çš„APIå‡½æ•°"></a>5.2.3 äºŒå€¼ä¿¡å·é‡è·å–çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreTake()</code></strong> ï¼Œä»»åŠ¡çº§ä¿¡å·é‡é‡Šæ”¾å‡½æ•°<br>å‡½æ•° <strong><code>xSemaphoreTakeISR()</code></strong> ï¼Œä¸­æ–­çº§ä¿¡å·é‡é‡Šæ”¾å‡½æ•°</p></blockquote><ul><li><code>xSemaphoreTake()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼špdFALSE-&gt;ä¿¡å·é‡è·å–å¤±è´¥ï¼›pdTRUE-&gt;ä¿¡å·é‡è·å–æˆåŠŸ</span><br><span class="hljs-comment">// å‚æ•°ï¼š xSemaphore-&gt;è¦é‡Šæ”¾çš„ä¿¡å·é‡å¥æŸ„</span><br><span class="hljs-comment">// å‚æ•°ï¼šxBlockTime-&gt;é˜»å¡æ—¶é—´</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreTake</span><span class="hljs-params">( SemaphoreHandle_t xSemaphore, TickType_t xBlockTime )</span> <br></code></pre></td></tr></table></figure><ul><li><code>xSemaphoreTakeISR()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼špdFALSE-&gt;ä¿¡å·é‡è·å–å¤±è´¥ï¼›pdTRUE-&gt;ä¿¡å·é‡è·å–æˆåŠŸ</span><br><span class="hljs-comment">// å‚æ•°ï¼šxSemaphore-&gt;è¦è·å–ä¿¡å·é‡å¥æŸ„</span><br><span class="hljs-comment">// å‚æ•°ï¼špxHigherPriorityTaskWoken-&gt;æ ‡è®°é€€å‡ºæ­¤å‡½æ•°æ˜¯å¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ï¼Œç”¨æˆ·è¦åšçš„å°±æ˜¯</span><br><span class="hljs-comment">// æä¾›ä¸€ä¸ªå˜é‡æ¥ä¿å­˜è¿™ä¸ªå€¼ï¼Œåœ¨é€€å‡ºä¸­æ–­å‡½æ•°å‰åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå˜é‡ï¼Œå½“è¿™ä¸ªå€¼ä¸ºpdTRUEæ—¶</span><br><span class="hljs-comment">// åœ¨é€€å‡ºä¸­æ–­å‡½æ•°ä¹‹å‰ä¸€å®šè¦åšä¸€æ¬¡ä»»åŠ¡åˆ‡æ¢taskYIELD()ï¼</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreTakeISR</span><span class="hljs-params">( SemaphoreHandle_t xSemaphore, BaseType_t* pxHigherPriorityTaskWoken )</span> <br></code></pre></td></tr></table></figure><h3 id="5-3-è®¡æ•°å‹ä¿¡å·é‡"><a href="#5-3-è®¡æ•°å‹ä¿¡å·é‡" class="headerlink" title="5.3 è®¡æ•°å‹ä¿¡å·é‡"></a>5.3 è®¡æ•°å‹ä¿¡å·é‡</h3><ul><li>è®¡æ•°å‹ä¿¡å·é‡å°±æ˜¯è¯»å–è¿™ä¸ªé˜Ÿåˆ—é¡¹çš„æ•°å€¼ï¼Œè·å–ä¿¡å·é‡çš„æ—¶å€™è‡ªå‡ï¼Œé‡Šæ”¾ä¿¡å·é‡çš„æ—¶å€™è‡ªå¢ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå¸¦å€¼çš„äºŒå€¼ä¿¡å·é‡</li></ul><h4 id="5-3-1-è®¡æ•°å‹ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"><a href="#5-3-1-è®¡æ•°å‹ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°" class="headerlink" title="5.3.1 è®¡æ•°å‹ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"></a>5.3.1 è®¡æ•°å‹ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreCreateCounting()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreCreateCounting()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šNULL-&gt;è®¡æ•°å‹ä¿¡å·é‡åˆ›å»ºå¤±è´¥ï¼›å…¶ä»–-&gt;åˆ›å»ºæˆåŠŸçš„è®¡æ•°å‹ä¿¡å·é‡çš„å¥æŸ„</span><br><span class="hljs-comment">// å‚æ•°ï¼šuxMaxCount-&gt;è®¡æ•°ä¿¡å·é‡çš„æœ€å¤§å€¼ï¼Œå½“ä¿¡å·é‡å€¼ç­‰äºæ­¤å€¼æ—¶ï¼Œé‡Šæ”¾ä¿¡å·é‡ä¼šå¤±è´¥ï¼Œå› ä¸ºå·²ç»æ»¡äº†</span><br><span class="hljs-comment">// å‚æ•°ï¼šuxInitialCount-&gt;è®¡æ•°ä¿¡å·é‡çš„åˆå€¼</span><br>SemaphoreHandle_t <span class="hljs-title function_">xSemaphoreCreateCounting</span><span class="hljs-params">(UBaseType_t uxMaxCount, UBaseType_t uxInitialCount)</span> <br></code></pre></td></tr></table></figure><h4 id="5-3-2-è®¡æ•°å‹ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°"><a href="#5-3-2-è®¡æ•°å‹ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°" class="headerlink" title="5.3.2 è®¡æ•°å‹ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°"></a>5.3.2 è®¡æ•°å‹ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°</h4><p><strong>è®¡æ•°å‹ä¿¡å·é‡çš„é‡Šæ”¾å’Œè·å–ä¸äºŒå€¼ä¿¡å·é‡ç›¸åŒï¼è¯·çœ‹5.2.2å’Œ5.2.3ï¼</strong></p><h3 id="5-4-äº’æ–¥ä¿¡å·é‡"><a href="#5-4-äº’æ–¥ä¿¡å·é‡" class="headerlink" title="5.4 äº’æ–¥ä¿¡å·é‡"></a>5.4 äº’æ–¥ä¿¡å·é‡</h3><ul><li>ä½†æ˜¯å‘¢ï¼Œä½¿ç”¨äºŒå€¼ä¿¡å·é‡å¯èƒ½ä¼šå¯¼è‡´ä¼˜å…ˆçº§åè½¬çš„é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼äº’æ–¥ä¿¡å·é‡ï¼</li><li>äº’æ–¥ä¿¡å·é‡å…¶å®å°±æ˜¯ä¸€ä¸ªæ‹¥æœ‰ä¼˜å…ˆçº§ç»§æ‰¿çš„äºŒå€¼ä¿¡å·é‡ã€‚</li><li>æ³¨æ„ï¼šåˆ›å»ºäº’æ–¥ä¿¡å·é‡æ—¶ï¼Œä¼šä¸»åŠ¨é‡Šæ”¾ä¸€æ¬¡ä¿¡å·é‡ï¼å°±æ˜¯ä½ å¯ä»¥ç›´æ¥è·å–åˆ°ï¼è€ŒäºŒå€¼ä¿¡å·é‡å’Œè®¡æ•°å‹ä¿¡å·é‡ä¸è¡Œï¼Œå®ƒä»¬éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ç¬¬ä¸€æ¬¡ä¿¡å·é‡ã€‚</li><li><strong>äº’æ–¥ä¿¡å·é‡æœ‰ä¼˜å…ˆçº§ç»§æ‰¿æœºåˆ¶ï¼Œæ‰€ä»¥åªèƒ½ç”¨åœ¨ä»»åŠ¡ä¸­ï¼Œä¸èƒ½ç”¨äºä¸­æ–­æœåŠ¡å‡½æ•°ä¸­ï¼</strong></li></ul><h4 id="5-4-1-äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"><a href="#5-4-1-äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°" class="headerlink" title="5.4.1 äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"></a>5.4.1 äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreCreateMutex()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreCreateMutex()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šNULL-&gt;ä¿¡å·é‡åˆ›å»ºå¤±è´¥ï¼›å…¶ä»–-&gt;åˆ›å»ºæˆåŠŸçš„ä¿¡å·é‡çš„å¥æŸ„</span><br>SemaphoreHandle_t <span class="hljs-title function_">xSemaphoreCreateMutex</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> <br></code></pre></td></tr></table></figure><h4 id="5-4-2-äº’æ–¥ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°"><a href="#5-4-2-äº’æ–¥ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°" class="headerlink" title="5.4.2 äº’æ–¥ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°"></a>5.4.2 äº’æ–¥ä¿¡å·é‡é‡Šæ”¾ä¸è·å–çš„APIå‡½æ•°</h4><p><strong>äº’æ–¥ä¿¡å·é‡çš„é‡Šæ”¾å’Œè·å–ä¸äºŒå€¼ä¿¡å·é‡ç›¸åŒï¼è¯·çœ‹5.2.2å’Œ5.2.3ï¼</strong></p><h3 id="5-5-é€’å½’äº’æ–¥ä¿¡å·é‡"><a href="#5-5-é€’å½’äº’æ–¥ä¿¡å·é‡" class="headerlink" title="5.5 é€’å½’äº’æ–¥ä¿¡å·é‡"></a>5.5 é€’å½’äº’æ–¥ä¿¡å·é‡</h3><ul><li>é€’å½’äº’æ–¥ä¿¡å·é‡å¯ä»¥çœ‹ä½œä¸€ä¸ªç‰¹æ®Šçš„äº’æ–¥ä¿¡å·é‡ï¼Œå·²ç»è·å–äº†äº’æ–¥ä¿¡å·é‡çš„ä»»åŠ¡å°±ä¸èƒ½å†æ¬¡è·å–è¿™ä¸ªäº’æ–¥ä¿¡å·é‡ï¼Œä½†æ˜¯é€’å½’äº’æ–¥ä¿¡å·é‡ä¸åŒï¼Œå·²ç»è·å–äº†é€’å½’äº’æ–¥ä¿¡å·é‡çš„ä»»åŠ¡å¯ä»¥å†æ¬¡è·å–è¿™ä¸ªé€’å½’äº’æ–¥ä»»åŠ¡è€Œä¸”æ¬¡æ•°ä¸é™ï¼ä¸€ä¸ªä»»åŠ¡ä½¿ç”¨å‡½æ•°xSemaphoreTakeRecursive()æˆåŠŸçš„è·å–äº†å¤šå°‘æ¬¡é€’å½’äº’æ–¥ä¿¡å·é‡å°±å¾—ä½¿ç”¨å‡½æ•°xSemaphoreGiveRecursive()é‡Šæ”¾å¤šå°‘æ¬¡ï¼</li><li>æ³¨æ„ï¼šè¦ä½¿ç”¨é€’å½’äº’æ–¥ä¿¡å·é‡çš„è¯å®configUSE_RECURSIVE_MUTEXESå¿…é¡»ä¸º1ï¼</li></ul><h4 id="5-5-1-é€’å½’äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"><a href="#5-5-1-é€’å½’äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°" class="headerlink" title="5.5.1 é€’å½’äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°"></a>5.5.1 é€’å½’äº’æ–¥ä¿¡å·é‡åˆ›å»ºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreCreateRecursiveMutex()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreCreateRecursiveMutex()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼šNULL-&gt;ä¿¡å·é‡åˆ›å»ºå¤±è´¥ï¼›å…¶ä»–-&gt;åˆ›å»ºæˆåŠŸçš„ä¿¡å·é‡çš„å¥æŸ„</span><br>SemaphoreHandle_t <span class="hljs-title function_">xSemaphoreCreateRecursiveMutex</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> <br></code></pre></td></tr></table></figure><h4 id="5-5-2-é€’å½’äº’æ–¥ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°"><a href="#5-5-2-é€’å½’äº’æ–¥ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°" class="headerlink" title="5.5.2 é€’å½’äº’æ–¥ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°"></a>5.5.2 é€’å½’äº’æ–¥ä¿¡å·é‡é‡Šæ”¾çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreGiveRecursive()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreGiveRecursive()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼špdFAIL-&gt;ä¿¡å·é‡é‡Šæ”¾å¤±è´¥ï¼›pdPASS-&gt;ä¿¡å·é‡é‡Šæ”¾æˆåŠŸ</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreGiveRecursive</span><span class="hljs-params">( QueueHandle_t xMutex )</span> <br></code></pre></td></tr></table></figure><h4 id="5-5-3-é€’å½’äº’æ–¥ä¿¡å·é‡è·å–çš„APIå‡½æ•°"><a href="#5-5-3-é€’å½’äº’æ–¥ä¿¡å·é‡è·å–çš„APIå‡½æ•°" class="headerlink" title="5.5.3 é€’å½’äº’æ–¥ä¿¡å·é‡è·å–çš„APIå‡½æ•°"></a>5.5.3 é€’å½’äº’æ–¥ä¿¡å·é‡è·å–çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>xSemaphoreTakeRecursive()</code></strong> ï¼Œåœ¨ä¸»ç¨‹åºä¸­è°ƒç”¨</p></blockquote><ul><li><code>xSemaphoreTakeRecursive()</code>ä¸€è§ˆï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿”å›å€¼ï¼špdFAIL-&gt;ä¿¡å·é‡è·å–å¤±è´¥ï¼›pdPASS-&gt;ä¿¡å·é‡è·å–æˆåŠŸ</span><br>BaseType_t <span class="hljs-title function_">xSemaphoreTakeRecursive</span><span class="hljs-params">( QueueHandle_t xMutex, TickType_t xTicksTowait )</span> <br></code></pre></td></tr></table></figure><hr><h3 id="6-1-ä»»åŠ¡é€šçŸ¥"><a href="#6-1-ä»»åŠ¡é€šçŸ¥" class="headerlink" title="6.1 ä»»åŠ¡é€šçŸ¥"></a>6.1 ä»»åŠ¡é€šçŸ¥</h3><blockquote><p>ä»»åŠ¡é€šçŸ¥çš„ä¼˜åŠ¿</p></blockquote><ul><li><strong>æ•ˆç‡æ›´é«˜</strong>ï¼å¦‚æœä½¿ç”¨ä»»åŠ¡é€šçŸ¥æ¥æ¨¡æ‹ŸäºŒå€¼ä¿¡å·é‡ï¼Œé€Ÿåº¦å¿«45%ï¼ˆå®˜æ–¹æµ‹è¯•ï¼‰ï¼</li><li><strong>ä½¿ç”¨å†…å­˜æ›´å°</strong>ï¼Œä½¿ç”¨å…¶ä»–æ–¹æ³•æ—¶éƒ½è¦å…ˆåˆ›å»ºå¯¹åº”çš„ç»“æ„ä½“ï¼Œä½¿ç”¨ä»»åŠ¡é€šçŸ¥æ—¶æ— éœ€é¢å¤–åˆ›å»ºç»“æ„ä½“</li></ul><blockquote><p>ä»»åŠ¡é€šçŸ¥çš„åŠ£åŠ¿</p></blockquote><ul><li><strong>æ— æ³•åœ¨ä¸­æ–­æœåŠ¡å‡½æ•°ä¸­è·å¾—ä»»åŠ¡é€šçŸ¥</strong>ï¼Œä½ åªèƒ½åœ¨ä¸­æ–­æœåŠ¡å‡½æ•°ä¸­å‘é€ä»»åŠ¡é€šçŸ¥</li><li><strong>æ— æ³•å¹¿æ’­ç»™å¤šä¸ªä»»åŠ¡ï¼ˆåªèƒ½ä¸€ä¸ªï¼‰</strong>ï¼Œä»»åŠ¡é€šçŸ¥åªèƒ½æ˜¯è¢«æŒ‡å®šçš„ä¸€ä¸ªä»»åŠ¡æ¥æ”¶å¹¶å¤„ç†</li><li><strong>æ— æ³•ç¼“å­˜å¤šä¸ªæ•°æ®ï¼ˆåªèƒ½ä¸€ä¸ªï¼‰</strong>ï¼Œä»»åŠ¡é€šçŸ¥æ˜¯é€šè¿‡æ›´æ–°ä»»åŠ¡é€šçŸ¥å€¼æ¥å‘é€æ•°æ®çš„ï¼Œä»»åŠ¡ç»“æ„ä½“ä¸­åªæœ‰ä¸€ä¸ªä»»åŠ¡é€šçŸ¥å€¼ï¼Œåªèƒ½ä¿æŒä¸€ä¸ªæ•°æ®</li></ul><h4 id="6-1-1-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹ŸäºŒå€¼ä¿¡å·é‡"><a href="#6-1-1-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹ŸäºŒå€¼ä¿¡å·é‡" class="headerlink" title="6.1.1 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹ŸäºŒå€¼ä¿¡å·é‡"></a>6.1.1 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹ŸäºŒå€¼ä¿¡å·é‡</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ä»»åŠ¡å‘èµ·é€šçŸ¥ */</span><br>xTaskNotifyGive(yourTaskHandler);<br><br><span class="hljs-comment">/* ä»»åŠ¡æ¥æ”¶é€šçŸ¥ */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">yourTask</span><span class="hljs-params">(<span class="hljs-type">void</span> * pvPaeameters)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-comment">// æ¥æ”¶ä»»åŠ¡æˆåŠŸåpdTRUE-&gt;ä»»åŠ¡é€šçŸ¥å€¼æ¸…é›¶ï¼ŒportMAX_DELAY-&gt;æ­»ç­‰ï¼Œæ²¡ä»»åŠ¡é€šçŸ¥å°±é˜»å¡</span><br>        <span class="hljs-keyword">if</span>(ulTaskNotifyTake(pdTRUE, portMAX_DELAY))<br>        &#123;<br>            <span class="hljs-comment">// do your task</span><br>        &#125;<br>    &#125;<br>    xTaskDelete(<span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-1-2-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿè®¡æ•°å‹ä¿¡å·é‡"><a href="#6-1-2-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿè®¡æ•°å‹ä¿¡å·é‡" class="headerlink" title="6.1.2 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿè®¡æ•°å‹ä¿¡å·é‡"></a>6.1.2 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿè®¡æ•°å‹ä¿¡å·é‡</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ä»»åŠ¡å‘èµ·é€šçŸ¥ */</span><br>xTaskNotifyGive(yourTaskHandler);<br><br><span class="hljs-comment">/* ä»»åŠ¡æ¥æ”¶é€šçŸ¥ */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">yourTask</span><span class="hljs-params">(<span class="hljs-type">void</span> * pvPaeameters)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-type">uint32_t</span> rev = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// æ¥æ”¶ä»»åŠ¡æˆåŠŸåpdFALSE-&gt;ä»»åŠ¡é€šçŸ¥å€¼è‡ªå‡ï¼ŒportMAX_DELAY-&gt;æ­»ç­‰ï¼Œæ²¡ä»»åŠ¡é€šçŸ¥å°±é˜»å¡</span><br>        rev = ulTaskNotifyTake(pdFALSE, portMAX_DELAY);<br>        <span class="hljs-keyword">if</span>(rev)<br>        &#123;<br>            <span class="hljs-comment">// do your task</span><br>        &#125;<br>    &#125;<br>    xTaskDelete(<span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-1-3-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿæ¶ˆæ¯é‚®ç®±ï¼ˆä¼ å€¼ï¼‰"><a href="#6-1-3-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿæ¶ˆæ¯é‚®ç®±ï¼ˆä¼ å€¼ï¼‰" class="headerlink" title="6.1.3 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿæ¶ˆæ¯é‚®ç®±ï¼ˆä¼ å€¼ï¼‰"></a>6.1.3 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿæ¶ˆæ¯é‚®ç®±ï¼ˆä¼ å€¼ï¼‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ä»»åŠ¡å‘èµ·é€šçŸ¥ */</span><br><span class="hljs-comment">// valForTransfer-&gt;ä½ æƒ³è¦ä¼ é€çš„å˜é‡å€¼ï¼ŒeSetValueWithOverwrite-&gt;è®¾ç½®æˆå¯è¦†å†™æ¨¡å¼</span><br>xTaskNotify(yourTaskHandler, valForTransfer, eSetValueWithOverwrite);<br><br><span class="hljs-comment">/* ä»»åŠ¡æ¥æ”¶é€šçŸ¥ */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">yourTask</span><span class="hljs-params">(<span class="hljs-type">void</span> * pvPaeameters)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-type">uint32_t</span> notifyVal = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// æ¥æ”¶ä»»åŠ¡æˆåŠŸåï¼ŒportMAX_DELAY-&gt;æ­»ç­‰ï¼Œæ²¡ä»»åŠ¡é€šçŸ¥å°±é˜»å¡</span><br>        xTaskNotifyWait(<span class="hljs-number">0</span><span class="hljs-comment">/*ä¼ å…¥å€¼ä¸æ”¹å˜*/</span>, <span class="hljs-number">0xFFFFFFFF</span><span class="hljs-comment">/*é€€å‡ºå‡½æ•°åä¼ å…¥å€¼æ¸…é›¶*/</span>, &amp;notifyVal, portMAX_DELAY);<br>        <span class="hljs-keyword">switch</span>(notifyVal)<br>        &#123;<br>            <span class="hljs-comment">// do your task</span><br>        &#125;<br>    &#125;<br>    xTaskDelete(<span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-1-4-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿäº‹ä»¶æ ‡å¿—ç»„"><a href="#6-1-4-ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿäº‹ä»¶æ ‡å¿—ç»„" class="headerlink" title="6.1.4 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿäº‹ä»¶æ ‡å¿—ç»„"></a>6.1.4 ä»»åŠ¡é€šçŸ¥æ¨¡æ‹Ÿäº‹ä»¶æ ‡å¿—ç»„</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* ä»»åŠ¡å‘èµ·é€šçŸ¥ */</span><br><span class="hljs-comment">// EVENTBIT_X-&gt;ä½ æƒ³è¦é€šçŸ¥çš„ç¬¬å‡ ä¸ªbitï¼ŒeSetBits-&gt;è®¾ç½®æˆäº‹ä»¶æ ‡å¿—ç»„æ¨¡å¼</span><br>xTaskNotify(yourTaskHandler, EVENTBIT_0<span class="hljs-comment">/* é€šçŸ¥bit0 */</span>, eSetBits);<br><br>xTaskNotify(yourTaskHandler, EVENTBIT_1<span class="hljs-comment">/* é€šçŸ¥bit1 */</span>, eSetBits);<br><br><span class="hljs-comment">/* ä»»åŠ¡æ¥æ”¶é€šçŸ¥ */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">yourTask</span><span class="hljs-params">(<span class="hljs-type">void</span> * pvPaeameters)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-type">uint32_t</span> notifyVal = <span class="hljs-number">0</span>, eventBit = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// æ¥æ”¶ä»»åŠ¡æˆåŠŸåï¼ŒportMAX_DELAY-&gt;æ­»ç­‰ï¼Œæ²¡ä»»åŠ¡é€šçŸ¥å°±é˜»å¡</span><br>        xTaskNotifyWait(<span class="hljs-number">0</span><span class="hljs-comment">/*ä¼ å…¥å€¼ä¸æ”¹å˜*/</span>, <span class="hljs-number">0xFFFFFFFF</span><span class="hljs-comment">/*é€€å‡ºå‡½æ•°åä¼ å…¥å€¼æ¸…é›¶*/</span>, &amp;notifyVal, portMAX_DELAY);<br>        <span class="hljs-keyword">if</span>(notifyVal &amp; EVENTBIT_0)<br>        &#123;<br>            eventBit |= EVENTBIT_0;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(notifyVal &amp; EVENTBIT_1)<br>        &#123;<br>            eventBit |= EVENTBIT_1;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(eventBit == (EVENTBIT_0 | EVENTBIT_1))<br>        &#123;<br>            <span class="hljs-comment">// do your task</span><br>        &#125;<br>    &#125;<br>    xTaskDelete(<span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å†…æ ¸æ§åˆ¶å‡½æ•°"><a href="#å†…æ ¸æ§åˆ¶å‡½æ•°" class="headerlink" title="å†…æ ¸æ§åˆ¶å‡½æ•°"></a>å†…æ ¸æ§åˆ¶å‡½æ•°</h3><h4 id="ä»»åŠ¡åˆ‡æ¢çš„APIå‡½æ•°"><a href="#ä»»åŠ¡åˆ‡æ¢çš„APIå‡½æ•°" class="headerlink" title="ä»»åŠ¡åˆ‡æ¢çš„APIå‡½æ•°"></a>ä»»åŠ¡åˆ‡æ¢çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>taskYIELD()</code></strong> ï¼Œæ­¤å‡½æ•°ç”¨äºè¿›è¡Œä»»åŠ¡åˆ‡æ¢ï¼Œç”¨çš„æœ€å¤šçš„å°±æ˜¯å‡ºä¸­æ–­çš„ä¼˜å…ˆçº§åˆ‡æ¢æ—¶</p></blockquote><h4 id="è¿›å…¥ã€é€€å‡ºä¸´ç•ŒåŒºçš„APIå‡½æ•°"><a href="#è¿›å…¥ã€é€€å‡ºä¸´ç•ŒåŒºçš„APIå‡½æ•°" class="headerlink" title="è¿›å…¥ã€é€€å‡ºä¸´ç•ŒåŒºçš„APIå‡½æ•°"></a>è¿›å…¥ã€é€€å‡ºä¸´ç•ŒåŒºçš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>taskENTER_CRITICAL()</code></strong> ï¼Œè¿›å…¥ä¸´ç•ŒåŒºï¼Œç”¨äºä»»åŠ¡çº§</p></blockquote><blockquote><p>å‡½æ•° <strong><code>taskENTER_CRITICAL_FROM_ISR()</code></strong> ï¼Œè¿›å…¥ä¸´ç•ŒåŒºï¼Œç”¨äºä¸­æ–­çº§</p></blockquote><blockquote><p>å‡½æ•° <strong><code>taskEXIT_CRITICAL()</code></strong> ï¼Œé€€å‡ºä¸´ç•ŒåŒºï¼Œç”¨äºä»»åŠ¡çº§</p></blockquote><blockquote><p>å‡½æ•° <strong><code>taskEXIT_CRITICAL_FROM_ISR()</code></strong> ï¼Œé€€å‡ºä¸´ç•ŒåŒºï¼Œç”¨äºä¸­æ–­çº§</p></blockquote><h4 id="ä¸­æ–­æ‰“å¼€ã€å…³é—­çš„APIå‡½æ•°"><a href="#ä¸­æ–­æ‰“å¼€ã€å…³é—­çš„APIå‡½æ•°" class="headerlink" title="ä¸­æ–­æ‰“å¼€ã€å…³é—­çš„APIå‡½æ•°"></a>ä¸­æ–­æ‰“å¼€ã€å…³é—­çš„APIå‡½æ•°</h4><blockquote><p>å‡½æ•° <strong><code>taskENABLE_INTERRUPTS()</code></strong> ï¼Œæ‰“å¼€ä¸­æ–­</p></blockquote><blockquote><p>å‡½æ•° <strong><code>taskDISABLE_INTERRUPTS()</code></strong> ï¼Œå…³é—­ä¸­æ–­</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>FreeRTOS</tag>
      
      <tag>MCU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitä¸VScodeè”åˆä½¿ç”¨çš„æºä»£ç ç®¡ç†æŒ‡å—</title>
    <link href="/2023/12/09/GitxVScode-CodeManageGuide/GitxVScode-CodeManageGuide/"/>
    <url>/2023/12/09/GitxVScode-CodeManageGuide/GitxVScode-CodeManageGuide/</url>
    
    <content type="html"><![CDATA[<h2 id="GitxVScode-CodeManageGuide"><a href="#GitxVScode-CodeManageGuide" class="headerlink" title="GitxVScode-CodeManageGuide"></a>GitxVScode-CodeManageGuide</h2><h3 id="Gitä¸VScodeè”åˆä½¿ç”¨çš„æºä»£ç ç®¡ç†æŒ‡å—"><a href="#Gitä¸VScodeè”åˆä½¿ç”¨çš„æºä»£ç ç®¡ç†æŒ‡å—" class="headerlink" title="Gitä¸VScodeè”åˆä½¿ç”¨çš„æºä»£ç ç®¡ç†æŒ‡å—"></a>Gitä¸VScodeè”åˆä½¿ç”¨çš„æºä»£ç ç®¡ç†æŒ‡å—</h3><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3><hr><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li><del>å»ºè®®æœ‰ä¸€ç‚¹Gitç®¡ç†åŸºç¡€çš„äººä½¿ç”¨ï¼è‡³å°‘ä½ å¾—Githubæœ‰å·å§ï¼Œæ˜¯å§ï¼ˆç©ç¬‘ï¼</del></li><li>è¿™äº›æŒ‡ä»¤å…¶å®å¹¶ä¸å¸¸ç”¨ï¼Œæˆ‘ä»¬åªæ˜¯ç¨ä½œç†è§£ï¼Œå‰©ä¸‹çš„äº¤ç»™Vscodeç‚¹ç‚¹ç‚¹å§ï¼</li></ul><hr><h2 id="ç›¸å…³æ’ä»¶"><a href="#ç›¸å…³æ’ä»¶" class="headerlink" title="ç›¸å…³æ’ä»¶"></a>ç›¸å…³æ’ä»¶</h2><ol><li>Git Graph</li></ol><p>å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°å­˜å‚¨ä»“åº“çš„æ¯ä¸€æ¬¡æäº¤(Commit)ï¼Œæ¯ä¸€ä¸ªåˆ†æ”¯(Branch)ï¼Œå’Œæ¯ä¸€æ¬¡åˆå¹¶çš„è®°å½•ï¼Œéå¸¸niceï¼<br>åŒæ—¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥è¯¢æ¯ä¸€æ¬¡çš„è®°å½•ï¼Œè¿›è¡Œæ–‡ä»¶ä»£ç æ¯”å¯¹ã€‚</p><ol start="2"><li>GitLens</li></ol><p>å¯ä»¥ç›´æ¥åœ¨æºä»£ç é‡Œçœ‹åˆ°æ¯ä¸€è¡Œä»£ç çš„æ›´æ”¹æ—¶é—´ï¼</p><ol start="3"><li>GitHistory</li></ol><p>å’ŒGit GraphåŠŸèƒ½ç±»ä¼¼ï¼Œç»†èŠ‚æ³¨é‡ç‚¹ä¸å¤ªä¸€æ ·ã€‚</p><h2 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h2><h3 id="æäº¤-Commit"><a href="#æäº¤-Commit" class="headerlink" title="æäº¤(Commit)"></a>æäº¤(Commit)</h3><p>è¿™ä¸ªæ“ä½œæˆ‘ä»¬ä½¿ç”¨VScodeè‡ªå¸¦çš„æºä»£ç ç®¡ç†æ¥å®Œæˆã€‚<br>æš‚å­˜æˆ‘ä»¬æ‰€éœ€çš„ä¿®æ”¹ä¹‹åç‚¹å‡»æäº¤ï¼Œæ¥ç€ä¼šè·³è½¬åˆ°<code>COMMIT_EDITMSG</code>æ–‡ä»¶é¡µé¢ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æäº¤ç¼–è¾‘ä¿¡æ¯ã€‚<br>ä½ å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶æœ€é¡¶éƒ¨å†™ä¸€äº›ä½ è¿™æ¬¡æäº¤çš„ä¸€äº›æ¶ˆæ¯å¤‡æ³¨ã€‚å†™å®Œä¿å­˜ï¼Œå…³æ‰è¿™ä¸ªæ–‡ä»¶é¡µé¢ï¼Œå³å¯å®Œæˆä¸€æ¬¡æäº¤ï¼</p><blockquote><p> <code>git add .</code>æ·»åŠ æ‰€æœ‰è¢«ä¿®æ”¹æ–‡ä»¶åˆ°æš‚å­˜æ›´æ”¹åŒº<br><code>git commit -m &quot;massage&quot;</code> æäº¤æš‚å­˜æ›´æ”¹åŒºçš„å†…å®¹ä½œä¸ºä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œ<code>massage</code>ä¸ºè¯¥ç‰ˆæœ¬çš„å…³é”®å­—<br><code>-m</code>çš„ä½œç”¨å°±æ˜¯å¯ä»¥ä¸å¼¹çª—ç›´æ¥å†™å…³é”®å­—ï¼Œå¦‚æœä½ åªè¾“å…¥<code>git commit</code>å°±ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£è®©ä½ å¡«å†™è¯¥ç‰ˆæœ¬çš„å…³é”®å­—ã€‚</p></blockquote><h3 id="æ¨é€-Push"><a href="#æ¨é€-Push" class="headerlink" title="æ¨é€(Push)"></a>æ¨é€(Push)</h3><blockquote><p>è¿™ä¸ªæ“ä½œéœ€è¦æˆ‘ä»¬çš„VScodeå…³è”è‡ªå·±çš„Githubä»“åº“åæ‰å¯ä»¥ä½¿ç”¨ã€‚</p></blockquote><p>æäº¤ä¹‹åï¼Œæäº¤è®°å½•ä¼šæš‚å­˜åœ¨æˆ‘ä»¬æœ¬åœ°çš„ä»“åº“å†…ï¼Œå¦‚æœæƒ³è¦æŠŠæäº¤è®°å½•æ¨é€è‡³Githubï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨VScodeçš„æºä»£ç ç®¡ç†é‡Œé€‰æ‹©æ¨é€å³å¯ã€‚</p><p>å¦‚æœä½ Githubæ²¡æœ‰åˆ›å»ºç›¸å…³çš„ä»“åº“ï¼ŒVScodeä¹Ÿä¼šå¼¹çª—è®©ä½ åˆ›å»ºçš„ï¼</p><h3 id="ç­¾å‡ºåˆ°-Checkout"><a href="#ç­¾å‡ºåˆ°-Checkout" class="headerlink" title="ç­¾å‡ºåˆ°(Checkout)"></a>ç­¾å‡ºåˆ°(Checkout)</h3><blockquote><p><code>git checkout branch_name</code>åˆ‡æ¢åˆ†æ”¯ã€‚<br>åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™è¦ä¿è¯å½“å‰æš‚å­˜åŒºæ²¡æœ‰éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶å“¦ï¼å¯ä»¥ç”¨<code>git status</code>ç¡®ä¿ç°åœ¨çš„çŠ¶æ€æ˜¯<code>clean</code>ï¼Œå¦åˆ™å°±ä¼šåˆ‡æ¢åˆ†æ”¯å¤±è´¥äº†ã€‚</p></blockquote><h3 id="ç‰ˆæœ¬å›é€€-Reset"><a href="#ç‰ˆæœ¬å›é€€-Reset" class="headerlink" title="ç‰ˆæœ¬å›é€€(Reset)"></a>ç‰ˆæœ¬å›é€€(Reset)</h3><p>æœ‰3ç§å¸¸ç”¨çš„å›é€€æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯<code>soft</code>, <code>mixed</code>, <code>hard</code></p><p>ç¬¬ä¸€ç§ï¼š</p><p><code>soft</code>å›é€€æ–¹å¼åªä¼šæŠŠHeadæŒ‡é’ˆå¾€å›æŒ‡åˆ°ä½ å›é€€çš„ç‰ˆæœ¬ï¼Œç„¶åä½ ä»“åº“é‡Œçš„æ–‡ä»¶ä¸ä¼šå‘ç”Ÿä»»ä½•çš„å¢åˆ ï¼ŒçŠ¶æ€å¤§æ¦‚å°±æ˜¯ä½ å·²ç»commitäº†ï¼Œä½†æ˜¯æ²¡æœ‰pushçš„çŠ¶æ€ã€‚ï¼ˆï¼Ÿä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹</p><blockquote><p><code>git reset --soft &lt;Hash&gt;</code>ï¼ˆè¿™é‡Œ<code>&lt;Hash&gt;</code>æ˜¯ä½ çš„ç‰ˆæœ¬å·å“ˆï¼</p></blockquote><p>ç¬¬äºŒç§ï¼š</p><p><code>mixed</code>å›é€€æ–¹å¼ï¼Œä¼šæŠŠHeadæŒ‡é’ˆå¾€å›æŒ‡åˆ°æˆ‘ä»¬å¸Œæœ›å›é€€åˆ°çš„ç‰ˆæœ¬ï¼Œç„¶åä»“åº“é‡Œçš„æ–‡ä»¶ä¹Ÿä¸ä¼šå‘ç”Ÿä»»ä½•çš„å¢åˆ ï¼ˆæš‚æ—¶ï¼‰ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯æš‚æ—¶å‘¢ï¼Ÿå› ä¸ºå®ƒæŠŠä½ è¿™ä¸ªå›é€€ç‰ˆæœ¬ä¹‹åæ‰€æœ‰çš„commitéƒ½æ”¾å›äº†æš‚å­˜æ›´æ”¹åŒºï¼Œä½ å°±å¯ä»¥åœ¨æš‚å­˜æ›´æ”¹åŒºé‡Œå†³å®šè¦æ¢å¤ä»€ä¹ˆæ–‡ä»¶ï¼Œæ¢å¤ä»€ä¹ˆä»£ç å•¦ï¼</p><blockquote><p><code>git reset --mixed &lt;Hash&gt;</code></p></blockquote><p>ç¬¬ä¸‰ç§ï¼š</p><p><code>hard</code>å›é€€æ–¹å¼ï¼Œä¼šæŠŠHeadæŒ‡é’ˆå¾€å›æŒ‡åˆ°æˆ‘ä»¬å¸Œæœ›å›é€€åˆ°çš„ç‰ˆæœ¬ï¼Œç„¶åè¯¥ç‰ˆæœ¬å·ä»¥åçš„ç‰ˆæœ¬ç»Ÿç»Ÿéƒ½ä¼šä¸è§ä½¿ç”¨<code>git log</code>æ—¶å°±çœ‹ä¸è§å½“å‰å›é€€ç‰ˆæœ¬ä»¥åçš„ç‰ˆæœ¬å·äº†ï¼ˆæ‰€ä»¥è¦è°¨æ…ï¼</p><blockquote><p><code>git reset --hard &lt;Hash&gt;</code></p></blockquote><p>è¿™ç§å›é€€æ–¹å¼ä¼šç®€å•ç²—æš´çš„æŠŠä½ æœ¬åœ°ä»“åº“å›é€€ç‰ˆæœ¬çš„ä»€ä¹ˆæ–‡ä»¶å•Šä»€ä¹ˆä»£ç åŸå°ä¸åŠ¨åœ°ä¸€å­—ä¸æ‹‰åœ°å½’è¿˜å®ƒçš„åŸæ ·ï¼<br>å½“ç„¶ï¼Œä½ ä»ç„¶å¯ä»¥é€šè¿‡<code>git reflog</code>æ‰¾å›ä»å‰çš„ç‰ˆæœ¬å·ï¼Œç„¶åä½¿ç”¨<code>git reset --hard &lt;Hash&gt;</code>è·³å›å»ï¼Œ<strong>ç†è®ºä¸Šï¼Œä½ çš„ä»£ç ä¸ä¼šä¸¢ï¼Œ</strong> niceï¼</p><blockquote><p><code>git reset --hard HEAD^</code>è¡¨ç¤ºç¡¬å›é€€åˆ°<strong>ä¸Šä¸€ä¸ª</strong>ç‰ˆæœ¬<br>åŒç†<code>HEAD^^</code>è¡¨ç¤º<strong>ä¸Šä¸Šä¸ª</strong>ç‰ˆæœ¬ï¼Œ<code>HEAD^^^</code>è¡¨ç¤º<strong>ä¸Šä¸Šä¸Šä¸ª</strong>ç‰ˆæœ¬ï¼Œè€Œä¸”ä½ ä¹Ÿå¯ä»¥ç”¨<code>HEAD~3</code>è¡¨ç¤º<strong>ä¸Šä¸Šä¸Šä¸ª</strong>ç‰ˆæœ¬å™¢ï¼</p></blockquote><h2 id="è¾…åŠ©æ“ä½œ"><a href="#è¾…åŠ©æ“ä½œ" class="headerlink" title="è¾…åŠ©æ“ä½œ"></a>è¾…åŠ©æ“ä½œ</h2><h3 id="è®°å½•æŸ¥çœ‹"><a href="#è®°å½•æŸ¥çœ‹" class="headerlink" title="è®°å½•æŸ¥çœ‹"></a>è®°å½•æŸ¥çœ‹</h3><ul><li><code>git log</code></li></ul><blockquote><p><code>git log</code>ç”¨æ¥æŸ¥çœ‹commitæäº¤å†å²è®°å½•ã€‚<br><code>git log --graph</code>è¿™æ¡å‘½ä»¤ä½¿ç”¨äº†å°±ä¼šæœ‰ä¼˜é›…çš„æ ‘çŠ¶å›¾å¯ä»¥çœ‹å•¦ï¼ˆä¹Ÿä¸ç®—æ˜¯æ ‘çŠ¶å›¾ï¼Œåæ­£å°±æ˜¯å›¾å½¢åŒ–æ˜¾ç¤º<br>åœ¨ç»ˆç«¯æŒ‰<code>Q</code>é”®é€€å‡ºæ—¥å¿—å“¦ï¼</p></blockquote><ul><li><code>git reflog</code></li></ul><blockquote><p>ç”¨æ¥æŸ¥çœ‹Gitä»“åº“çš„æ‰€æœ‰gitå‘½ä»¤æ“ä½œçš„å†å²è®°å½•ï¼Œæ¯”å¦‚ä½ ç”¨è¿‡çš„<code>reset</code>, <code>checkout</code>, <code>commit</code>, <code>push</code> çš„è®°å½•éƒ½èƒ½åœ¨è¿™é‡Œçœ‹åˆ°ã€‚</p></blockquote><ul><li><code>git status</code></li></ul><blockquote><p>ç”¨æ¥æŸ¥çœ‹æœ¬åœ°ä»“åº“çŠ¶æ€ã€‚</p></blockquote><h3 id="æ¸…é™¤å·²ç»è¢«è·Ÿè¸ªçš„æ–‡ä»¶"><a href="#æ¸…é™¤å·²ç»è¢«è·Ÿè¸ªçš„æ–‡ä»¶" class="headerlink" title="æ¸…é™¤å·²ç»è¢«è·Ÿè¸ªçš„æ–‡ä»¶"></a>æ¸…é™¤å·²ç»è¢«è·Ÿè¸ªçš„æ–‡ä»¶</h3><p>å¦‚æœæ–‡ä»¶å·²ç»è¢« Git è·Ÿè¸ªï¼ˆå³å·²ç»æäº¤åˆ°ä»“åº“ï¼‰ï¼Œé‚£ä¹ˆä¿®æ”¹<code>.gitignore</code>æ–‡ä»¶å°†ä¸ä¼šå¯¹è¿™äº›æ–‡ä»¶äº§ç”Ÿä»»ä½•æ•ˆæœã€‚ä½ éœ€è¦å…ˆä» Git çš„è·Ÿè¸ªåˆ—è¡¨ä¸­ç§»é™¤è¿™äº›æ–‡ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ï¼š</p><blockquote><p><code>git rm --cached &lt;file&gt;</code>ï¼Œæ¸…é™¤å•ä¸ªæ–‡ä»¶.<br><code>git rm -r --cached &lt;file&gt;</code>ï¼Œæ¸…é™¤æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰å†…å®¹.</p></blockquote><h3 id="åˆ†æ”¯æŸ¥æ‰¾"><a href="#åˆ†æ”¯æŸ¥æ‰¾" class="headerlink" title="åˆ†æ”¯æŸ¥æ‰¾"></a>åˆ†æ”¯æŸ¥æ‰¾</h3><ul><li><code>git branch</code></li></ul><blockquote><p><code>git branch</code>ç”¨æ¥æŸ¥çœ‹å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚<br><code>git branch -v</code>ç”¨æ¥æŸ¥çœ‹å½“å‰æ‰€åœ¨åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬å·å’Œç‰ˆæœ¬å…³é”®å­—ã€‚<br><code>git branch branch_name</code>ç”¨æ¥åˆ›å»ºåå­—ä¸º<code>branch_name</code>çš„æ–°åˆ†æ”¯ã€‚</p></blockquote><h3 id="è¿œç¨‹ä»“åº“å…‹éš†"><a href="#è¿œç¨‹ä»“åº“å…‹éš†" class="headerlink" title="è¿œç¨‹ä»“åº“å…‹éš†"></a>è¿œç¨‹ä»“åº“å…‹éš†</h3><ul><li><code>git clone</code></li></ul><blockquote><p><code>git clone &lt;address&gt;</code>è€ç†Ÿäººäº†ï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€å®ƒçš„å‘½ä»¤è¡Œçª—å£ï¼Œä½ å°±æ•²ä¸Šé¢çš„å‘½ä»¤ï¼Œ<code>&lt;address&gt;</code>æ˜¯è¢«å…‹éš†çš„è¿œç¨‹ä»“åº“çš„åœ°å€ã€‚å°±è¿™ä¸ªå‘½ä»¤å¯ä»¥å®Œæˆç›®å‰æ‰€æœ‰å¼€æºé¡¹ç›®90%çš„å…‹éš†ã€‚<br><code>git clone --recursive &lt;address&gt;</code>å‰©ä¸‹çš„10%å°±æ¯”è¾ƒä¸“ä¸šä¸€ç‚¹ï¼Œå¯èƒ½äººå®¶è¿œç¨‹ä»£ç åº“é‡Œè¿ç”¨äº†åˆ«äººçš„å­é¡¹ç›®ï¼Œä½ ç›´æ¥å…‹éš†ä¸‹æ¥å°±æ˜¯ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ä½ å°±éœ€è¦ç”¨è¿™ä¸ªå‘½ä»¤æ¥<strong>é€’å½’</strong>å…‹éš†ï¼æŠŠåˆ«äººå­é¡¹ç›®çš„å†…å®¹ä¹Ÿå¯ä»¥å…‹éš†ä¸‹æ¥ï¼</p></blockquote><h3 id="æœ¬åœ°ä»“åº“åˆå§‹åŒ–"><a href="#æœ¬åœ°ä»“åº“åˆå§‹åŒ–" class="headerlink" title="æœ¬åœ°ä»“åº“åˆå§‹åŒ–"></a>æœ¬åœ°ä»“åº“åˆå§‹åŒ–</h3><ul><li><code>git init</code></li></ul><blockquote><p>åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆå§‹åŒ–gitä»“åº“.</p></blockquote><h3 id="æœ¬åœ°ä»“åº“å…¨å±€é…ç½®"><a href="#æœ¬åœ°ä»“åº“å…¨å±€é…ç½®" class="headerlink" title="æœ¬åœ°ä»“åº“å…¨å±€é…ç½®"></a>æœ¬åœ°ä»“åº“å…¨å±€é…ç½®</h3><ul><li><code>git config</code></li></ul><p>åœ¨åˆå§‹åŒ–å®ŒæˆGitæœ¬åœ°ä»“åº“åï¼Œå¼€å§‹æ­£å¼ä½¿ç”¨å‰ï¼Œæ˜¯éœ€è¦æœ‰ä¸€äº›å…¨å±€è®¾ç½®çš„ï¼Œå¦‚ç”¨æˆ·åã€é‚®ç®±ç­‰ï¼š</p><blockquote><p><code>git config --global user.name &quot;your name&quot;</code>ç”¨äºè®¾ç½®å…¨å±€ç”¨æˆ·å<br><code>git config --global uer.email &quot;your email&quot;</code>ç”¨äºè®¾ç½®å…¨å±€é‚®ç®±<br>å…¶ä¸­ï¼Œ<code>--global</code>æŒ‡å®šå…¨å±€é…ç½®ï¼Œä¸ä½¿ç”¨è¯¥å‚æ•°ï¼Œåˆ™ä¸ºå½“å‰æ‰€åœ¨ä»“åº“é…ç½®ã€‚</p></blockquote><p>äºæ˜¯å¯ä»¥å¦‚ä¸‹é…ç½®ï¼š</p><blockquote><p><code>git config --global user.name &quot;xxx&quot;</code><br><code>git config --global uer.email &quot;xxx.example.com&quot;</code></p></blockquote><p>å¯ä»¥è¾“å…¥ä»¥ä¸‹ä¸¤æ¡æŒ‡ä»¤ï¼Œæ£€æŸ¥ç”¨æˆ·åå’Œé‚®ç®±æ˜¯å¦è¾“å…¥æ­£ç¡®ã€‚</p><blockquote><p><code>git config user.name</code><br><code>git config user.email</code></p></blockquote><!-- > æˆ‘çš„Githubç”¨æˆ·åå’Œé‚®ç®±ï¼š --><script >function checkPassword() {  var password = document.getElementById("password").value;  if (password === "0000") {  document.getElementById("user").style.display = "block";  } else {  alert("ä¸å‡†å·çœ‹ï¼ï¼ï¼");  document.getElementById("user").style.display = "none";  }}</script><body title="å“’å’©">  å£ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ  <input type="password" id="password">  <button onclick="checkPassword()" style="border-radius: 5px;">ç¡®è®¤</button>  <div id="user" style="display: none;">    <p>ä¿ºæ»´Githubç”¨æˆ·åï¼šZhangKeLiang0627</p>    <p>ä¿ºæ»´Githubé‚®ç®±ï¼š111654293+ZhangKeLiang0627@users.noreply.github.com</p>  </div></body><style>  input[type="password"] {    padding: 3px;    margin: 5px;    border: 1px solid #ccc;    border-radius: 5px;  }  #user {    display: none;    background-color: #f4f4f4;    padding: 5px;    margin-top: 10px;    border-radius: 5px;    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);  }</style>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºSTM32æ·»åŠ Luaè„šæœ¬</title>
    <link href="/2023/11/14/%E4%B8%BASTM32%E6%B7%BB%E5%8A%A0Lua%E8%84%9A%E6%9C%AC/README/"/>
    <url>/2023/11/14/%E4%B8%BASTM32%E6%B7%BB%E5%8A%A0Lua%E8%84%9A%E6%9C%AC/README/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸ºSTM32æ·»åŠ Luaè„šæœ¬ğŸ¤—"><a href="#ä¸ºSTM32æ·»åŠ Luaè„šæœ¬ğŸ¤—" class="headerlink" title="ä¸ºSTM32æ·»åŠ Luaè„šæœ¬ğŸ¤—"></a>ä¸ºSTM32æ·»åŠ Luaè„šæœ¬ğŸ¤—</h2><h2 id="è½¯ä»¶ï¼škeil"><a href="#è½¯ä»¶ï¼škeil" class="headerlink" title="è½¯ä»¶ï¼škeil"></a>è½¯ä»¶ï¼škeil</h2><h2 id="æ‰€éœ€åº“ç¯å¢ƒï¼šMalloc-Fatfs"><a href="#æ‰€éœ€åº“ç¯å¢ƒï¼šMalloc-Fatfs" class="headerlink" title="æ‰€éœ€åº“ç¯å¢ƒï¼šMalloc, Fatfs"></a>æ‰€éœ€åº“ç¯å¢ƒï¼šMalloc, Fatfs</h2><ul><li>å£°æ˜ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯æ­£ç‚¹åŸå­å®¶çš„æºç ï¼Œæ„Ÿè°¢å¼€æºï¼</li><li>ä¸Šè¿°åº“ç¯å¢ƒæ˜¯ä¸ºäº†å®ç°Luaèƒ½å¤Ÿä»å¤–ç½®å­˜å‚¨ä»‹è´¨è¯»å–æ–‡ä»¶æ‰€å‡†å¤‡çš„ï¼Œå¦‚æœæ²¡æœ‰éœ€æ±‚å¯ä»¥ä¸ç”¨ã€‚</li></ul><h2 id="ä¸»æ§ï¼šSTM32F401RET6"><a href="#ä¸»æ§ï¼šSTM32F401RET6" class="headerlink" title="ä¸»æ§ï¼šSTM32F401RET6"></a>ä¸»æ§ï¼šSTM32F401RET6</h2><ul><li>è¿è¡Œé¢‘ç‡ï¼š84MHz</li><li>ROM:512KB</li><li>RAM:96KB</li></ul><h2 id="ç§»æ¤ç‰ˆæœ¬ï¼šLua-v5-3"><a href="#ç§»æ¤ç‰ˆæœ¬ï¼šLua-v5-3" class="headerlink" title="ç§»æ¤ç‰ˆæœ¬ï¼šLua-v5.3"></a>ç§»æ¤ç‰ˆæœ¬ï¼š<a href="https://github.com/lua/lua/tree/v5.3">Lua-v5.3</a></h2><ul><li>å…·ä½“ç‰ˆæœ¬æ˜¯Lua-v5.3.5</li></ul><h2 id="å…³äºLua"><a href="#å…³äºLua" class="headerlink" title="å…³äºLua"></a>å…³äºLua</h2><p>Lua è¯­è¨€æ˜¯ç”±å·´è¥¿é‡Œçº¦çƒ­å†…å¢å¤©ä¸»æ•™å¤§å­¦ ([Pontifical Catholic University of Rio de janeiro ) é‡Œçš„ä¸€ä¸ªç ”ç©¶å°ç»„ä¸ 1993å¹´å¼€å‘çš„ä¸€ç§<strong>è½»é‡å°å·§</strong>çš„<strong>è„šæœ¬ï¼ˆå¼±è¯­è¨€ï¼‰è¯­è¨€</strong>ï¼Œç”¨æ ‡å‡† C è¯­è¨€ç¼–å†™ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†åµŒå…¥åº”ç”¨ç¨‹åºä¸­ï¼Œä»è€Œä¸ºåº”ç”¨ç¨‹åºæä¾›çµæ´»çš„æ‰©å±•å’Œå®šåˆ¶åŠŸèƒ½ã€‚</p><p>ä½œä¸ºä¸€ç§æ‰©å±•è¯­è¨€ï¼ŒLua æ²¡æœ‰â€œä¸»â€ç¨‹åºçš„æ¦‚å¿µï¼šå®ƒåµŒå…¥åœ¨å®¿ä¸»å®¢æˆ·ç«¯ä¸­è¿è¡Œï¼Œç§°ä¸ºåµŒå…¥ç¨‹åºæˆ–ç®€ç§°ä¸ºå®¿ä¸»ã€‚ï¼ˆé€šå¸¸è¿™ä¸ªå®¿ä¸»æ˜¯å•æœºluaç¨‹åºï¼‰ <strong>å®¿ä¸»ç¨‹åºå¯ä»¥è°ƒç”¨å‡½æ•°æ‰§è¡Œä¸€æ®µLuaä»£ç ï¼Œå¯ä»¥è¯»å†™Luaå˜é‡ï¼Œå¯ä»¥æ³¨å†ŒLuaä»£ç è°ƒç”¨çš„Cå‡½æ•°</strong>ã€‚é€šè¿‡ä½¿ç”¨ C å‡½æ•°ï¼Œå¯ä»¥å¢å¼º Lua ä»¥åº”å¯¹å¹¿æ³›çš„ä¸åŒé¢†åŸŸï¼Œä»è€Œåˆ›å»ºå…±äº«è¯­æ³•æ¡†æ¶çš„å®šåˆ¶ç¼–ç¨‹è¯­è¨€ã€‚</p><ul><li>ç®€å•æ¥è¯´ï¼ŒLuaæ˜¯ä¸€ç§è½»é‡çº§çš„åŸºäºCç¼–å†™çš„è¿è¡Œé«˜æ•ˆçš„è„šæœ¬è¯­è¨€ï¼ˆè§£é‡Šæ€§è¯­è¨€likeï¼šPythonã€shellã€Matlabç­‰ã€‚</li><li>åœ¨å•ç‰‡æœºç¯å¢ƒä¸‹ç§»æ¤Luaï¼Œå› ä¸ºLuaå’ŒCçš„è¶…çº§æ— æ•Œå…¼å®¹æ€§ï¼Œç›¸å½“äºä½ åŒæ—¶æ‹¥æœ‰äº†ä¸¤ç§è¯­è¨€åŠ æŒï¼ˆCå’ŒLuaï¼‰ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨Luaå†…éƒ¨æä¾›çš„å‡ ä¸ªç®€å•çš„APIï¼Œä½¿å¾—Cå†…è¿è¡ŒLuaè„šæœ¬ï¼Œç‰¹åˆ«æ–¹ä¾¿ï¼Œé¿å…äº†é‡å¤çƒ§å½•çš„éº»çƒ¦ã€‚</li><li><strong>Luaè§£é‡Šå™¨çš„ç§»æ¤ï¼Œæœ€å°å ç”¨ROM: 70KBï¼Œå ç”¨RAM: 7.5KB(å¾ˆå°å¾ˆå°)</strong></li><li>ç®€å•çš„luaç¨‹åºè·ŸCç¨‹åºæ•ˆç‡æ¯”æ˜¯1ï¼š100ã€‚è€Œluaè¿ç®—é‡è¶Šå¤§ã€‚ä¸Cç¨‹åºæ•ˆç‡å·®è·å°±è¶Šå°ã€‚</li></ul><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ol><li>åœ¨githubä¸Šæ‹‰å–Lua-v5.3çš„ç‰ˆæœ¬åº“: <a href="https://github.com/lua/lua/tree/v5.3">lua&#x2F;lua at v5.3</a></li><li>å»ºç«‹ä¸€ä¸ªåŸºäºä¸»æ§STM32F401RET6çš„Keilæ–‡ä»¶(å·²ç»æœ‰çš„è¯å°±ä¸éœ€è¦ï¼Œç›´æ¥å“å“ç§»æ¤)</li></ol><h2 id="å¼€å§‹ç§»æ¤"><a href="#å¼€å§‹ç§»æ¤" class="headerlink" title="å¼€å§‹ç§»æ¤"></a>å¼€å§‹ç§»æ¤</h2><h4 id="ç§»æ¤Luaåº“æ–‡ä»¶"><a href="#ç§»æ¤Luaåº“æ–‡ä»¶" class="headerlink" title="ç§»æ¤Luaåº“æ–‡ä»¶"></a>ç§»æ¤Luaåº“æ–‡ä»¶</h4><ol><li>å°†githubä¸Šæ‹‰å–çš„ lua-5.3 æ–‡ä»¶å¤¹ç§»å…¥å·¥ç¨‹æ–‡ä»¶å¤¹ã€‚</li><li>æ‰“å¼€Keilï¼Œç‚¹å‡»é­”æœ¯æ£’ï¼Œå°†..\lua-5.3 ç›¸å¯¹è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚</li><li>ç‚¹å‡»ä¸‰ä¸ªç›’å­ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å‘½åä¸ºLuaï¼Œå°†..\lua-5.3 ç›¸å¯¹è·¯å¾„ä¸‹çš„æ‰€æœ‰.cæ–‡ä»¶ï¼ˆé™¤äº†Lua.cå’ŒLuac.cä»¥å¤–ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæ²¡æœ‰å°±ä¸ç®¡ï¼‰æ·»åŠ åˆ°å…¶ä¸­ã€‚</li><li>æ›´æ”¹ loslib.c æ–‡ä»¶ä¸‹éƒ¨åˆ†å†…å®¹ï¼š</li></ol><blockquote><ol><li>å°† <strong>os_exit(lua_State * L)</strong> å‡½æ•°ä¸­ <strong>if(L) exit(status)</strong> æ³¨é‡Šï¼Œå¹¶æ·»åŠ  <strong>status&#x3D;status</strong> è¯­å¥ã€‚</li><li>æ·»åŠ  <strong>time(time_t *time)</strong> å’Œ <strong>system(const char * string)</strong> ã€‚</li><li>å°†é­”æœ¯æ£’é‡Œçš„ <strong>Use MicroLIB</strong>Â æ¨¡å¼å…³é—­ï¼ˆä¸æ‰“å‹¾ï¼ï¼‰ã€‚</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">os_exit</span> <span class="hljs-params">(lua_State *L)</span> &#123;<br>  <span class="hljs-type">int</span> status;<br>  <span class="hljs-keyword">if</span> (lua_isboolean(L, <span class="hljs-number">1</span>))<br>    status = (lua_toboolean(L, <span class="hljs-number">1</span>) ? EXIT_SUCCESS : EXIT_FAILURE);<br>  <span class="hljs-keyword">else</span><br>    status = (<span class="hljs-type">int</span>)luaL_optinteger(L, <span class="hljs-number">1</span>, EXIT_SUCCESS);<br>  <span class="hljs-keyword">if</span> (lua_toboolean(L, <span class="hljs-number">2</span>))<br>    lua_close(L);<br><span class="hljs-comment">/* &#x27;if&#x27; to avoid warnings for unreachable &#x27;return&#x27; */</span><br>  <span class="hljs-comment">//if (L) exit(status);  </span><br><br>  status=status;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br> <br><span class="hljs-type">time_t</span> <span class="hljs-title function_">time</span><span class="hljs-params">(<span class="hljs-type">time_t</span> *time)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br> <br><span class="hljs-type">int</span> <span class="hljs-title function_">system</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * <span class="hljs-built_in">string</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></blockquote><ul><li>æœ€åå¯ä»¥å»<strong>linit.c</strong>æ³¨é‡Šä¸€äº›ç”¨ä¸åˆ°çš„Luaåº“ï¼Œå½“ç„¶ï¼Œä¸æ³¨é‡Šä¹Ÿä¸ä¼šå½±å“å¤ªå¤§ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment">** these libs are loaded by lua.c and are readily available to any Lua</span><br><span class="hljs-comment">** program</span><br><span class="hljs-comment">*/</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> luaL_Reg loadedlibs[] = &#123;<br>  &#123;<span class="hljs-string">&quot;_G&quot;</span>, luaopen_base&#125;,<br>  &#123;LUA_LOADLIBNAME, luaopen_package&#125;,<br>  &#123;LUA_COLIBNAME, luaopen_coroutine&#125;,<br>  &#123;LUA_TABLIBNAME, luaopen_table&#125;,<br><span class="hljs-comment">//  &#123;LUA_IOLIBNAME, luaopen_io&#125;,</span><br><span class="hljs-comment">//  &#123;LUA_OSLIBNAME, luaopen_os&#125;,</span><br>  &#123;LUA_STRLIBNAME, luaopen_string&#125;,<br>  &#123;LUA_MATHLIBNAME, luaopen_math&#125;,<br>  &#123;LUA_UTF8LIBNAME, luaopen_utf8&#125;,<br><span class="hljs-comment">//  &#123;LUA_DBLIBNAME, luaopen_debug&#125;,</span><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> defined(LUA_COMPAT_BITLIB)</span><br>  &#123;LUA_BITLIBNAME, luaopen_bit32&#125;,<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>  &#123;<span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="æ·»åŠ retarget-c"><a href="#æ·»åŠ retarget-c" class="headerlink" title="æ·»åŠ retarget.c"></a>æ·»åŠ retarget.c</h4><blockquote><ul><li>æ”¾å“ªéšæ„ï¼Œæˆ‘åŸºäºæ­£ç‚¹åŸå­çš„å·¥ç¨‹æ”¾åœ¨äº†systemçš„æ–‡ä»¶å¤¹ä¸­</li><li>å¼•è¿›è¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä¸ºäº†å®ç°Luaä»å¤–ç½®çš„å­˜å‚¨ä»‹è´¨ä¸­è·å–æ–‡ä»¶å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨Fatfsçš„APIå»å®ç°Luaæ‰€éœ€çš„fopenã€fcloseã€freadç­‰å‡½æ•°ï¼ˆå¦‚æœæ²¡æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼‰</li><li>å£°æ˜æœ¬æ¬¡ç§»æ¤ä½¿ç”¨çš„Fatfsï¼Œæ¥è‡ªæ­£ç‚¹åŸå­çš„Fatfså®éªŒæºç ï¼Œå¥½ç”¨çˆ±ç”¨ï¼Œç»™ä¸ªå¥½è¯„ã€‚</li></ul></blockquote>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-e064c6af" role="button" aria-expanded="false" aria-controls="collapse-e064c6af">        <div class="fold-arrow">â–¶</div>retarget.c æºç å†…å®¹      </div>      <div class="fold-collapse collapse" id="collapse-e064c6af">        <div class="fold-content">          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ctype.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;rt_sys.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;usart.h&quot;</span></span><br><br><span class="hljs-comment">// æ˜¯å¦å°†fopenä¸FatFSå…³è”èµ·æ¥</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> FATFS_EN 1</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ff.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><span class="hljs-comment">// #pragma import(__use_no_semihosting) // ç¦ç”¨åŠä¸»æœºæ¨¡å¼ //å·²ç»åœ¨usart.cä¸­å®šä¹‰</span><br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> import(__use_no_semihosting_swi) <span class="hljs-comment">// å³ä¸ä½¿ç”¨åŠä¸»æœºæ¨¡å¼ï¼Œé˜²æ­¢ç¨‹åºè¿›å…¥è½¯ä»¶ä¸­æ–­</span></span><br><span class="hljs-comment">// #pragma import(_main_redirection)</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STDIN 0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STDOUT 1</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STDERR 2</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> IS_STD(fh) ((fh) &gt;= 0 &amp;&amp; (fh) &lt;= 2)</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * These names are used during library initialization as the</span><br><span class="hljs-comment"> * file names opened for stdin, stdout, and stderr.</span><br><span class="hljs-comment"> * As we define _sys_open() to always return the same file handle,</span><br><span class="hljs-comment"> * these can be left as their default values.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> __stdin_name[] = <span class="hljs-string">&quot;:kkl&quot;</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">char</span> __stdout_name[] = <span class="hljs-string">&quot;kkl&quot;</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">char</span> __stderr_name[] = <span class="hljs-string">&quot;kkl&quot;</span>;<br><br>FILEHANDLE _sys_open(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">int</span> openmode)<br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    BYTE mode;<br>    FIL *fp;<br>    FRESULT fr;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    <span class="hljs-keyword">if</span> (name == __stdin_name)<br>        <span class="hljs-keyword">return</span> STDIN;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (name == __stdout_name)<br>    &#123;<br>        uart_init(<span class="hljs-number">115200</span>); <span class="hljs-comment">// åˆå§‹åŒ–ä¸²å£ (åœ¨mainå‡½æ•°æ‰§è¡Œå‰æ‰§è¡Œ)</span><br>        <span class="hljs-keyword">return</span> STDOUT;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (name == __stderr_name)<br>        <span class="hljs-keyword">return</span> STDERR;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">sizeof</span>(FILEHANDLE) &lt; <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">void</span> *))<br>    &#123;<br>        USART1_SendBuf(<span class="hljs-string">&quot;sizeof(FILEHANDLE) should be no less than sizeof(void *)!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>    fp = ff_memalloc(<span class="hljs-keyword">sizeof</span>(FIL)); <span class="hljs-comment">// ä½¿ç”¨è‡ªå·±çš„mallocå‡½æ•°æ›¿æ¢</span><br>    <span class="hljs-keyword">if</span> (fp == <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><br>    <span class="hljs-comment">/* http://elm-chan.org/fsw/ff/doc/open.html */</span><br>    <span class="hljs-keyword">if</span> (openmode &amp; OPEN_W)<br>    &#123;<br>        mode = FA_CREATE_ALWAYS | FA_WRITE;<br>        <span class="hljs-keyword">if</span> (openmode &amp; OPEN_PLUS)<br>            mode |= FA_READ;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (openmode &amp; OPEN_A)<br>    &#123;<br>        mode = FA_OPEN_APPEND | FA_WRITE;<br>        <span class="hljs-keyword">if</span> (openmode &amp; OPEN_PLUS)<br>            mode |= FA_READ;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        mode = FA_READ;<br>        <span class="hljs-keyword">if</span> (openmode &amp; OPEN_PLUS)<br>            mode |= FA_WRITE;<br>    &#125;<br><br>    fr = f_open(fp, name, mode);<br>    <span class="hljs-keyword">if</span> (fr == FR_OK)<br>        <span class="hljs-keyword">return</span> (<span class="hljs-type">uintptr_t</span>)fp;<br><br>    ff_memfree(fp); <span class="hljs-comment">// ä½¿ç”¨è‡ªå·±çš„freeå‡½æ•°æ›¿æ¢</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-type">int</span> _sys_close(FILEHANDLE fh)<br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    FRESULT fr;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">if</span> (IS_STD(fh))<br>    &#123;<br>        <span class="hljs-keyword">if</span> (fh == STDOUT)<br>            <span class="hljs-comment">// usart_deinit();</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    fr = f_close((FIL *)fh);<br>    <span class="hljs-keyword">if</span> (fr == FR_OK)<br>    &#123;<br>        ff_memfree((<span class="hljs-type">void</span> *)fh);<span class="hljs-comment">// ä½¿ç”¨è‡ªå·±çš„freeå‡½æ•°æ›¿æ¢</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-type">int</span> _sys_write(FILEHANDLE fh, <span class="hljs-type">const</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *buf, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">int</span> mode)<br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    FRESULT fr;<br>    UINT bw;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">if</span> (fh == STDIN)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><br>    <span class="hljs-keyword">if</span> (fh == STDOUT || fh == STDERR)<br>    &#123;<br>        USART1_SendBuf((<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *)buf);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    fr = f_write((FIL *)fh, buf, len, &amp;bw);<br>    <span class="hljs-keyword">if</span> (fr == FR_OK)<br>        <span class="hljs-keyword">return</span> len - bw;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-type">int</span> _sys_read(FILEHANDLE fh, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *buf, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">int</span> mode)<br>&#123;<br>    <span class="hljs-comment">// char ch;</span><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    FRESULT fr;<br>    UINT br;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">if</span> (fh == STDIN)<br>    &#123;<br>        <span class="hljs-keyword">while</span> (i &lt; len)<br>        &#123;<br>            <span class="hljs-comment">//     ch = usart_receive(); // è¿™é‡Œéœ€è¦å®ç°ä¸²å£æ”¶åˆ°å­—ç¬¦ä¸²ä¼ å…¥bufçš„åŠŸèƒ½</span><br>            <span class="hljs-comment">//     if (isprint(ch))</span><br>            <span class="hljs-comment">//     &#123;</span><br>            <span class="hljs-comment">//         buf[i++] = ch;</span><br>            <span class="hljs-comment">//         usart_send(ch);</span><br>            <span class="hljs-comment">//     &#125;</span><br>            <span class="hljs-comment">//     else if (ch == &#x27;\r&#x27;)</span><br>            <span class="hljs-comment">//     &#123;</span><br>            <span class="hljs-comment">//         buf[i++] = &#x27;\n&#x27;;</span><br>            <span class="hljs-comment">//         usart_send(&#x27;\n&#x27;);</span><br>            <span class="hljs-comment">//         break;</span><br>            <span class="hljs-comment">//     &#125;</span><br>            <span class="hljs-comment">//     else if (i &gt; 0 &amp;&amp; ch == &#x27;\b&#x27;)</span><br>            <span class="hljs-comment">//     &#123;</span><br>            <span class="hljs-comment">//         i--;</span><br>            <span class="hljs-comment">//         usart_send_string(&quot;\b \b&quot;, 3);</span><br>            <span class="hljs-comment">//     &#125;</span><br>            i--;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> len - i;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fh == STDOUT || fh == STDERR)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    fr = f_read((FIL *)fh, buf, len, &amp;br);<br>    <span class="hljs-keyword">if</span> (fr == FR_OK)<br>        <span class="hljs-keyword">return</span> len - br;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-comment">// æ£€æŸ¥å¥æŸ„æ˜¯å¦ä¸ºç»ˆç«¯</span><br><span class="hljs-type">int</span> _sys_istty(FILEHANDLE fh)<br>&#123;<br>    <span class="hljs-keyword">return</span> IS_STD(fh);<br>&#125;<br><br><span class="hljs-type">int</span> _sys_seek(FILEHANDLE fh, <span class="hljs-type">long</span> pos)<br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    FRESULT fr;<br><br>    <span class="hljs-keyword">if</span> (!IS_STD(fh))<br>    &#123;<br>        fr = f_lseek((FIL *)fh, pos);<br>        <span class="hljs-keyword">if</span> (fr == FR_OK)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-comment">// åˆ·æ˜Ÿå¥æŸ„å…³è”çš„ç¼“å†²åŒº</span><br><span class="hljs-type">int</span> _sys_ensure(FILEHANDLE fh)<br>&#123;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// è¿”å›æ–‡ä»¶å½“å‰é•¿åº¦</span><br><span class="hljs-type">long</span> _sys_flen(FILEHANDLE fh)<br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> FATFS_EN</span><br>    <span class="hljs-keyword">if</span> (!IS_STD(fh))<br>        <span class="hljs-keyword">return</span> f_size((FIL *)fh);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-comment">// åœ¨usart.cä¸­å®šä¹‰äº†ï¼Œæ³¨é‡Šé˜²æ­¢é‡å¤å®šä¹‰</span><br><span class="hljs-comment">// void _sys_exit(int status)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">////while(1);</span><br><span class="hljs-comment">//&#125;</span><br><br><span class="hljs-type">int</span> _sys_tmpnam(<span class="hljs-type">char</span> *name, <span class="hljs-type">int</span> fileno, <span class="hljs-type">unsigned</span> maxlength)<br>&#123;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// å°†ä¸€ä¸ªå­—ç¬¦å†™å…¥æ§åˆ¶å°</span><br><span class="hljs-type">void</span> _ttywrch(<span class="hljs-type">int</span> ch)<br>&#123;<br>    USART1_SendChar(ch);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *filename)</span><br>&#123;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">rename</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *oldname, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *newname)</span><br>&#123;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// å®šä¹‰mainå‡½æ•°argvçš„å†…å®¹</span><br><span class="hljs-type">char</span> *_sys_command_string(<span class="hljs-type">char</span> *cmd, <span class="hljs-type">int</span> len)<br>&#123;<br>    <span class="hljs-comment">// å¯ä»¥æŠŠå‘½ä»¤è¡Œå†…å®¹æ”¾å…¥å¤§å°ä¸ºlençš„cmdç¼“å­˜åŒºç„¶åè¿”å›</span><br>    <span class="hljs-comment">// ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span><br>    <span class="hljs-comment">// return &quot;./foo -f bar&quot;;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>&#125;<br><br><span class="hljs-comment">// åœ¨loslib.cä¸­å·²æœ‰å®šä¹‰ï¼Œé˜²æ­¢é‡å¤å®šä¹‰ï¼Œè¿™é‡Œæ³¨é‡Šæ‰</span><br><span class="hljs-comment">// time_t time(time_t * time)</span><br><span class="hljs-comment">//&#123;</span><br><span class="hljs-comment">//return 0;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-type">clock_t</span> <span class="hljs-title function_">clock</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="æ’æŸ¥é”™è¯¯"><a href="#æ’æŸ¥é”™è¯¯" class="headerlink" title="æ’æŸ¥é”™è¯¯"></a>æ’æŸ¥é”™è¯¯</h2><p>å› ä¸ºæˆ‘ç”¨çš„æ˜¯æ­£ç‚¹åŸå­çš„USARTçš„ä»£ç ï¼Œå®ƒä»¬å®¶æ˜¯æ²¡æœ‰å‹¾<strong>Use MicroLIB</strong>Â æ¨¡å¼çš„ï¼Œä¸€äº›é…ç½®ä¼šé‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è‡ªå·±æ”¹ä¸€äº›ä¸œè¥¿ï¼Œä¸ç„¶ç¼–è¯‘æ²¡æ³•é€šè¿‡ã€‚</p><ul><li>æ‰“å¼€usart.cï¼Œæ›´æ”¹ä»¥ä¸‹éƒ¨åˆ†å†…å®¹ï¼š</li></ul><blockquote><ol><li>æ³¨é‡Š<strong>FILE __stdout;</strong></li></ol></blockquote><p>å› ä¸ºç§»æ¤äº†Luaè§£é‡Šå™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„<strong>å †æ ˆåˆ†é…</strong>åº”è¯¥ç›¸åº”çš„åˆ†é…æ›´å¤§ä¸€äº›ã€‚</p><ul><li>æ‰“å¼€å¯åŠ¨æ–‡ä»¶ï¼ˆ<strong>startup_stm32f40_41xxx.s</strong>ï¼‰ï¼Œæ›´æ”¹ä»¥ä¸‹éƒ¨åˆ†å†…å®¹ï¼š</li></ul><blockquote><ol><li>ä¿®æ”¹æ ˆï¼š<strong>Stack_Size      EQU     0x00001000 &#x2F;&#x2F;4k &#x2F;&#x2F;ä¸è¡Œå°±æ”¹æˆ0x00004000</strong></li><li>ä¿®æ”¹å †ï¼š<strong>Heap_Size       EQU     0x00002c00 &#x2F;&#x2F;11k &#x2F;&#x2F;ä¸è¡Œå°±æ”¹æˆ0x00004000</strong></li></ol></blockquote><ul><li>æ‰“å¼€<strong>luaconf.h</strong></li></ul><blockquote><ol><li>æ·»åŠ  <strong>#define LUA_32BITS</strong></li></ol></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment">@@ LUA_32BITS enables Lua with 32-bit integers and 32-bit floats. You</span><br><span class="hljs-comment">** can also define LUA_32BITS in the make file, but changing here you</span><br><span class="hljs-comment">** ensure that all software connected to Lua will be compiled with the</span><br><span class="hljs-comment">** same configuration.</span><br><span class="hljs-comment">*/</span><br><span class="hljs-comment">/* #define LUA_32BITS */</span><br> <span class="hljs-meta">#<span class="hljs-keyword">define</span> LUA_32BITS</span><br></code></pre></td></tr></table></figure><p>OKï¼è¿™æ—¶å€™å†ç¼–è¯‘åº”è¯¥ä¸ä¼šæœ‰æŠ¥é”™ï¼Œæ˜¯å¯ä»¥é€šè¿‡çš„ï¼</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* å°†Cå‡½æ•°æ³¨å†ŒæˆLuaå¯è°ƒç”¨çš„å‡½æ•° */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lua_led_on</span><span class="hljs-params">(lua_State * L)</span><br>&#123;<br>LED0 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">/* å°†Cå‡½æ•°æ³¨å†ŒæˆLuaå¯è°ƒç”¨çš„å‡½æ•° */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lua_print_hello</span><span class="hljs-params">(lua_State * L)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello this is lua!\r\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">/* å°†Cå‡½æ•°æ³¨å†ŒæˆLuaå¯è°ƒç”¨çš„å‡½æ•° */</span><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">luaL_Reg</span> <span class="hljs-title">mylib</span>[] =</span><br>&#123;<br>&#123;<span class="hljs-string">&quot;led_on&quot;</span>,lua_led_on&#125;,<br>&#123;<span class="hljs-string">&quot;print_hello&quot;</span>,lua_print_hello&#125;,<br>&#123;<span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>&#125;<br>&#125;;<br><br><span class="hljs-comment">/* ç¼–å†™Luaè„šæœ¬ */</span><br><span class="hljs-comment">/* è¿™ä¸ªç¨‹åºä¸­ï¼Œæˆ‘ä»¬ç‚¹äº®äº†ledï¼ŒåŒæ—¶æ‰“å°äº†Hello this is lua!\r\n */</span><br><span class="hljs-comment">/* æ¥ç€ï¼Œç¨‹åºçš„ä¸»å¯¼æƒå°±ä¼šå½’è¿˜ç»™cç»§ç»­æ‰§è¡Œcç¨‹åº */</span><br><span class="hljs-comment">/* å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨è¿™é‡Œå†™ä¸ª while å¾ªç¯ï¼Œè¿™æ ·åé¢çš„cç¨‹åºéƒ½ä¸å†æ‰§è¡Œï¼Œç›´è‡³é€€å‡ºå¾ªç¯ */</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> LUA_SCRIPT_GLOBAL_ON[]=<span class="hljs-string">&quot;\</span><br><span class="hljs-string">led_on()\</span><br><span class="hljs-string">print_hello()\</span><br><span class="hljs-string">&quot;</span>;<br><br><span class="hljs-comment">/* è¿è¡ŒLuaè„šæœ¬ */</span><br><span class="hljs-comment">/* å°†è¿™ä¸ªå‡½æ•°ä¸¢åˆ°ç¨‹åºé‡Œé¢å»ï¼Œæ¯”æ–¹è¯´mainå‡½æ•°é‡Œå¤´ */</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">do_file_script</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>lua_State *L;<br>L = luaL_newstate();<br>luaopen_base(L);<br>luaL_setfuncs(L, mylib, <span class="hljs-number">0</span>); <span class="hljs-comment">// ä½¿æˆ‘ä»¬æ³¨å†Œçš„å‡½æ•°ç”Ÿæ•ˆ</span><br>luaL_dostring(L, LUA_SCRIPT_GLOBAL_ON); <span class="hljs-comment">// æ‰§è¡Œæˆ‘ä»¬å†™çš„Luaæ–‡æœ¬è„šæœ¬ç¨‹åº</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Luaè¿˜æœ‰æ›´å¤šçš„å¯ç©æ€§ï¼Œä¸Šé¢çš„ä»…ä»…åªæ˜¯å…¶ä¸­ä¸€ç§ - <strong>luaL_dostring</strong>ï¼</p><p>ä¸‹é¢å†ä»‹ç»ä¸€ç§ - <strong>luaL_dofile</strong>ï¼</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lua_led_on</span><span class="hljs-params">(lua_State * L)</span><br>&#123;<br>LED0 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">lua_print_hello</span><span class="hljs-params">(lua_State * L)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Hello this is lua!\r\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">luaL_Reg</span> <span class="hljs-title">mylib</span>[] =</span><br>&#123;<br>&#123;<span class="hljs-string">&quot;led_on&quot;</span>,lua_led_on&#125;,<br>&#123;<span class="hljs-string">&quot;print_hello&quot;</span>,lua_print_hello&#125;,<br>&#123;<span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>&#125;<br>&#125;;<br><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">do_file_script</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br><span class="hljs-type">uint8_t</span> res;<br>lua_State *L;<br>L = luaL_newstate(); <span class="hljs-comment">//åˆ›å»ºLuaè™šæ‹Ÿæœº</span><br>luaopen_base(L); <span class="hljs-comment">// é…ç½®åŸºæœ¬ç¯å¢ƒ</span><br>luaL_openlibs(L); <span class="hljs-comment">// æ³¨å†Œæ‰€ä½¿ç”¨åˆ°çš„å„ç§Luaåº“</span><br>luaL_setfuncs(L, mylib, <span class="hljs-number">0</span>); <span class="hljs-comment">// æ³¨å†Œå‡½æ•°</span><br><br>res = luaL_dofile(L, <span class="hljs-string">&quot;1:/test.lua&quot;</span>); <span class="hljs-comment">// è¿™é‡Œæˆ‘äº‹å…ˆæŠŠtest.luaå­˜å‚¨åˆ°äº†å¤–éƒ¨flashé‡Œï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥å†™å…·ä½“ä½ç½®å»è¯»å–å¹¶è¿è¡Œè¿™ä¸ªæ–‡ä»¶</span><br><span class="hljs-keyword">if</span>(res) <span class="hljs-comment">// è¿”å›1ï¼Œè¯´æ˜è¯»å–å¤±è´¥ï¼Œè¿”å›0ï¼Œä¸ºè¯»å–æˆåŠŸ</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;err\r\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ok\r\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>Luaè°ƒç”¨Cå‡½æ•°çš„æ³¨æ„äº‹é¡¹ï¼š<br>å¯¹äºå¯è¢«Luaè°ƒç”¨çš„Cå‡½æ•°è€Œè¨€ï¼Œå…¶æ¥å£å¿…é¡»éµå¾ªLuaè¦æ±‚çš„å½¢å¼ï¼Œå³<br><strong>typedef int (lua_CFunction)(lua_State*Â L);</strong><br>æ¥æ”¶ä¸€ä¸ªå‚æ•°Lua_State*ï¼Œå³Luaçš„çŠ¶æ€ï¼Œè¿”å›å€¼è¡¨ç¤ºå‹å…¥æ ˆä¸­çš„ç»“æœä¸ªæ•°ã€‚</p></blockquote><p>å¦‚æœæƒ³è¦æ³¨å†Œæœ‰ä¼ å…¥å‚æ•°ä¸”æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(lua_State *L)</span><br>&#123;<br><span class="hljs-type">int</span> count;<br><span class="hljs-type">int</span> x,y,res;<br><br>x = lua_tointeger(L,<span class="hljs-number">1</span>);<span class="hljs-comment">//è·å–Luaä¼ é€’çš„å‚æ•°</span><br>y = lua_tointeger(L,<span class="hljs-number">2</span>);<br><br>res = x + y;<span class="hljs-comment">//è®¡ç®—x+y</span><br><br>lua_pushnumber(L,res);<span class="hljs-comment">//ç»“æœå‹å…¥æ ˆä¸­ï¼Œä¾›Luaæå–</span><br><br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<span class="hljs-comment">//è¿”å›å‚æ•°ä¸ªæ•°ï¼ï¼è¿™æ˜¯é€šçŸ¥LUAè°ƒç”¨è€…æœ‰ä¸€ä¸ªå€¼è¿”å›</span><br>&#125;<br><br><span class="hljs-comment">//Luaä¸­è°ƒç”¨</span><br>local res<br>res = Add(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)<br>print(<span class="hljs-string">&quot;Result = &quot;</span>,res)<br></code></pre></td></tr></table></figure><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><p>å†™å®Œå•¦â€¦</p><h3 id="Author-kkl"><a href="#Author-kkl" class="headerlink" title="Author: @kkl"></a>Author: @kkl</h3>]]></content>
    
    
    <categories>
      
      <category>Study Page</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MCU</tag>
      
      <tag>Lua</tag>
      
      <tag>STM32</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
